(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function zT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cf={exports:{}},cl={},df={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function $T(){if(Cy)return ke;Cy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),I=Symbol.iterator;function P(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,W={};function j(O,Q,fe){this.props=O,this.context=Q,this.refs=W,this.updater=fe||D}j.prototype.isReactComponent={},j.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=j.prototype;function X(O,Q,fe){this.props=O,this.context=Q,this.refs=W,this.updater=fe||D}var ie=X.prototype=new K;ie.constructor=X,M(ie,j.prototype),ie.isPureReactComponent=!0;var he=Array.isArray,Pe=Object.prototype.hasOwnProperty,Se={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function T(O,Q,fe){var Ae,Re={},Oe=null,Be=null;if(Q!=null)for(Ae in Q.ref!==void 0&&(Be=Q.ref),Q.key!==void 0&&(Oe=""+Q.key),Q)Pe.call(Q,Ae)&&!b.hasOwnProperty(Ae)&&(Re[Ae]=Q[Ae]);var ze=arguments.length-2;if(ze===1)Re.children=fe;else if(1<ze){for(var Ge=Array(ze),St=0;St<ze;St++)Ge[St]=arguments[St+2];Re.children=Ge}if(O&&O.defaultProps)for(Ae in ze=O.defaultProps,ze)Re[Ae]===void 0&&(Re[Ae]=ze[Ae]);return{$$typeof:n,type:O,key:Oe,ref:Be,props:Re,_owner:Se.current}}function C(O,Q){return{$$typeof:n,type:O.type,key:Q,ref:O.ref,props:O.props,_owner:O._owner}}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function N(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return Q[fe]})}var L=/\/+/g;function A(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):Q.toString(36)}function at(O,Q,fe,Ae,Re){var Oe=typeof O;(Oe==="undefined"||Oe==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(Oe){case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case n:case e:Be=!0}}if(Be)return Be=O,Re=Re(Be),O=Ae===""?"."+A(Be,0):Ae,he(Re)?(fe="",O!=null&&(fe=O.replace(L,"$&/")+"/"),at(Re,Q,fe,"",function(St){return St})):Re!=null&&(k(Re)&&(Re=C(Re,fe+(!Re.key||Be&&Be.key===Re.key?"":(""+Re.key).replace(L,"$&/")+"/")+O)),Q.push(Re)),1;if(Be=0,Ae=Ae===""?".":Ae+":",he(O))for(var ze=0;ze<O.length;ze++){Oe=O[ze];var Ge=Ae+A(Oe,ze);Be+=at(Oe,Q,fe,Ge,Re)}else if(Ge=P(O),typeof Ge=="function")for(O=Ge.call(O),ze=0;!(Oe=O.next()).done;)Oe=Oe.value,Ge=Ae+A(Oe,ze++),Be+=at(Oe,Q,fe,Ge,Re);else if(Oe==="object")throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Be}function Ft(O,Q,fe){if(O==null)return O;var Ae=[],Re=0;return at(O,Ae,"","",function(Oe){return Q.call(fe,Oe,Re++)}),Ae}function Ut(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var We={current:null},re={transition:null},pe={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:re,ReactCurrentOwner:Se};function oe(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Ft,forEach:function(O,Q,fe){Ft(O,function(){Q.apply(this,arguments)},fe)},count:function(O){var Q=0;return Ft(O,function(){Q++}),Q},toArray:function(O){return Ft(O,function(Q){return Q})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ke.Component=j,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=X,ke.StrictMode=i,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,ke.act=oe,ke.cloneElement=function(O,Q,fe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ae=M({},O.props),Re=O.key,Oe=O.ref,Be=O._owner;if(Q!=null){if(Q.ref!==void 0&&(Oe=Q.ref,Be=Se.current),Q.key!==void 0&&(Re=""+Q.key),O.type&&O.type.defaultProps)var ze=O.type.defaultProps;for(Ge in Q)Pe.call(Q,Ge)&&!b.hasOwnProperty(Ge)&&(Ae[Ge]=Q[Ge]===void 0&&ze!==void 0?ze[Ge]:Q[Ge])}var Ge=arguments.length-2;if(Ge===1)Ae.children=fe;else if(1<Ge){ze=Array(Ge);for(var St=0;St<Ge;St++)ze[St]=arguments[St+2];Ae.children=ze}return{$$typeof:n,type:O.type,key:Re,ref:Oe,props:Ae,_owner:Be}},ke.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},ke.createElement=T,ke.createFactory=function(O){var Q=T.bind(null,O);return Q.type=O,Q},ke.createRef=function(){return{current:null}},ke.forwardRef=function(O){return{$$typeof:f,render:O}},ke.isValidElement=k,ke.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:Ut}},ke.memo=function(O,Q){return{$$typeof:y,type:O,compare:Q===void 0?null:Q}},ke.startTransition=function(O){var Q=re.transition;re.transition={};try{O()}finally{re.transition=Q}},ke.unstable_act=oe,ke.useCallback=function(O,Q){return We.current.useCallback(O,Q)},ke.useContext=function(O){return We.current.useContext(O)},ke.useDebugValue=function(){},ke.useDeferredValue=function(O){return We.current.useDeferredValue(O)},ke.useEffect=function(O,Q){return We.current.useEffect(O,Q)},ke.useId=function(){return We.current.useId()},ke.useImperativeHandle=function(O,Q,fe){return We.current.useImperativeHandle(O,Q,fe)},ke.useInsertionEffect=function(O,Q){return We.current.useInsertionEffect(O,Q)},ke.useLayoutEffect=function(O,Q){return We.current.useLayoutEffect(O,Q)},ke.useMemo=function(O,Q){return We.current.useMemo(O,Q)},ke.useReducer=function(O,Q,fe){return We.current.useReducer(O,Q,fe)},ke.useRef=function(O){return We.current.useRef(O)},ke.useState=function(O){return We.current.useState(O)},ke.useSyncExternalStore=function(O,Q,fe){return We.current.useSyncExternalStore(O,Q,fe)},ke.useTransition=function(){return We.current.useTransition()},ke.version="18.3.1",ke}var Py;function sp(){return Py||(Py=1,df.exports=$T()),df.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function HT(){if(Ay)return cl;Ay=1;var n=sp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,y){var _,I={},P=null,D=null;y!==void 0&&(P=""+y),p.key!==void 0&&(P=""+p.key),p.ref!==void 0&&(D=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(I[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)I[_]===void 0&&(I[_]=p[_]);return{$$typeof:e,type:f,key:P,ref:D,props:I,_owner:o.current}}return cl.Fragment=t,cl.jsx=d,cl.jsxs=d,cl}var Ry;function WT(){return Ry||(Ry=1,cf.exports=HT()),cf.exports}var H=WT(),q=sp();const Ss=zT(q);var mc={},hf={exports:{}},an={},ff={exports:{}},pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function qT(){return ky||(ky=1,function(n){function e(re,pe){var oe=re.length;re.push(pe);e:for(;0<oe;){var O=oe-1>>>1,Q=re[O];if(0<o(Q,pe))re[O]=pe,re[oe]=Q,oe=O;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var pe=re[0],oe=re.pop();if(oe!==pe){re[0]=oe;e:for(var O=0,Q=re.length,fe=Q>>>1;O<fe;){var Ae=2*(O+1)-1,Re=re[Ae],Oe=Ae+1,Be=re[Oe];if(0>o(Re,oe))Oe<Q&&0>o(Be,Re)?(re[O]=Be,re[Oe]=oe,O=Oe):(re[O]=Re,re[Ae]=oe,O=Ae);else if(Oe<Q&&0>o(Be,oe))re[O]=Be,re[Oe]=oe,O=Oe;else break e}}return pe}function o(re,pe){var oe=re.sortIndex-pe.sortIndex;return oe!==0?oe:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var p=[],y=[],_=1,I=null,P=3,D=!1,M=!1,W=!1,j=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(re){for(var pe=t(y);pe!==null;){if(pe.callback===null)i(y);else if(pe.startTime<=re)i(y),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(y)}}function he(re){if(W=!1,ie(re),!M)if(t(p)!==null)M=!0,Ut(Pe);else{var pe=t(y);pe!==null&&We(he,pe.startTime-re)}}function Pe(re,pe){M=!1,W&&(W=!1,K(T),T=-1),D=!0;var oe=P;try{for(ie(pe),I=t(p);I!==null&&(!(I.expirationTime>pe)||re&&!N());){var O=I.callback;if(typeof O=="function"){I.callback=null,P=I.priorityLevel;var Q=O(I.expirationTime<=pe);pe=n.unstable_now(),typeof Q=="function"?I.callback=Q:I===t(p)&&i(p),ie(pe)}else i(p);I=t(p)}if(I!==null)var fe=!0;else{var Ae=t(y);Ae!==null&&We(he,Ae.startTime-pe),fe=!1}return fe}finally{I=null,P=oe,D=!1}}var Se=!1,b=null,T=-1,C=5,k=-1;function N(){return!(n.unstable_now()-k<C)}function L(){if(b!==null){var re=n.unstable_now();k=re;var pe=!0;try{pe=b(!0,re)}finally{pe?A():(Se=!1,b=null)}}else Se=!1}var A;if(typeof X=="function")A=function(){X(L)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,Ft=at.port2;at.port1.onmessage=L,A=function(){Ft.postMessage(null)}}else A=function(){j(L,0)};function Ut(re){b=re,Se||(Se=!0,A())}function We(re,pe){T=j(function(){re(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){M||D||(M=!0,Ut(Pe))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return P},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(P){case 1:case 2:case 3:var pe=3;break;default:pe=P}var oe=P;P=pe;try{return re()}finally{P=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=P;P=re;try{return pe()}finally{P=oe}},n.unstable_scheduleCallback=function(re,pe,oe){var O=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,re={id:_++,callback:pe,priorityLevel:re,startTime:oe,expirationTime:Q,sortIndex:-1},oe>O?(re.sortIndex=oe,e(y,re),t(p)===null&&re===t(y)&&(W?(K(T),T=-1):W=!0,We(he,oe-O))):(re.sortIndex=Q,e(p,re),M||D||(M=!0,Ut(Pe))),re},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(re){var pe=P;return function(){var oe=P;P=pe;try{return re.apply(this,arguments)}finally{P=oe}}}}(pf)),pf}var by;function GT(){return by||(by=1,ff.exports=qT()),ff.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function KT(){if(xy)return an;xy=1;var n=sp(),e=GT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){d(r,s),d(r+"Capture",s)}function d(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},I={};function P(r){return p.call(I,r)?!0:p.call(_,r)?!1:y.test(r)?I[r]=!0:(_[r]=!0,!1)}function D(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,s,a,c){if(s===null||typeof s>"u"||D(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function W(r,s,a,c,h,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new W(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];j[s]=new W(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new W(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new W(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new W(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new W(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new W(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new W(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new W(r,5,!1,r.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(K,X);j[s]=new W(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(K,X);j[s]=new W(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(K,X);j[s]=new W(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new W(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new W(r,1,!1,r.toLowerCase(),null,!0,!0)});function ie(r,s,a,c){var h=j.hasOwnProperty(s)?j[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,a,h,c)&&(a=null),c||h===null?P(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?r.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var he=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pe=Symbol.for("react.element"),Se=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),Ft=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),We=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,O;function Q(r){if(O===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var fe=!1;function Ae(r,s){if(!r||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var c=B}Reflect.construct(r,[],s)}else{try{s.call()}catch(B){c=B}r.call(s.prototype)}else{try{throw Error()}catch(B){c=B}r()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var h=B.stack.split(`
`),g=c.stack.split(`
`),w=h.length-1,S=g.length-1;1<=w&&0<=S&&h[w]!==g[S];)S--;for(;1<=w&&0<=S;w--,S--)if(h[w]!==g[S]){if(w!==1||S!==1)do if(w--,S--,0>S||h[w]!==g[S]){var R=`
`+h[w].replace(" at new "," at ");return r.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",r.displayName)),R}while(1<=w&&0<=S);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function Re(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case Se:return"Portal";case C:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case at:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ft:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case Ut:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}function Be(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ge(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(r){var s=Ge(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ir(r){r._valueTracker||(r._valueTracker=St(r))}function Bs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Ge(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function ni(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function qi(r,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function zs(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=ze(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ga(r,s){s=s.checked,s!=null&&ie(r,"checked",s,!1)}function ya(r,s){ga(r,s);var a=ze(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?$s(r,s.type,a):s.hasOwnProperty("defaultValue")&&$s(r,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function eu(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function $s(r,s,a){(s!=="number"||ni(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Sr=Array.isArray;function Cr(r,s,a,c){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function va(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Hs(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Sr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ze(a)}}function Ws(r,s){var a=ze(s.value),c=ze(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function wa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function gt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?gt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Pr,_a=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,h)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Pr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ri(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ki=["Webkit","ms","Moz","O"];Object.keys(Gi).forEach(function(r){Ki.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Gi[s]=Gi[r]})});function Ea(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Gi.hasOwnProperty(r)&&Gi[r]?(""+s).trim():s+"px"}function Ta(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=Ea(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,h):r[a]=h}}var Ia=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(r,s){if(s){if(Ia[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ca(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qi=null;function qs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gs=null,Sn=null,ir=null;function Ks(r){if(r=Qa(r)){if(typeof Gs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=bu(s),Gs(r.stateNode,r.type,s))}}function sr(r){Sn?ir?ir.push(r):ir=[r]:Sn=r}function Pa(){if(Sn){var r=Sn,s=ir;if(ir=Sn=null,Ks(r),s)for(r=0;r<s.length;r++)Ks(s[r])}}function Yi(r,s){return r(s)}function Aa(){}var Ar=!1;function Ra(r,s,a){if(Ar)return r(s,a);Ar=!0;try{return Yi(r,s,a)}finally{Ar=!1,(Sn!==null||ir!==null)&&(Aa(),Pa())}}function lt(r,s){var a=r.stateNode;if(a===null)return null;var c=bu(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Qs=!1;if(f)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Qs=!1}function Xi(r,s,a,c,h,g,w,S,R){var B=Array.prototype.slice.call(arguments,3);try{s.apply(a,B)}catch(J){this.onError(J)}}var Ji=!1,Ys=null,jn=!1,ka=null,Md={onError:function(r){Ji=!0,Ys=r}};function Xs(r,s,a,c,h,g,w,S,R){Ji=!1,Ys=null,Xi.apply(Md,arguments)}function tu(r,s,a,c,h,g,w,S,R){if(Xs.apply(this,arguments),Ji){if(Ji){var B=Ys;Ji=!1,Ys=null}else throw Error(t(198));jn||(jn=!0,ka=B)}}function Bn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Zi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function zn(r){if(Bn(r)!==r)throw Error(t(188))}function nu(r){var s=r.alternate;if(!s){if(s=Bn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var h=a.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===a)return zn(h),r;if(g===c)return zn(h),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=h,c=g;else{for(var w=!1,S=h.child;S;){if(S===a){w=!0,a=h,c=g;break}if(S===c){w=!0,c=h,a=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===a){w=!0,a=g,c=h;break}if(S===c){w=!0,c=g,a=h;break}S=S.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ba(r){return r=nu(r),r!==null?Js(r):null}function Js(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Js(r);if(s!==null)return s;r=r.sibling}return null}var Zs=e.unstable_scheduleCallback,xa=e.unstable_cancelCallback,ru=e.unstable_shouldYield,Fd=e.unstable_requestPaint,Ke=e.unstable_now,iu=e.unstable_getCurrentPriorityLevel,es=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,Da=e.unstable_LowPriority,su=e.unstable_IdlePriority,ts=null,fn=null;function ou(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ts,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:lu,Na=Math.log,au=Math.LN2;function lu(r){return r>>>=0,r===0?32:31-(Na(r)/au|0)|0}var eo=64,to=4194304;function si(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ns(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,h=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var S=w&~h;S!==0?c=si(S):(g&=w,g!==0&&(c=si(g)))}else w=a&~h,w!==0?c=si(w):g!==0&&(c=si(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&h)&&(h=c&-c,g=s&-s,h>=g||h===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Qt(s),h=1<<a,c|=r[a],s&=~h;return c}function Ud(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Qt(g),S=1<<w,R=h[w];R===-1?(!(S&a)||S&c)&&(h[w]=Ud(S,s)):R<=s&&(r.expiredLanes|=S),g&=~S}}function pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function rs(){var r=eo;return eo<<=1,!(eo&4194240)&&(eo=64),r}function oi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function ai(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=a}function qe(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-Qt(a),g=1<<h;s[h]=0,c[h]=-1,r[h]=-1,a&=~g}}function li(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Qt(a),h=1<<c;h&s|r[c]&s&&(r[c]|=s),a&=~h}}var De=0;function ui(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var uu,no,cu,du,hu,Oa=!1,or=[],xt=null,$n=null,Hn=null,ci=new Map,Pn=new Map,ar=[],jd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fu(r,s){switch(r){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":ci.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(s.pointerId)}}function Zt(r,s,a,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Qa(s),s!==null&&no(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Bd(r,s,a,c,h){switch(s){case"focusin":return xt=Zt(xt,r,s,a,c,h),!0;case"dragenter":return $n=Zt($n,r,s,a,c,h),!0;case"mouseover":return Hn=Zt(Hn,r,s,a,c,h),!0;case"pointerover":var g=h.pointerId;return ci.set(g,Zt(ci.get(g)||null,r,s,a,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Pn.set(g,Zt(Pn.get(g)||null,r,s,a,c,h)),!0}return!1}function pu(r){var s=ls(r.target);if(s!==null){var a=Bn(s);if(a!==null){if(s=a.tag,s===13){if(s=Zi(a),s!==null){r.blockedOn=s,hu(r.priority,function(){cu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=ro(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Qi=c,a.target.dispatchEvent(c),Qi=null}else return s=Qa(a),s!==null&&no(s),r.blockedOn=a,!1;s.shift()}return!0}function is(r,s,a){kr(r)&&a.delete(s)}function mu(){Oa=!1,xt!==null&&kr(xt)&&(xt=null),$n!==null&&kr($n)&&($n=null),Hn!==null&&kr(Hn)&&(Hn=null),ci.forEach(is),Pn.forEach(is)}function Wn(r,s){r.blockedOn===s&&(r.blockedOn=null,Oa||(Oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mu)))}function qn(r){function s(h){return Wn(h,r)}if(0<or.length){Wn(or[0],r);for(var a=1;a<or.length;a++){var c=or[a];c.blockedOn===r&&(c.blockedOn=null)}}for(xt!==null&&Wn(xt,r),$n!==null&&Wn($n,r),Hn!==null&&Wn(Hn,r),ci.forEach(s),Pn.forEach(s),a=0;a<ar.length;a++)c=ar[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<ar.length&&(a=ar[0],a.blockedOn===null);)pu(a),a.blockedOn===null&&ar.shift()}var br=he.ReactCurrentBatchConfig,di=!0;function Ze(r,s,a,c){var h=De,g=br.transition;br.transition=null;try{De=1,La(r,s,a,c)}finally{De=h,br.transition=g}}function zd(r,s,a,c){var h=De,g=br.transition;br.transition=null;try{De=4,La(r,s,a,c)}finally{De=h,br.transition=g}}function La(r,s,a,c){if(di){var h=ro(r,s,a,c);if(h===null)Zd(r,s,c,ss,a),fu(r,c);else if(Bd(h,r,s,a,c))c.stopPropagation();else if(fu(r,c),s&4&&-1<jd.indexOf(r)){for(;h!==null;){var g=Qa(h);if(g!==null&&uu(g),g=ro(r,s,a,c),g===null&&Zd(r,s,c,ss,a),g===h)break;h=g}h!==null&&c.stopPropagation()}else Zd(r,s,c,null,a)}}var ss=null;function ro(r,s,a,c){if(ss=null,r=qs(c),r=ls(r),r!==null)if(s=Bn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Zi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ss=r,null}function Va(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iu()){case es:return 1;case ii:return 4;case Cn:case Da:return 16;case su:return 536870912;default:return 16}default:return 16}}var mn=null,io=null,en=null;function Ma(){if(en)return en;var r,s=io,a=s.length,c,h="value"in mn?mn.value:mn.textContent,g=h.length;for(r=0;r<a&&s[r]===h[r];r++);var w=a-r;for(c=1;c<=w&&s[a-c]===h[g-c];c++);return en=h.slice(r,1<c?1-c:void 0)}function so(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function lr(){return!0}function Fa(){return!1}function Dt(r){function s(a,c,h,g,w){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?lr:Fa,this.isPropagationStopped=Fa,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),s}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Dt(Gn),ur=oe({},Gn,{view:0,detail:0}),$d=Dt(ur),ao,xr,hi,os=oe({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hi&&(hi&&r.type==="mousemove"?(ao=r.screenX-hi.screenX,xr=r.screenY-hi.screenY):xr=ao=0,hi=r),ao)},movementY:function(r){return"movementY"in r?r.movementY:xr}}),lo=Dt(os),Ua=oe({},os,{dataTransfer:0}),gu=Dt(Ua),uo=oe({},ur,{relatedTarget:0}),co=Dt(uo),yu=oe({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=Dt(yu),vu=oe({},Gn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),wu=Dt(vu),_u=oe({},Gn,{data:0}),ja=Dt(_u),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Eu[r])?!!s[r]:!1}function cr(){return Tu}var u=oe({},ur,{key:function(r){if(r.key){var s=ho[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=so(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(r){return r.type==="keypress"?so(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?so(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Dt(u),v=oe({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Dt(v),V=oe({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),z=Dt(V),ne=oe({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Dt(ne),vt=oe({},os,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Dt(vt),Ct=[9,13,27,32],ft=f&&"CompositionEvent"in window,An=null;f&&"documentMode"in document&&(An=document.documentMode);var gn=f&&"TextEvent"in window&&!An,as=f&&(!ft||An&&8<An&&11>=An),fo=" ",wm=!1;function _m(r,s){switch(r){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Em(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var po=!1;function UE(r,s){switch(r){case"compositionend":return Em(s);case"keypress":return s.which!==32?null:(wm=!0,fo);case"textInput":return r=s.data,r===fo&&wm?null:r;default:return null}}function jE(r,s){if(po)return r==="compositionend"||!ft&&_m(r,s)?(r=Ma(),en=io=mn=null,po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return as&&s.locale!=="ko"?null:s.data;default:return null}}var BE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!BE[r.type]:s==="textarea"}function Im(r,s,a,c){sr(c),s=Au(s,"onChange"),0<s.length&&(a=new oo("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Ba=null,za=null;function zE(r){Bm(r,0)}function Iu(r){var s=wo(r);if(Bs(s))return r}function $E(r,s){if(r==="change")return s}var Sm=!1;if(f){var Hd;if(f){var Wd="oninput"in document;if(!Wd){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),Wd=typeof Cm.oninput=="function"}Hd=Wd}else Hd=!1;Sm=Hd&&(!document.documentMode||9<document.documentMode)}function Pm(){Ba&&(Ba.detachEvent("onpropertychange",Am),za=Ba=null)}function Am(r){if(r.propertyName==="value"&&Iu(za)){var s=[];Im(s,za,r,qs(r)),Ra(zE,s)}}function HE(r,s,a){r==="focusin"?(Pm(),Ba=s,za=a,Ba.attachEvent("onpropertychange",Am)):r==="focusout"&&Pm()}function WE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Iu(za)}function qE(r,s){if(r==="click")return Iu(s)}function GE(r,s){if(r==="input"||r==="change")return Iu(s)}function KE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Kn=typeof Object.is=="function"?Object.is:KE;function $a(r,s){if(Kn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!p.call(s,h)||!Kn(r[h],s[h]))return!1}return!0}function Rm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function km(r,s){var a=Rm(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rm(a)}}function bm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?bm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function xm(){for(var r=window,s=ni();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ni(r.document)}return s}function qd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function QE(r){var s=xm(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&bm(a.ownerDocument.documentElement,a)){if(c!==null&&qd(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!r.extend&&g>c&&(h=c,c=g,g=h),h=km(a,g);var w=km(a,c);h&&w&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var YE=f&&"documentMode"in document&&11>=document.documentMode,mo=null,Gd=null,Ha=null,Kd=!1;function Dm(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kd||mo==null||mo!==ni(c)||(c=mo,"selectionStart"in c&&qd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ha&&$a(Ha,c)||(Ha=c,c=Au(Gd,"onSelect"),0<c.length&&(s=new oo("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=mo)))}function Su(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var go={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},Qd={},Nm={};f&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Cu(r){if(Qd[r])return Qd[r];if(!go[r])return r;var s=go[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Nm)return Qd[r]=s[a];return r}var Om=Cu("animationend"),Lm=Cu("animationiteration"),Vm=Cu("animationstart"),Mm=Cu("transitionend"),Fm=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(r,s){Fm.set(r,s),l(s,[r])}for(var Yd=0;Yd<Um.length;Yd++){var Xd=Um[Yd],XE=Xd.toLowerCase(),JE=Xd[0].toUpperCase()+Xd.slice(1);fi(XE,"on"+JE)}fi(Om,"onAnimationEnd"),fi(Lm,"onAnimationIteration"),fi(Vm,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(Mm,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function jm(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,tu(c,s,void 0,r),r.currentTarget=null}function Bm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var S=c[w],R=S.instance,B=S.currentTarget;if(S=S.listener,R!==g&&h.isPropagationStopped())break e;jm(h,S,B),g=R}else for(w=0;w<c.length;w++){if(S=c[w],R=S.instance,B=S.currentTarget,S=S.listener,R!==g&&h.isPropagationStopped())break e;jm(h,S,B),g=R}}}if(jn)throw r=ka,jn=!1,ka=null,r}function Xe(r,s){var a=s[sh];a===void 0&&(a=s[sh]=new Set);var c=r+"__bubble";a.has(c)||(zm(s,r,2,!1),a.add(c))}function Jd(r,s,a){var c=0;s&&(c|=4),zm(a,r,c,s)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function qa(r){if(!r[Pu]){r[Pu]=!0,i.forEach(function(a){a!=="selectionchange"&&(ZE.has(a)||Jd(a,!1,r),Jd(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pu]||(s[Pu]=!0,Jd("selectionchange",!1,s))}}function zm(r,s,a,c){switch(Va(s)){case 1:var h=Ze;break;case 4:h=zd;break;default:h=La}a=h.bind(null,s,a,r),h=void 0,!Qs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function Zd(r,s,a,c,h){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var S=c.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var R=w.tag;if((R===3||R===4)&&(R=w.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;w=w.return}for(;S!==null;){if(w=ls(S),w===null)return;if(R=w.tag,R===5||R===6){c=g=w;continue e}S=S.parentNode}}c=c.return}Ra(function(){var B=g,J=qs(a),Z=[];e:{var Y=Fm.get(r);if(Y!==void 0){var se=oo,ue=r;switch(r){case"keypress":if(so(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ue="focus",se=co;break;case"focusout":ue="blur",se=co;break;case"beforeblur":case"afterblur":se=co;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=z;break;case Om:case Lm:case Vm:se=Dr;break;case Mm:se=He;break;case"scroll":se=$d;break;case"wheel":se=Le;break;case"copy":case"cut":case"paste":se=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var ce=(s&4)!==0,ut=!ce&&r==="scroll",F=ce?Y!==null?Y+"Capture":null:Y;ce=[];for(var x=B,U;x!==null;){U=x;var te=U.stateNode;if(U.tag===5&&te!==null&&(U=te,F!==null&&(te=lt(x,F),te!=null&&ce.push(Ga(x,te,U)))),ut)break;x=x.return}0<ce.length&&(Y=new se(Y,ue,null,a,J),Z.push({event:Y,listeners:ce}))}}if(!(s&7)){e:{if(Y=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",Y&&a!==Qi&&(ue=a.relatedTarget||a.fromElement)&&(ls(ue)||ue[Nr]))break e;if((se||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=B,ue=ue?ls(ue):null,ue!==null&&(ut=Bn(ue),ue!==ut||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=B),se!==ue)){if(ce=lo,te="onMouseLeave",F="onMouseEnter",x="mouse",(r==="pointerout"||r==="pointerover")&&(ce=E,te="onPointerLeave",F="onPointerEnter",x="pointer"),ut=se==null?Y:wo(se),U=ue==null?Y:wo(ue),Y=new ce(te,x+"leave",se,a,J),Y.target=ut,Y.relatedTarget=U,te=null,ls(J)===B&&(ce=new ce(F,x+"enter",ue,a,J),ce.target=U,ce.relatedTarget=ut,te=ce),ut=te,se&&ue)t:{for(ce=se,F=ue,x=0,U=ce;U;U=yo(U))x++;for(U=0,te=F;te;te=yo(te))U++;for(;0<x-U;)ce=yo(ce),x--;for(;0<U-x;)F=yo(F),U--;for(;x--;){if(ce===F||F!==null&&ce===F.alternate)break t;ce=yo(ce),F=yo(F)}ce=null}else ce=null;se!==null&&$m(Z,Y,se,ce,!1),ue!==null&&ut!==null&&$m(Z,ut,ue,ce,!0)}}e:{if(Y=B?wo(B):window,se=Y.nodeName&&Y.nodeName.toLowerCase(),se==="select"||se==="input"&&Y.type==="file")var de=$E;else if(Tm(Y))if(Sm)de=GE;else{de=WE;var me=HE}else(se=Y.nodeName)&&se.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(de=qE);if(de&&(de=de(r,B))){Im(Z,de,a,J);break e}me&&me(r,Y,B),r==="focusout"&&(me=Y._wrapperState)&&me.controlled&&Y.type==="number"&&$s(Y,"number",Y.value)}switch(me=B?wo(B):window,r){case"focusin":(Tm(me)||me.contentEditable==="true")&&(mo=me,Gd=B,Ha=null);break;case"focusout":Ha=Gd=mo=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,Dm(Z,a,J);break;case"selectionchange":if(YE)break;case"keydown":case"keyup":Dm(Z,a,J)}var ge;if(ft)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else po?_m(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(as&&a.locale!=="ko"&&(po||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&po&&(ge=Ma()):(mn=J,io="value"in mn?mn.value:mn.textContent,po=!0)),me=Au(B,Ee),0<me.length&&(Ee=new ja(Ee,r,null,a,J),Z.push({event:Ee,listeners:me}),ge?Ee.data=ge:(ge=Em(a),ge!==null&&(Ee.data=ge)))),(ge=gn?UE(r,a):jE(r,a))&&(B=Au(B,"onBeforeInput"),0<B.length&&(J=new ja("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:B}),J.data=ge))}Bm(Z,s)})}function Ga(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Au(r,s){for(var a=s+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=lt(r,a),g!=null&&c.unshift(Ga(r,g,h)),g=lt(r,s),g!=null&&c.push(Ga(r,g,h))),r=r.return}return c}function yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function $m(r,s,a,c,h){for(var g=s._reactName,w=[];a!==null&&a!==c;){var S=a,R=S.alternate,B=S.stateNode;if(R!==null&&R===c)break;S.tag===5&&B!==null&&(S=B,h?(R=lt(a,g),R!=null&&w.unshift(Ga(a,R,S))):h||(R=lt(a,g),R!=null&&w.push(Ga(a,R,S)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var eT=/\r\n?/g,tT=/\u0000|\uFFFD/g;function Hm(r){return(typeof r=="string"?r:""+r).replace(eT,`
`).replace(tT,"")}function Ru(r,s,a){if(s=Hm(s),Hm(r)!==s&&a)throw Error(t(425))}function ku(){}var eh=null,th=null;function nh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rh=typeof setTimeout=="function"?setTimeout:void 0,nT=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(r){return Wm.resolve(null).then(r).catch(iT)}:rh;function iT(r){setTimeout(function(){throw r})}function ih(r,s){var a=s,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){r.removeChild(h),qn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);qn(s)}function pi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function qm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var vo=Math.random().toString(36).slice(2),dr="__reactFiber$"+vo,Ka="__reactProps$"+vo,Nr="__reactContainer$"+vo,sh="__reactEvents$"+vo,sT="__reactListeners$"+vo,oT="__reactHandles$"+vo;function ls(r){var s=r[dr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Nr]||a[dr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=qm(r);r!==null;){if(a=r[dr])return a;r=qm(r)}return s}r=a,a=r.parentNode}return null}function Qa(r){return r=r[dr]||r[Nr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function wo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function bu(r){return r[Ka]||null}var oh=[],_o=-1;function mi(r){return{current:r}}function Je(r){0>_o||(r.current=oh[_o],oh[_o]=null,_o--)}function Qe(r,s){_o++,oh[_o]=r.current,r.current=s}var gi={},jt=mi(gi),tn=mi(!1),us=gi;function Eo(r,s){var a=r.type.contextTypes;if(!a)return gi;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in a)h[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function nn(r){return r=r.childContextTypes,r!=null}function xu(){Je(tn),Je(jt)}function Gm(r,s,a){if(jt.current!==gi)throw Error(t(168));Qe(jt,s),Qe(tn,a)}function Km(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(t(108,Be(r)||"Unknown",h));return oe({},a,c)}function Du(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||gi,us=jt.current,Qe(jt,r),Qe(tn,tn.current),!0}function Qm(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Km(r,s,us),c.__reactInternalMemoizedMergedChildContext=r,Je(tn),Je(jt),Qe(jt,r)):Je(tn),Qe(tn,a)}var Or=null,Nu=!1,ah=!1;function Ym(r){Or===null?Or=[r]:Or.push(r)}function aT(r){Nu=!0,Ym(r)}function yi(){if(!ah&&Or!==null){ah=!0;var r=0,s=De;try{var a=Or;for(De=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Or=null,Nu=!1}catch(h){throw Or!==null&&(Or=Or.slice(r+1)),Zs(es,yi),h}finally{De=s,ah=!1}}return null}var To=[],Io=0,Ou=null,Lu=0,Rn=[],kn=0,cs=null,Lr=1,Vr="";function ds(r,s){To[Io++]=Lu,To[Io++]=Ou,Ou=r,Lu=s}function Xm(r,s,a){Rn[kn++]=Lr,Rn[kn++]=Vr,Rn[kn++]=cs,cs=r;var c=Lr;r=Vr;var h=32-Qt(c)-1;c&=~(1<<h),a+=1;var g=32-Qt(s)+h;if(30<g){var w=h-h%5;g=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Lr=1<<32-Qt(s)+h|a<<h|c,Vr=g+r}else Lr=1<<g|a<<h|c,Vr=r}function lh(r){r.return!==null&&(ds(r,1),Xm(r,1,0))}function uh(r){for(;r===Ou;)Ou=To[--Io],To[Io]=null,Lu=To[--Io],To[Io]=null;for(;r===cs;)cs=Rn[--kn],Rn[kn]=null,Vr=Rn[--kn],Rn[kn]=null,Lr=Rn[--kn],Rn[kn]=null}var yn=null,vn=null,et=!1,Qn=null;function Jm(r,s){var a=Nn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Zm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,yn=r,vn=pi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,yn=r,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=cs!==null?{id:Lr,overflow:Vr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Nn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,yn=r,vn=null,!0):!1;default:return!1}}function ch(r){return(r.mode&1)!==0&&(r.flags&128)===0}function dh(r){if(et){var s=vn;if(s){var a=s;if(!Zm(r,s)){if(ch(r))throw Error(t(418));s=pi(a.nextSibling);var c=yn;s&&Zm(r,s)?Jm(c,a):(r.flags=r.flags&-4097|2,et=!1,yn=r)}}else{if(ch(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,yn=r}}}function eg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function Vu(r){if(r!==yn)return!1;if(!et)return eg(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!nh(r.type,r.memoizedProps)),s&&(s=vn)){if(ch(r))throw tg(),Error(t(418));for(;s;)Jm(r,s),s=pi(s.nextSibling)}if(eg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){vn=pi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}vn=null}}else vn=yn?pi(r.stateNode.nextSibling):null;return!0}function tg(){for(var r=vn;r;)r=pi(r.nextSibling)}function So(){vn=yn=null,et=!1}function hh(r){Qn===null?Qn=[r]:Qn.push(r)}var lT=he.ReactCurrentBatchConfig;function Ya(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var h=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var S=h.refs;w===null?delete S[g]:S[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Mu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ng(r){var s=r._init;return s(r._payload)}function rg(r){function s(F,x){if(r){var U=F.deletions;U===null?(F.deletions=[x],F.flags|=16):U.push(x)}}function a(F,x){if(!r)return null;for(;x!==null;)s(F,x),x=x.sibling;return null}function c(F,x){for(F=new Map;x!==null;)x.key!==null?F.set(x.key,x):F.set(x.index,x),x=x.sibling;return F}function h(F,x){return F=Ci(F,x),F.index=0,F.sibling=null,F}function g(F,x,U){return F.index=U,r?(U=F.alternate,U!==null?(U=U.index,U<x?(F.flags|=2,x):U):(F.flags|=2,x)):(F.flags|=1048576,x)}function w(F){return r&&F.alternate===null&&(F.flags|=2),F}function S(F,x,U,te){return x===null||x.tag!==6?(x=rf(U,F.mode,te),x.return=F,x):(x=h(x,U),x.return=F,x)}function R(F,x,U,te){var de=U.type;return de===b?J(F,x,U.props.children,te,U.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ut&&ng(de)===x.type)?(te=h(x,U.props),te.ref=Ya(F,x,U),te.return=F,te):(te=ac(U.type,U.key,U.props,null,F.mode,te),te.ref=Ya(F,x,U),te.return=F,te)}function B(F,x,U,te){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=sf(U,F.mode,te),x.return=F,x):(x=h(x,U.children||[]),x.return=F,x)}function J(F,x,U,te,de){return x===null||x.tag!==7?(x=ws(U,F.mode,te,de),x.return=F,x):(x=h(x,U),x.return=F,x)}function Z(F,x,U){if(typeof x=="string"&&x!==""||typeof x=="number")return x=rf(""+x,F.mode,U),x.return=F,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pe:return U=ac(x.type,x.key,x.props,null,F.mode,U),U.ref=Ya(F,null,x),U.return=F,U;case Se:return x=sf(x,F.mode,U),x.return=F,x;case Ut:var te=x._init;return Z(F,te(x._payload),U)}if(Sr(x)||pe(x))return x=ws(x,F.mode,U,null),x.return=F,x;Mu(F,x)}return null}function Y(F,x,U,te){var de=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return de!==null?null:S(F,x,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Pe:return U.key===de?R(F,x,U,te):null;case Se:return U.key===de?B(F,x,U,te):null;case Ut:return de=U._init,Y(F,x,de(U._payload),te)}if(Sr(U)||pe(U))return de!==null?null:J(F,x,U,te,null);Mu(F,U)}return null}function se(F,x,U,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return F=F.get(U)||null,S(x,F,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Pe:return F=F.get(te.key===null?U:te.key)||null,R(x,F,te,de);case Se:return F=F.get(te.key===null?U:te.key)||null,B(x,F,te,de);case Ut:var me=te._init;return se(F,x,U,me(te._payload),de)}if(Sr(te)||pe(te))return F=F.get(U)||null,J(x,F,te,de,null);Mu(x,te)}return null}function ue(F,x,U,te){for(var de=null,me=null,ge=x,Ee=x=0,Rt=null;ge!==null&&Ee<U.length;Ee++){ge.index>Ee?(Rt=ge,ge=null):Rt=ge.sibling;var Ue=Y(F,ge,U[Ee],te);if(Ue===null){ge===null&&(ge=Rt);break}r&&ge&&Ue.alternate===null&&s(F,ge),x=g(Ue,x,Ee),me===null?de=Ue:me.sibling=Ue,me=Ue,ge=Rt}if(Ee===U.length)return a(F,ge),et&&ds(F,Ee),de;if(ge===null){for(;Ee<U.length;Ee++)ge=Z(F,U[Ee],te),ge!==null&&(x=g(ge,x,Ee),me===null?de=ge:me.sibling=ge,me=ge);return et&&ds(F,Ee),de}for(ge=c(F,ge);Ee<U.length;Ee++)Rt=se(ge,F,Ee,U[Ee],te),Rt!==null&&(r&&Rt.alternate!==null&&ge.delete(Rt.key===null?Ee:Rt.key),x=g(Rt,x,Ee),me===null?de=Rt:me.sibling=Rt,me=Rt);return r&&ge.forEach(function(Pi){return s(F,Pi)}),et&&ds(F,Ee),de}function ce(F,x,U,te){var de=pe(U);if(typeof de!="function")throw Error(t(150));if(U=de.call(U),U==null)throw Error(t(151));for(var me=de=null,ge=x,Ee=x=0,Rt=null,Ue=U.next();ge!==null&&!Ue.done;Ee++,Ue=U.next()){ge.index>Ee?(Rt=ge,ge=null):Rt=ge.sibling;var Pi=Y(F,ge,Ue.value,te);if(Pi===null){ge===null&&(ge=Rt);break}r&&ge&&Pi.alternate===null&&s(F,ge),x=g(Pi,x,Ee),me===null?de=Pi:me.sibling=Pi,me=Pi,ge=Rt}if(Ue.done)return a(F,ge),et&&ds(F,Ee),de;if(ge===null){for(;!Ue.done;Ee++,Ue=U.next())Ue=Z(F,Ue.value,te),Ue!==null&&(x=g(Ue,x,Ee),me===null?de=Ue:me.sibling=Ue,me=Ue);return et&&ds(F,Ee),de}for(ge=c(F,ge);!Ue.done;Ee++,Ue=U.next())Ue=se(ge,F,Ee,Ue.value,te),Ue!==null&&(r&&Ue.alternate!==null&&ge.delete(Ue.key===null?Ee:Ue.key),x=g(Ue,x,Ee),me===null?de=Ue:me.sibling=Ue,me=Ue);return r&&ge.forEach(function(BT){return s(F,BT)}),et&&ds(F,Ee),de}function ut(F,x,U,te){if(typeof U=="object"&&U!==null&&U.type===b&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Pe:e:{for(var de=U.key,me=x;me!==null;){if(me.key===de){if(de=U.type,de===b){if(me.tag===7){a(F,me.sibling),x=h(me,U.props.children),x.return=F,F=x;break e}}else if(me.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ut&&ng(de)===me.type){a(F,me.sibling),x=h(me,U.props),x.ref=Ya(F,me,U),x.return=F,F=x;break e}a(F,me);break}else s(F,me);me=me.sibling}U.type===b?(x=ws(U.props.children,F.mode,te,U.key),x.return=F,F=x):(te=ac(U.type,U.key,U.props,null,F.mode,te),te.ref=Ya(F,x,U),te.return=F,F=te)}return w(F);case Se:e:{for(me=U.key;x!==null;){if(x.key===me)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(F,x.sibling),x=h(x,U.children||[]),x.return=F,F=x;break e}else{a(F,x);break}else s(F,x);x=x.sibling}x=sf(U,F.mode,te),x.return=F,F=x}return w(F);case Ut:return me=U._init,ut(F,x,me(U._payload),te)}if(Sr(U))return ue(F,x,U,te);if(pe(U))return ce(F,x,U,te);Mu(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,x!==null&&x.tag===6?(a(F,x.sibling),x=h(x,U),x.return=F,F=x):(a(F,x),x=rf(U,F.mode,te),x.return=F,F=x),w(F)):a(F,x)}return ut}var Co=rg(!0),ig=rg(!1),Fu=mi(null),Uu=null,Po=null,fh=null;function ph(){fh=Po=Uu=null}function mh(r){var s=Fu.current;Je(Fu),r._currentValue=s}function gh(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Ao(r,s){Uu=r,fh=Po=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(rn=!0),r.firstContext=null)}function bn(r){var s=r._currentValue;if(fh!==r)if(r={context:r,memoizedValue:s,next:null},Po===null){if(Uu===null)throw Error(t(308));Po=r,Uu.dependencies={lanes:0,firstContext:r}}else Po=Po.next=r;return s}var hs=null;function yh(r){hs===null?hs=[r]:hs.push(r)}function sg(r,s,a,c){var h=s.interleaved;return h===null?(a.next=a,yh(s)):(a.next=h.next,h.next=a),s.interleaved=a,Mr(r,c)}function Mr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var vi=!1;function vh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function og(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function wi(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Fe&2){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,Mr(r,a)}return h=c.interleaved,h===null?(s.next=s,yh(c)):(s.next=h.next,h.next=s),c.interleaved=s,Mr(r,a)}function ju(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,li(r,a)}}function ag(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?h=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?h=g=s:g=g.next=s}else h=g=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Bu(r,s,a,c){var h=r.updateQueue;vi=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var R=S,B=R.next;R.next=null,w===null?g=B:w.next=B,w=R;var J=r.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==w&&(S===null?J.firstBaseUpdate=B:S.next=B,J.lastBaseUpdate=R))}if(g!==null){var Z=h.baseState;w=0,J=B=R=null,S=g;do{var Y=S.lane,se=S.eventTime;if((c&Y)===Y){J!==null&&(J=J.next={eventTime:se,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ue=r,ce=S;switch(Y=s,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Z=ue.call(se,Z,Y);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Y=typeof ue=="function"?ue.call(se,Z,Y):ue,Y==null)break e;Z=oe({},Z,Y);break e;case 2:vi=!0}}S.callback!==null&&S.lane!==0&&(r.flags|=64,Y=h.effects,Y===null?h.effects=[S]:Y.push(S))}else se={eventTime:se,lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(B=J=se,R=Z):J=J.next=se,w|=Y;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);if(J===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=B,h.lastBaseUpdate=J,s=h.shared.interleaved,s!==null){h=s;do w|=h.lane,h=h.next;while(h!==s)}else g===null&&(h.shared.lanes=0);ms|=w,r.lanes=w,r.memoizedState=Z}}function lg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(t(191,h));h.call(c)}}}var Xa={},hr=mi(Xa),Ja=mi(Xa),Za=mi(Xa);function fs(r){if(r===Xa)throw Error(t(174));return r}function wh(r,s){switch(Qe(Za,s),Qe(Ja,r),Qe(hr,Xa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}Je(hr),Qe(hr,s)}function Ro(){Je(hr),Je(Ja),Je(Za)}function ug(r){fs(Za.current);var s=fs(hr.current),a=yt(s,r.type);s!==a&&(Qe(Ja,r),Qe(hr,a))}function _h(r){Ja.current===r&&(Je(hr),Je(Ja))}var nt=mi(0);function zu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Eh=[];function Th(){for(var r=0;r<Eh.length;r++)Eh[r]._workInProgressVersionPrimary=null;Eh.length=0}var $u=he.ReactCurrentDispatcher,Ih=he.ReactCurrentBatchConfig,ps=0,rt=null,wt=null,Pt=null,Hu=!1,el=!1,tl=0,uT=0;function Bt(){throw Error(t(321))}function Sh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Kn(r[a],s[a]))return!1;return!0}function Ch(r,s,a,c,h,g){if(ps=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$u.current=r===null||r.memoizedState===null?fT:pT,r=a(c,h),el){g=0;do{if(el=!1,tl=0,25<=g)throw Error(t(301));g+=1,Pt=wt=null,s.updateQueue=null,$u.current=mT,r=a(c,h)}while(el)}if($u.current=Gu,s=wt!==null&&wt.next!==null,ps=0,Pt=wt=rt=null,Hu=!1,s)throw Error(t(300));return r}function Ph(){var r=tl!==0;return tl=0,r}function fr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function xn(){if(wt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=Pt===null?rt.memoizedState:Pt.next;if(s!==null)Pt=s,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Pt===null?rt.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function nl(r,s){return typeof s=="function"?s(r):s}function Ah(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=wt,h=c.baseQueue,g=a.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}c.baseQueue=h=g,a.pending=null}if(h!==null){g=h.next,c=c.baseState;var S=w=null,R=null,B=g;do{var J=B.lane;if((ps&J)===J)R!==null&&(R=R.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:r(c,B.action);else{var Z={lane:J,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};R===null?(S=R=Z,w=c):R=R.next=Z,rt.lanes|=J,ms|=J}B=B.next}while(B!==null&&B!==g);R===null?w=c:R.next=S,Kn(c,s.memoizedState)||(rn=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=R,a.lastRenderedState=c}if(r=a.interleaved,r!==null){h=r;do g=h.lane,rt.lanes|=g,ms|=g,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Rh(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,g=s.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do g=r(g,w.action),w=w.next;while(w!==h);Kn(g,s.memoizedState)||(rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function cg(){}function dg(r,s){var a=rt,c=xn(),h=s(),g=!Kn(c.memoizedState,h);if(g&&(c.memoizedState=h,rn=!0),c=c.queue,kh(pg.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||Pt!==null&&Pt.memoizedState.tag&1){if(a.flags|=2048,rl(9,fg.bind(null,a,c,h,s),void 0,null),At===null)throw Error(t(349));ps&30||hg(a,s,h)}return h}function hg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function fg(r,s,a,c){s.value=a,s.getSnapshot=c,mg(s)&&gg(r)}function pg(r,s,a){return a(function(){mg(s)&&gg(r)})}function mg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Kn(r,a)}catch{return!0}}function gg(r){var s=Mr(r,1);s!==null&&Zn(s,r,1,-1)}function yg(r){var s=fr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:r},s.queue=r,r=r.dispatch=hT.bind(null,rt,r),[s.memoizedState,r]}function rl(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function vg(){return xn().memoizedState}function Wu(r,s,a,c){var h=fr();rt.flags|=r,h.memoizedState=rl(1|s,a,void 0,c===void 0?null:c)}function qu(r,s,a,c){var h=xn();c=c===void 0?null:c;var g=void 0;if(wt!==null){var w=wt.memoizedState;if(g=w.destroy,c!==null&&Sh(c,w.deps)){h.memoizedState=rl(s,a,g,c);return}}rt.flags|=r,h.memoizedState=rl(1|s,a,g,c)}function wg(r,s){return Wu(8390656,8,r,s)}function kh(r,s){return qu(2048,8,r,s)}function _g(r,s){return qu(4,2,r,s)}function Eg(r,s){return qu(4,4,r,s)}function Tg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ig(r,s,a){return a=a!=null?a.concat([r]):null,qu(4,4,Tg.bind(null,s,r),a)}function bh(){}function Sg(r,s){var a=xn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Sh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function Cg(r,s){var a=xn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Sh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function Pg(r,s,a){return ps&21?(Kn(a,s)||(a=rs(),rt.lanes|=a,ms|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a)}function cT(r,s){var a=De;De=a!==0&&4>a?a:4,r(!0);var c=Ih.transition;Ih.transition={};try{r(!1),s()}finally{De=a,Ih.transition=c}}function Ag(){return xn().memoizedState}function dT(r,s,a){var c=Ii(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Rg(r))kg(s,a);else if(a=sg(r,s,a,c),a!==null){var h=Jt();Zn(a,r,c,h),bg(a,s,c)}}function hT(r,s,a){var c=Ii(r),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rg(r))kg(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,S=g(w,a);if(h.hasEagerState=!0,h.eagerState=S,Kn(S,w)){var R=s.interleaved;R===null?(h.next=h,yh(s)):(h.next=R.next,R.next=h),s.interleaved=h;return}}catch{}finally{}a=sg(r,s,h,c),a!==null&&(h=Jt(),Zn(a,r,c,h),bg(a,s,c))}}function Rg(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function kg(r,s){el=Hu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function bg(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,li(r,a)}}var Gu={readContext:bn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},fT={readContext:bn,useCallback:function(r,s){return fr().memoizedState=[r,s===void 0?null:s],r},useContext:bn,useEffect:wg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Wu(4194308,4,Tg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Wu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Wu(4,2,r,s)},useMemo:function(r,s){var a=fr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=fr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=dT.bind(null,rt,r),[c.memoizedState,r]},useRef:function(r){var s=fr();return r={current:r},s.memoizedState=r},useState:yg,useDebugValue:bh,useDeferredValue:function(r){return fr().memoizedState=r},useTransition:function(){var r=yg(!1),s=r[0];return r=cT.bind(null,r[1]),fr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=rt,h=fr();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),At===null)throw Error(t(349));ps&30||hg(c,s,a)}h.memoizedState=a;var g={value:a,getSnapshot:s};return h.queue=g,wg(pg.bind(null,c,g,r),[r]),c.flags|=2048,rl(9,fg.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=fr(),s=At.identifierPrefix;if(et){var a=Vr,c=Lr;a=(c&~(1<<32-Qt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=tl++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=uT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},pT={readContext:bn,useCallback:Sg,useContext:bn,useEffect:kh,useImperativeHandle:Ig,useInsertionEffect:_g,useLayoutEffect:Eg,useMemo:Cg,useReducer:Ah,useRef:vg,useState:function(){return Ah(nl)},useDebugValue:bh,useDeferredValue:function(r){var s=xn();return Pg(s,wt.memoizedState,r)},useTransition:function(){var r=Ah(nl)[0],s=xn().memoizedState;return[r,s]},useMutableSource:cg,useSyncExternalStore:dg,useId:Ag,unstable_isNewReconciler:!1},mT={readContext:bn,useCallback:Sg,useContext:bn,useEffect:kh,useImperativeHandle:Ig,useInsertionEffect:_g,useLayoutEffect:Eg,useMemo:Cg,useReducer:Rh,useRef:vg,useState:function(){return Rh(nl)},useDebugValue:bh,useDeferredValue:function(r){var s=xn();return wt===null?s.memoizedState=r:Pg(s,wt.memoizedState,r)},useTransition:function(){var r=Rh(nl)[0],s=xn().memoizedState;return[r,s]},useMutableSource:cg,useSyncExternalStore:dg,useId:Ag,unstable_isNewReconciler:!1};function Yn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function xh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:oe({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ku={isMounted:function(r){return(r=r._reactInternals)?Bn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=Jt(),h=Ii(r),g=Fr(c,h);g.payload=s,a!=null&&(g.callback=a),s=wi(r,g,h),s!==null&&(Zn(s,r,h,c),ju(s,r,h))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=Jt(),h=Ii(r),g=Fr(c,h);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=wi(r,g,h),s!==null&&(Zn(s,r,h,c),ju(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Jt(),c=Ii(r),h=Fr(a,c);h.tag=2,s!=null&&(h.callback=s),s=wi(r,h,c),s!==null&&(Zn(s,r,c,a),ju(s,r,c))}};function xg(r,s,a,c,h,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!$a(a,c)||!$a(h,g):!0}function Dg(r,s,a){var c=!1,h=gi,g=s.contextType;return typeof g=="object"&&g!==null?g=bn(g):(h=nn(s)?us:jt.current,c=s.contextTypes,g=(c=c!=null)?Eo(r,h):gi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ku,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ng(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Ku.enqueueReplaceState(s,s.state,null)}function Dh(r,s,a,c){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},vh(r);var g=s.contextType;typeof g=="object"&&g!==null?h.context=bn(g):(g=nn(s)?us:jt.current,h.context=Eo(r,g)),h.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(xh(r,s,g,a),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ku.enqueueReplaceState(h,h.state,null),Bu(r,a,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function ko(r,s){try{var a="",c=s;do a+=Re(c),c=c.return;while(c);var h=a}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:h,digest:null}}function Nh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Oh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var gT=typeof WeakMap=="function"?WeakMap:Map;function Og(r,s,a){a=Fr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){tc||(tc=!0,Qh=c),Oh(r,s)},a}function Lg(r,s,a){a=Fr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){Oh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Oh(r,s),typeof c!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Vg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new gT;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),r=bT.bind(null,r,s,a),s.then(r,r))}function Mg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Fg(r,s,a,c,h){return r.mode&1?(r.flags|=65536,r.lanes=h,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Fr(-1,1),s.tag=2,wi(a,s,1))),a.lanes|=1),r)}var yT=he.ReactCurrentOwner,rn=!1;function Xt(r,s,a,c){s.child=r===null?ig(s,null,a,c):Co(s,r.child,a,c)}function Ug(r,s,a,c,h){a=a.render;var g=s.ref;return Ao(s,h),c=Ch(r,s,a,c,g,h),a=Ph(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Ur(r,s,h)):(et&&a&&lh(s),s.flags|=1,Xt(r,s,c,h),s.child)}function jg(r,s,a,c,h){if(r===null){var g=a.type;return typeof g=="function"&&!nf(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Bg(r,s,g,c,h)):(r=ac(a.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&h)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:$a,a(w,c)&&r.ref===s.ref)return Ur(r,s,h)}return s.flags|=1,r=Ci(g,c),r.ref=s.ref,r.return=s,s.child=r}function Bg(r,s,a,c,h){if(r!==null){var g=r.memoizedProps;if($a(g,c)&&r.ref===s.ref)if(rn=!1,s.pendingProps=c=g,(r.lanes&h)!==0)r.flags&131072&&(rn=!0);else return s.lanes=r.lanes,Ur(r,s,h)}return Lh(r,s,a,c,h)}function zg(r,s,a){var c=s.pendingProps,h=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(xo,wn),wn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Qe(xo,wn),wn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Qe(xo,wn),wn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Qe(xo,wn),wn|=c;return Xt(r,s,h,a),s.child}function $g(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Lh(r,s,a,c,h){var g=nn(a)?us:jt.current;return g=Eo(s,g),Ao(s,h),a=Ch(r,s,a,c,g,h),c=Ph(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Ur(r,s,h)):(et&&c&&lh(s),s.flags|=1,Xt(r,s,a,h),s.child)}function Hg(r,s,a,c,h){if(nn(a)){var g=!0;Du(s)}else g=!1;if(Ao(s,h),s.stateNode===null)Yu(r,s),Dg(s,a,c),Dh(s,a,c,h),c=!0;else if(r===null){var w=s.stateNode,S=s.memoizedProps;w.props=S;var R=w.context,B=a.contextType;typeof B=="object"&&B!==null?B=bn(B):(B=nn(a)?us:jt.current,B=Eo(s,B));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==c||R!==B)&&Ng(s,w,c,B),vi=!1;var Y=s.memoizedState;w.state=Y,Bu(s,c,w,h),R=s.memoizedState,S!==c||Y!==R||tn.current||vi?(typeof J=="function"&&(xh(s,a,J,c),R=s.memoizedState),(S=vi||xg(s,a,S,c,Y,R,B))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=R),w.props=c,w.state=R,w.context=B,c=S):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,og(r,s),S=s.memoizedProps,B=s.type===s.elementType?S:Yn(s.type,S),w.props=B,Z=s.pendingProps,Y=w.context,R=a.contextType,typeof R=="object"&&R!==null?R=bn(R):(R=nn(a)?us:jt.current,R=Eo(s,R));var se=a.getDerivedStateFromProps;(J=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==Z||Y!==R)&&Ng(s,w,c,R),vi=!1,Y=s.memoizedState,w.state=Y,Bu(s,c,w,h);var ue=s.memoizedState;S!==Z||Y!==ue||tn.current||vi?(typeof se=="function"&&(xh(s,a,se,c),ue=s.memoizedState),(B=vi||xg(s,a,B,c,Y,ue,R)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ue,R),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ue,R)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ue),w.props=c,w.state=ue,w.context=R,c=B):(typeof w.componentDidUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),c=!1)}return Vh(r,s,a,c,g,h)}function Vh(r,s,a,c,h,g){$g(r,s);var w=(s.flags&128)!==0;if(!c&&!w)return h&&Qm(s,a,!1),Ur(r,s,g);c=s.stateNode,yT.current=s;var S=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&w?(s.child=Co(s,r.child,null,g),s.child=Co(s,null,S,g)):Xt(r,s,S,g),s.memoizedState=c.state,h&&Qm(s,a,!0),s.child}function Wg(r){var s=r.stateNode;s.pendingContext?Gm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Gm(r,s.context,!1),wh(r,s.containerInfo)}function qg(r,s,a,c,h){return So(),hh(h),s.flags|=256,Xt(r,s,a,c),s.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Fh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Gg(r,s,a){var c=s.pendingProps,h=nt.current,g=!1,w=(s.flags&128)!==0,S;if((S=w)||(S=r!==null&&r.memoizedState===null?!1:(h&2)!==0),S?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Qe(nt,h&1),r===null)return dh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=c.children,r=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=lc(w,c,0,null),r=ws(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Fh(a),s.memoizedState=Mh,r):Uh(s,w));if(h=r.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return vT(r,s,w,c,S,h,a);if(g){g=c.fallback,w=s.mode,h=r.child,S=h.sibling;var R={mode:"hidden",children:c.children};return!(w&1)&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=R,s.deletions=null):(c=Ci(h,R),c.subtreeFlags=h.subtreeFlags&14680064),S!==null?g=Ci(S,g):(g=ws(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=r.child.memoizedState,w=w===null?Fh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Mh,c}return g=r.child,r=g.sibling,c=Ci(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function Uh(r,s){return s=lc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Qu(r,s,a,c){return c!==null&&hh(c),Co(s,r.child,null,a),r=Uh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function vT(r,s,a,c,h,g,w){if(a)return s.flags&256?(s.flags&=-257,c=Nh(Error(t(422))),Qu(r,s,w,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,h=s.mode,c=lc({mode:"visible",children:c.children},h,0,null),g=ws(g,h,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&Co(s,r.child,null,w),s.child.memoizedState=Fh(w),s.memoizedState=Mh,g);if(!(s.mode&1))return Qu(r,s,w,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var S=c.dgst;return c=S,g=Error(t(419)),c=Nh(g,c,void 0),Qu(r,s,w,c)}if(S=(w&r.childLanes)!==0,rn||S){if(c=At,c!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|w)?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,Mr(r,h),Zn(c,r,h,-1))}return tf(),c=Nh(Error(t(421))),Qu(r,s,w,c)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=xT.bind(null,r),h._reactRetry=s,null):(r=g.treeContext,vn=pi(h.nextSibling),yn=s,et=!0,Qn=null,r!==null&&(Rn[kn++]=Lr,Rn[kn++]=Vr,Rn[kn++]=cs,Lr=r.id,Vr=r.overflow,cs=s),s=Uh(s,c.children),s.flags|=4096,s)}function Kg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),gh(r.return,s,a)}function jh(r,s,a,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=h)}function Qg(r,s,a){var c=s.pendingProps,h=c.revealOrder,g=c.tail;if(Xt(r,s,c.children,a),c=nt.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Kg(r,a,s);else if(r.tag===19)Kg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Qe(nt,c),!(s.mode&1))s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&zu(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),jh(s,!1,h,a,g);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&zu(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}jh(s,!0,a,null,g);break;case"together":jh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ur(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ms|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Ci(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Ci(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function wT(r,s,a){switch(s.tag){case 3:Wg(s),So();break;case 5:ug(s);break;case 1:nn(s.type)&&Du(s);break;case 4:wh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;Qe(Fu,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Qe(nt,nt.current&1),s.flags|=128,null):a&s.child.childLanes?Gg(r,s,a):(Qe(nt,nt.current&1),r=Ur(r,s,a),r!==null?r.sibling:null);Qe(nt,nt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return Qg(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(nt,nt.current),c)break;return null;case 22:case 23:return s.lanes=0,zg(r,s,a)}return Ur(r,s,a)}var Yg,Bh,Xg,Jg;Yg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Bh=function(){},Xg=function(r,s,a,c){var h=r.memoizedProps;if(h!==c){r=s.stateNode,fs(hr.current);var g=null;switch(a){case"input":h=qi(r,h),c=qi(r,c),g=[];break;case"select":h=oe({},h,{value:void 0}),c=oe({},c,{value:void 0}),g=[];break;case"textarea":h=va(r,h),c=va(r,c),g=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=ku)}Sa(a,c);var w;a=null;for(B in h)if(!c.hasOwnProperty(B)&&h.hasOwnProperty(B)&&h[B]!=null)if(B==="style"){var S=h[B];for(w in S)S.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in c){var R=c[B];if(S=h!=null?h[B]:void 0,c.hasOwnProperty(B)&&R!==S&&(R!=null||S!=null))if(B==="style")if(S){for(w in S)!S.hasOwnProperty(w)||R&&R.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in R)R.hasOwnProperty(w)&&S[w]!==R[w]&&(a||(a={}),a[w]=R[w])}else a||(g||(g=[]),g.push(B,a)),a=R;else B==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,S=S?S.__html:void 0,R!=null&&S!==R&&(g=g||[]).push(B,R)):B==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(B,""+R):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(R!=null&&B==="onScroll"&&Xe("scroll",r),g||S===R||(g=[])):(g=g||[]).push(B,R))}a&&(g=g||[]).push("style",a);var B=g;(s.updateQueue=B)&&(s.flags|=4)}},Jg=function(r,s,a,c){a!==c&&(s.flags|=4)};function il(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function zt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function _T(r,s,a){var c=s.pendingProps;switch(uh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return nn(s.type)&&xu(),zt(s),null;case 3:return c=s.stateNode,Ro(),Je(tn),Je(jt),Th(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Vu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Qn!==null&&(Jh(Qn),Qn=null))),Bh(r,s),zt(s),null;case 5:_h(s);var h=fs(Za.current);if(a=s.type,r!==null&&s.stateNode!=null)Xg(r,s,a,c,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return zt(s),null}if(r=fs(hr.current),Vu(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[dr]=s,c[Ka]=g,r=(s.mode&1)!==0,a){case"dialog":Xe("cancel",c),Xe("close",c);break;case"iframe":case"object":case"embed":Xe("load",c);break;case"video":case"audio":for(h=0;h<Wa.length;h++)Xe(Wa[h],c);break;case"source":Xe("error",c);break;case"img":case"image":case"link":Xe("error",c),Xe("load",c);break;case"details":Xe("toggle",c);break;case"input":zs(c,g),Xe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Xe("invalid",c);break;case"textarea":Hs(c,g),Xe("invalid",c)}Sa(a,g),h=null;for(var w in g)if(g.hasOwnProperty(w)){var S=g[w];w==="children"?typeof S=="string"?c.textContent!==S&&(g.suppressHydrationWarning!==!0&&Ru(c.textContent,S,r),h=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&Ru(c.textContent,S,r),h=["children",""+S]):o.hasOwnProperty(w)&&S!=null&&w==="onScroll"&&Xe("scroll",c)}switch(a){case"input":Ir(c),eu(c,g,!0);break;case"textarea":Ir(c),wa(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=ku)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(a,{is:c.is}):(r=w.createElement(a),a==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,a),r[dr]=s,r[Ka]=c,Yg(r,s,!1,!1),s.stateNode=r;e:{switch(w=Ca(a,c),a){case"dialog":Xe("cancel",r),Xe("close",r),h=c;break;case"iframe":case"object":case"embed":Xe("load",r),h=c;break;case"video":case"audio":for(h=0;h<Wa.length;h++)Xe(Wa[h],r);h=c;break;case"source":Xe("error",r),h=c;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),h=c;break;case"details":Xe("toggle",r),h=c;break;case"input":zs(r,c),h=qi(r,c),Xe("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=oe({},c,{value:void 0}),Xe("invalid",r);break;case"textarea":Hs(r,c),h=va(r,c),Xe("invalid",r);break;default:h=c}Sa(a,h),S=h;for(g in S)if(S.hasOwnProperty(g)){var R=S[g];g==="style"?Ta(r,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&_a(r,R)):g==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&ri(r,R):typeof R=="number"&&ri(r,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?R!=null&&g==="onScroll"&&Xe("scroll",r):R!=null&&ie(r,g,R,w))}switch(a){case"input":Ir(r),eu(r,c,!1);break;case"textarea":Ir(r),wa(r);break;case"option":c.value!=null&&r.setAttribute("value",""+ze(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?Cr(r,!!c.multiple,g,!1):c.defaultValue!=null&&Cr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=ku)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zt(s),null;case 6:if(r&&s.stateNode!=null)Jg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=fs(Za.current),fs(hr.current),Vu(s)){if(c=s.stateNode,a=s.memoizedProps,c[dr]=s,(g=c.nodeValue!==a)&&(r=yn,r!==null))switch(r.tag){case 3:Ru(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ru(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[dr]=s,s.stateNode=c}return zt(s),null;case 13:if(Je(nt),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&vn!==null&&s.mode&1&&!(s.flags&128))tg(),So(),s.flags|=98560,g=!1;else if(g=Vu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[dr]=s}else So(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;zt(s),g=!1}else Qn!==null&&(Jh(Qn),Qn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||nt.current&1?_t===0&&(_t=3):tf())),s.updateQueue!==null&&(s.flags|=4),zt(s),null);case 4:return Ro(),Bh(r,s),r===null&&qa(s.stateNode.containerInfo),zt(s),null;case 10:return mh(s.type._context),zt(s),null;case 17:return nn(s.type)&&xu(),zt(s),null;case 19:if(Je(nt),g=s.memoizedState,g===null)return zt(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)il(g,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=zu(r),w!==null){for(s.flags|=128,il(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Qe(nt,nt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ke()>Do&&(s.flags|=128,c=!0,il(g,!1),s.lanes=4194304)}else{if(!c)if(r=zu(w),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),il(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!et)return zt(s),null}else 2*Ke()-g.renderingStartTime>Do&&a!==1073741824&&(s.flags|=128,c=!0,il(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ke(),s.sibling=null,a=nt.current,Qe(nt,c?a&1|2:a&1),s):(zt(s),null);case 22:case 23:return ef(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?wn&1073741824&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function ET(r,s){switch(uh(s),s.tag){case 1:return nn(s.type)&&xu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ro(),Je(tn),Je(jt),Th(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return _h(s),null;case 13:if(Je(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));So()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(nt),null;case 4:return Ro(),null;case 10:return mh(s.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var Xu=!1,$t=!1,TT=typeof WeakSet=="function"?WeakSet:Set,le=null;function bo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(r,s,c)}else a.current=null}function zh(r,s,a){try{a()}catch(c){st(r,s,c)}}var Zg=!1;function IT(r,s){if(eh=di,r=xm(),qd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,S=-1,R=-1,B=0,J=0,Z=r,Y=null;t:for(;;){for(var se;Z!==a||h!==0&&Z.nodeType!==3||(S=w+h),Z!==g||c!==0&&Z.nodeType!==3||(R=w+c),Z.nodeType===3&&(w+=Z.nodeValue.length),(se=Z.firstChild)!==null;)Y=Z,Z=se;for(;;){if(Z===r)break t;if(Y===a&&++B===h&&(S=w),Y===g&&++J===c&&(R=w),(se=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=se}a=S===-1||R===-1?null:{start:S,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(th={focusedElem:r,selectionRange:a},di=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var ue=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,ut=ue.memoizedState,F=s.stateNode,x=F.getSnapshotBeforeUpdate(s.elementType===s.type?ce:Yn(s.type,ce),ut);F.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){st(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return ue=Zg,Zg=!1,ue}function sl(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var g=h.destroy;h.destroy=void 0,g!==void 0&&zh(s,a,g)}h=h.next}while(h!==c)}}function Ju(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function $h(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function ey(r){var s=r.alternate;s!==null&&(r.alternate=null,ey(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[dr],delete s[Ka],delete s[sh],delete s[sT],delete s[oT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ty(r){return r.tag===5||r.tag===3||r.tag===4}function ny(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ty(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ku));else if(c!==4&&(r=r.child,r!==null))for(Hh(r,s,a),r=r.sibling;r!==null;)Hh(r,s,a),r=r.sibling}function Wh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Wh(r,s,a),r=r.sibling;r!==null;)Wh(r,s,a),r=r.sibling}var Nt=null,Xn=!1;function _i(r,s,a){for(a=a.child;a!==null;)ry(r,s,a),a=a.sibling}function ry(r,s,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ts,a)}catch{}switch(a.tag){case 5:$t||bo(a,s);case 6:var c=Nt,h=Xn;Nt=null,_i(r,s,a),Nt=c,Xn=h,Nt!==null&&(Xn?(r=Nt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(Xn?(r=Nt,a=a.stateNode,r.nodeType===8?ih(r.parentNode,a):r.nodeType===1&&ih(r,a),qn(r)):ih(Nt,a.stateNode));break;case 4:c=Nt,h=Xn,Nt=a.stateNode.containerInfo,Xn=!0,_i(r,s,a),Nt=c,Xn=h;break;case 0:case 11:case 14:case 15:if(!$t&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var g=h,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&zh(a,s,w),h=h.next}while(h!==c)}_i(r,s,a);break;case 1:if(!$t&&(bo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){st(a,s,S)}_i(r,s,a);break;case 21:_i(r,s,a);break;case 22:a.mode&1?($t=(c=$t)||a.memoizedState!==null,_i(r,s,a),$t=c):_i(r,s,a);break;default:_i(r,s,a)}}function iy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new TT),s.forEach(function(c){var h=DT.bind(null,r,c);a.has(c)||(a.add(c),c.then(h,h))})}}function Jn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var g=r,w=s,S=w;e:for(;S!==null;){switch(S.tag){case 5:Nt=S.stateNode,Xn=!1;break e;case 3:Nt=S.stateNode.containerInfo,Xn=!0;break e;case 4:Nt=S.stateNode.containerInfo,Xn=!0;break e}S=S.return}if(Nt===null)throw Error(t(160));ry(g,w,h),Nt=null,Xn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(B){st(h,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)sy(s,r),s=s.sibling}function sy(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Jn(s,r),pr(r),c&4){try{sl(3,r,r.return),Ju(3,r)}catch(ce){st(r,r.return,ce)}try{sl(5,r,r.return)}catch(ce){st(r,r.return,ce)}}break;case 1:Jn(s,r),pr(r),c&512&&a!==null&&bo(a,a.return);break;case 5:if(Jn(s,r),pr(r),c&512&&a!==null&&bo(a,a.return),r.flags&32){var h=r.stateNode;try{ri(h,"")}catch(ce){st(r,r.return,ce)}}if(c&4&&(h=r.stateNode,h!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,S=r.type,R=r.updateQueue;if(r.updateQueue=null,R!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&ga(h,g),Ca(S,w);var B=Ca(S,g);for(w=0;w<R.length;w+=2){var J=R[w],Z=R[w+1];J==="style"?Ta(h,Z):J==="dangerouslySetInnerHTML"?_a(h,Z):J==="children"?ri(h,Z):ie(h,J,Z,B)}switch(S){case"input":ya(h,g);break;case"textarea":Ws(h,g);break;case"select":var Y=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?Cr(h,!!g.multiple,se,!1):Y!==!!g.multiple&&(g.defaultValue!=null?Cr(h,!!g.multiple,g.defaultValue,!0):Cr(h,!!g.multiple,g.multiple?[]:"",!1))}h[Ka]=g}catch(ce){st(r,r.return,ce)}}break;case 6:if(Jn(s,r),pr(r),c&4){if(r.stateNode===null)throw Error(t(162));h=r.stateNode,g=r.memoizedProps;try{h.nodeValue=g}catch(ce){st(r,r.return,ce)}}break;case 3:if(Jn(s,r),pr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{qn(s.containerInfo)}catch(ce){st(r,r.return,ce)}break;case 4:Jn(s,r),pr(r);break;case 13:Jn(s,r),pr(r),h=r.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(Kh=Ke())),c&4&&iy(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?($t=(B=$t)||J,Jn(s,r),$t=B):Jn(s,r),pr(r),c&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!J&&r.mode&1)for(le=r,J=r.child;J!==null;){for(Z=le=J;le!==null;){switch(Y=le,se=Y.child,Y.tag){case 0:case 11:case 14:case 15:sl(4,Y,Y.return);break;case 1:bo(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Y,a=Y.return;try{s=c,ue.props=s.memoizedProps,ue.state=s.memoizedState,ue.componentWillUnmount()}catch(ce){st(c,a,ce)}}break;case 5:bo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){ly(Z);continue}}se!==null?(se.return=Y,le=se):ly(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{h=Z.stateNode,B?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=Z.stateNode,R=Z.memoizedProps.style,w=R!=null&&R.hasOwnProperty("display")?R.display:null,S.style.display=Ea("display",w))}catch(ce){st(r,r.return,ce)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(ce){st(r,r.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Jn(s,r),pr(r),c&4&&iy(r);break;case 21:break;default:Jn(s,r),pr(r)}}function pr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(ty(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(ri(h,""),c.flags&=-33);var g=ny(r);Wh(r,g,h);break;case 3:case 4:var w=c.stateNode.containerInfo,S=ny(r);Hh(r,S,w);break;default:throw Error(t(161))}}catch(R){st(r,r.return,R)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ST(r,s,a){le=r,oy(r)}function oy(r,s,a){for(var c=(r.mode&1)!==0;le!==null;){var h=le,g=h.child;if(h.tag===22&&c){var w=h.memoizedState!==null||Xu;if(!w){var S=h.alternate,R=S!==null&&S.memoizedState!==null||$t;S=Xu;var B=$t;if(Xu=w,($t=R)&&!B)for(le=h;le!==null;)w=le,R=w.child,w.tag===22&&w.memoizedState!==null?uy(h):R!==null?(R.return=w,le=R):uy(h);for(;g!==null;)le=g,oy(g),g=g.sibling;le=h,Xu=S,$t=B}ay(r)}else h.subtreeFlags&8772&&g!==null?(g.return=h,le=g):ay(r)}}function ay(r){for(;le!==null;){var s=le;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:$t||Ju(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!$t)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:Yn(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&lg(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}lg(s,w,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var J=B.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&qn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||s.flags&512&&$h(s)}catch(Y){st(s,s.return,Y)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function ly(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function uy(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ju(4,s)}catch(R){st(s,a,R)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(R){st(s,h,R)}}var g=s.return;try{$h(s)}catch(R){st(s,g,R)}break;case 5:var w=s.return;try{$h(s)}catch(R){st(s,w,R)}}}catch(R){st(s,s.return,R)}if(s===r){le=null;break}var S=s.sibling;if(S!==null){S.return=s.return,le=S;break}le=s.return}}var CT=Math.ceil,Zu=he.ReactCurrentDispatcher,qh=he.ReactCurrentOwner,Dn=he.ReactCurrentBatchConfig,Fe=0,At=null,pt=null,Ot=0,wn=0,xo=mi(0),_t=0,ol=null,ms=0,ec=0,Gh=0,al=null,sn=null,Kh=0,Do=1/0,jr=null,tc=!1,Qh=null,Ei=null,nc=!1,Ti=null,rc=0,ll=0,Yh=null,ic=-1,sc=0;function Jt(){return Fe&6?Ke():ic!==-1?ic:ic=Ke()}function Ii(r){return r.mode&1?Fe&2&&Ot!==0?Ot&-Ot:lT.transition!==null?(sc===0&&(sc=rs()),sc):(r=De,r!==0||(r=window.event,r=r===void 0?16:Va(r.type)),r):1}function Zn(r,s,a,c){if(50<ll)throw ll=0,Yh=null,Error(t(185));ai(r,a,c),(!(Fe&2)||r!==At)&&(r===At&&(!(Fe&2)&&(ec|=a),_t===4&&Si(r,Ot)),on(r,c),a===1&&Fe===0&&!(s.mode&1)&&(Do=Ke()+500,Nu&&yi()))}function on(r,s){var a=r.callbackNode;Rr(r,s);var c=ns(r,r===At?Ot:0);if(c===0)a!==null&&xa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&xa(a),s===1)r.tag===0?aT(dy.bind(null,r)):Ym(dy.bind(null,r)),rT(function(){!(Fe&6)&&yi()}),a=null;else{switch(ui(c)){case 1:a=es;break;case 4:a=ii;break;case 16:a=Cn;break;case 536870912:a=su;break;default:a=Cn}a=wy(a,cy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function cy(r,s){if(ic=-1,sc=0,Fe&6)throw Error(t(327));var a=r.callbackNode;if(No()&&r.callbackNode!==a)return null;var c=ns(r,r===At?Ot:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=oc(r,c);else{s=c;var h=Fe;Fe|=2;var g=fy();(At!==r||Ot!==s)&&(jr=null,Do=Ke()+500,ys(r,s));do try{RT();break}catch(S){hy(r,S)}while(!0);ph(),Zu.current=g,Fe=h,pt!==null?s=0:(At=null,Ot=0,s=_t)}if(s!==0){if(s===2&&(h=pn(r),h!==0&&(c=h,s=Xh(r,h))),s===1)throw a=ol,ys(r,0),Si(r,c),on(r,Ke()),a;if(s===6)Si(r,c);else{if(h=r.current.alternate,!(c&30)&&!PT(h)&&(s=oc(r,c),s===2&&(g=pn(r),g!==0&&(c=g,s=Xh(r,g))),s===1))throw a=ol,ys(r,0),Si(r,c),on(r,Ke()),a;switch(r.finishedWork=h,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:vs(r,sn,jr);break;case 3:if(Si(r,c),(c&130023424)===c&&(s=Kh+500-Ke(),10<s)){if(ns(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){Jt(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=rh(vs.bind(null,r,sn,jr),s);break}vs(r,sn,jr);break;case 4:if(Si(r,c),(c&4194240)===c)break;for(s=r.eventTimes,h=-1;0<c;){var w=31-Qt(c);g=1<<w,w=s[w],w>h&&(h=w),c&=~g}if(c=h,c=Ke()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*CT(c/1960))-c,10<c){r.timeoutHandle=rh(vs.bind(null,r,sn,jr),c);break}vs(r,sn,jr);break;case 5:vs(r,sn,jr);break;default:throw Error(t(329))}}}return on(r,Ke()),r.callbackNode===a?cy.bind(null,r):null}function Xh(r,s){var a=al;return r.current.memoizedState.isDehydrated&&(ys(r,s).flags|=256),r=oc(r,s),r!==2&&(s=sn,sn=a,s!==null&&Jh(s)),r}function Jh(r){sn===null?sn=r:sn.push.apply(sn,r)}function PT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],g=h.getSnapshot;h=h.value;try{if(!Kn(g(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Si(r,s){for(s&=~Gh,s&=~ec,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Qt(s),c=1<<a;r[a]=-1,s&=~c}}function dy(r){if(Fe&6)throw Error(t(327));No();var s=ns(r,0);if(!(s&1))return on(r,Ke()),null;var a=oc(r,s);if(r.tag!==0&&a===2){var c=pn(r);c!==0&&(s=c,a=Xh(r,c))}if(a===1)throw a=ol,ys(r,0),Si(r,s),on(r,Ke()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,vs(r,sn,jr),on(r,Ke()),null}function Zh(r,s){var a=Fe;Fe|=1;try{return r(s)}finally{Fe=a,Fe===0&&(Do=Ke()+500,Nu&&yi())}}function gs(r){Ti!==null&&Ti.tag===0&&!(Fe&6)&&No();var s=Fe;Fe|=1;var a=Dn.transition,c=De;try{if(Dn.transition=null,De=1,r)return r()}finally{De=c,Dn.transition=a,Fe=s,!(Fe&6)&&yi()}}function ef(){wn=xo.current,Je(xo)}function ys(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,nT(a)),pt!==null)for(a=pt.return;a!==null;){var c=a;switch(uh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&xu();break;case 3:Ro(),Je(tn),Je(jt),Th();break;case 5:_h(c);break;case 4:Ro();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:mh(c.type._context);break;case 22:case 23:ef()}a=a.return}if(At=r,pt=r=Ci(r.current,null),Ot=wn=s,_t=0,ol=null,Gh=ec=ms=0,sn=al=null,hs!==null){for(s=0;s<hs.length;s++)if(a=hs[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=h,c.next=w}a.pending=c}hs=null}return r}function hy(r,s){do{var a=pt;try{if(ph(),$u.current=Gu,Hu){for(var c=rt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Hu=!1}if(ps=0,Pt=wt=rt=null,el=!1,tl=0,qh.current=null,a===null||a.return===null){_t=1,ol=s,pt=null;break}e:{var g=r,w=a.return,S=a,R=s;if(s=Ot,S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=R,J=S,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Mg(w);if(se!==null){se.flags&=-257,Fg(se,w,S,g,s),se.mode&1&&Vg(g,B,s),s=se,R=B;var ue=s.updateQueue;if(ue===null){var ce=new Set;ce.add(R),s.updateQueue=ce}else ue.add(R);break e}else{if(!(s&1)){Vg(g,B,s),tf();break e}R=Error(t(426))}}else if(et&&S.mode&1){var ut=Mg(w);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Fg(ut,w,S,g,s),hh(ko(R,S));break e}}g=R=ko(R,S),_t!==4&&(_t=2),al===null?al=[g]:al.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var F=Og(g,R,s);ag(g,F);break e;case 1:S=R;var x=g.type,U=g.stateNode;if(!(g.flags&128)&&(typeof x.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Ei===null||!Ei.has(U)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=Lg(g,S,s);ag(g,te);break e}}g=g.return}while(g!==null)}my(a)}catch(de){s=de,pt===a&&a!==null&&(pt=a=a.return);continue}break}while(!0)}function fy(){var r=Zu.current;return Zu.current=Gu,r===null?Gu:r}function tf(){(_t===0||_t===3||_t===2)&&(_t=4),At===null||!(ms&268435455)&&!(ec&268435455)||Si(At,Ot)}function oc(r,s){var a=Fe;Fe|=2;var c=fy();(At!==r||Ot!==s)&&(jr=null,ys(r,s));do try{AT();break}catch(h){hy(r,h)}while(!0);if(ph(),Fe=a,Zu.current=c,pt!==null)throw Error(t(261));return At=null,Ot=0,_t}function AT(){for(;pt!==null;)py(pt)}function RT(){for(;pt!==null&&!ru();)py(pt)}function py(r){var s=vy(r.alternate,r,wn);r.memoizedProps=r.pendingProps,s===null?my(r):pt=s,qh.current=null}function my(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=ET(a,s),a!==null){a.flags&=32767,pt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,pt=null;return}}else if(a=_T(a,s,wn),a!==null){pt=a;return}if(s=s.sibling,s!==null){pt=s;return}pt=s=r}while(s!==null);_t===0&&(_t=5)}function vs(r,s,a){var c=De,h=Dn.transition;try{Dn.transition=null,De=1,kT(r,s,a,c)}finally{Dn.transition=h,De=c}return null}function kT(r,s,a,c){do No();while(Ti!==null);if(Fe&6)throw Error(t(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(qe(r,g),r===At&&(pt=At=null,Ot=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||nc||(nc=!0,wy(Cn,function(){return No(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Dn.transition,Dn.transition=null;var w=De;De=1;var S=Fe;Fe|=4,qh.current=null,IT(r,a),sy(a,r),QE(th),di=!!eh,th=eh=null,r.current=a,ST(a),Fd(),Fe=S,De=w,Dn.transition=g}else r.current=a;if(nc&&(nc=!1,Ti=r,rc=h),g=r.pendingLanes,g===0&&(Ei=null),ou(a.stateNode),on(r,Ke()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(tc)throw tc=!1,r=Qh,Qh=null,r;return rc&1&&r.tag!==0&&No(),g=r.pendingLanes,g&1?r===Yh?ll++:(ll=0,Yh=r):ll=0,yi(),null}function No(){if(Ti!==null){var r=ui(rc),s=Dn.transition,a=De;try{if(Dn.transition=null,De=16>r?16:r,Ti===null)var c=!1;else{if(r=Ti,Ti=null,rc=0,Fe&6)throw Error(t(331));var h=Fe;for(Fe|=4,le=r.current;le!==null;){var g=le,w=g.child;if(le.flags&16){var S=g.deletions;if(S!==null){for(var R=0;R<S.length;R++){var B=S[R];for(le=B;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:sl(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,le=Z;else for(;le!==null;){J=le;var Y=J.sibling,se=J.return;if(ey(J),J===B){le=null;break}if(Y!==null){Y.return=se,le=Y;break}le=se}}}var ue=g.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var ut=ce.sibling;ce.sibling=null,ce=ut}while(ce!==null)}}le=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,le=w;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:sl(9,g,g.return)}var F=g.sibling;if(F!==null){F.return=g.return,le=F;break e}le=g.return}}var x=r.current;for(le=x;le!==null;){w=le;var U=w.child;if(w.subtreeFlags&2064&&U!==null)U.return=w,le=U;else e:for(w=x;le!==null;){if(S=le,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Ju(9,S)}}catch(de){st(S,S.return,de)}if(S===w){le=null;break e}var te=S.sibling;if(te!==null){te.return=S.return,le=te;break e}le=S.return}}if(Fe=h,yi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ts,r)}catch{}c=!0}return c}finally{De=a,Dn.transition=s}}return!1}function gy(r,s,a){s=ko(a,s),s=Og(r,s,1),r=wi(r,s,1),s=Jt(),r!==null&&(ai(r,1,s),on(r,s))}function st(r,s,a){if(r.tag===3)gy(r,r,a);else for(;s!==null;){if(s.tag===3){gy(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ei===null||!Ei.has(c))){r=ko(a,r),r=Lg(s,r,1),s=wi(s,r,1),r=Jt(),s!==null&&(ai(s,1,r),on(s,r));break}}s=s.return}}function bT(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=Jt(),r.pingedLanes|=r.suspendedLanes&a,At===r&&(Ot&a)===a&&(_t===4||_t===3&&(Ot&130023424)===Ot&&500>Ke()-Kh?ys(r,0):Gh|=a),on(r,s)}function yy(r,s){s===0&&(r.mode&1?(s=to,to<<=1,!(to&130023424)&&(to=4194304)):s=1);var a=Jt();r=Mr(r,s),r!==null&&(ai(r,s,a),on(r,a))}function xT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),yy(r,a)}function DT(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),yy(r,a)}var vy;vy=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return rn=!1,wT(r,s,a);rn=!!(r.flags&131072)}else rn=!1,et&&s.flags&1048576&&Xm(s,Lu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Yu(r,s),r=s.pendingProps;var h=Eo(s,jt.current);Ao(s,a),h=Ch(null,s,c,r,h,a);var g=Ph();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(c)?(g=!0,Du(s)):g=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,vh(s),h.updater=Ku,s.stateNode=h,h._reactInternals=s,Dh(s,c,r,a),s=Vh(null,s,c,!0,g,a)):(s.tag=0,et&&g&&lh(s),Xt(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Yu(r,s),r=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=OT(c),r=Yn(c,r),h){case 0:s=Lh(null,s,c,r,a);break e;case 1:s=Hg(null,s,c,r,a);break e;case 11:s=Ug(null,s,c,r,a);break e;case 14:s=jg(null,s,c,Yn(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Yn(c,h),Lh(r,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Yn(c,h),Hg(r,s,c,h,a);case 3:e:{if(Wg(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,h=g.element,og(r,s),Bu(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){h=ko(Error(t(423)),s),s=qg(r,s,c,a,h);break e}else if(c!==h){h=ko(Error(t(424)),s),s=qg(r,s,c,a,h);break e}else for(vn=pi(s.stateNode.containerInfo.firstChild),yn=s,et=!0,Qn=null,a=ig(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(So(),c===h){s=Ur(r,s,a);break e}Xt(r,s,c,a)}s=s.child}return s;case 5:return ug(s),r===null&&dh(s),c=s.type,h=s.pendingProps,g=r!==null?r.memoizedProps:null,w=h.children,nh(c,h)?w=null:g!==null&&nh(c,g)&&(s.flags|=32),$g(r,s),Xt(r,s,w,a),s.child;case 6:return r===null&&dh(s),null;case 13:return Gg(r,s,a);case 4:return wh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Co(s,null,c,a):Xt(r,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Yn(c,h),Ug(r,s,c,h,a);case 7:return Xt(r,s,s.pendingProps,a),s.child;case 8:return Xt(r,s,s.pendingProps.children,a),s.child;case 12:return Xt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,g=s.memoizedProps,w=h.value,Qe(Fu,c._currentValue),c._currentValue=w,g!==null)if(Kn(g.value,w)){if(g.children===h.children&&!tn.current){s=Ur(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var S=g.dependencies;if(S!==null){w=g.child;for(var R=S.firstContext;R!==null;){if(R.context===c){if(g.tag===1){R=Fr(-1,a&-a),R.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var J=B.pending;J===null?R.next=R:(R.next=J.next,J.next=R),B.pending=R}}g.lanes|=a,R=g.alternate,R!==null&&(R.lanes|=a),gh(g.return,a,s),S.lanes|=a;break}R=R.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,S=w.alternate,S!==null&&(S.lanes|=a),gh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Xt(r,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,Ao(s,a),h=bn(h),c=c(h),s.flags|=1,Xt(r,s,c,a),s.child;case 14:return c=s.type,h=Yn(c,s.pendingProps),h=Yn(c.type,h),jg(r,s,c,h,a);case 15:return Bg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Yn(c,h),Yu(r,s),s.tag=1,nn(c)?(r=!0,Du(s)):r=!1,Ao(s,a),Dg(s,c,h),Dh(s,c,h,a),Vh(null,s,c,!0,r,a);case 19:return Qg(r,s,a);case 22:return zg(r,s,a)}throw Error(t(156,s.tag))};function wy(r,s){return Zs(r,s)}function NT(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(r,s,a,c){return new NT(r,s,a,c)}function nf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function OT(r){if(typeof r=="function")return nf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===Ft)return 14}return 2}function Ci(r,s){var a=r.alternate;return a===null?(a=Nn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ac(r,s,a,c,h,g){var w=2;if(c=r,typeof r=="function")nf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case b:return ws(a.children,h,g,s);case T:w=8,h|=8;break;case C:return r=Nn(12,a,s,h|2),r.elementType=C,r.lanes=g,r;case A:return r=Nn(13,a,s,h),r.elementType=A,r.lanes=g,r;case at:return r=Nn(19,a,s,h),r.elementType=at,r.lanes=g,r;case We:return lc(a,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:w=10;break e;case N:w=9;break e;case L:w=11;break e;case Ft:w=14;break e;case Ut:w=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Nn(w,a,s,h),s.elementType=r,s.type=c,s.lanes=g,s}function ws(r,s,a,c){return r=Nn(7,r,c,s),r.lanes=a,r}function lc(r,s,a,c){return r=Nn(22,r,c,s),r.elementType=We,r.lanes=a,r.stateNode={isHidden:!1},r}function rf(r,s,a){return r=Nn(6,r,null,s),r.lanes=a,r}function sf(r,s,a){return s=Nn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function LT(r,s,a,c,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function of(r,s,a,c,h,g,w,S,R){return r=new LT(r,s,a,S,R),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Nn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(g),r}function VT(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function _y(r){if(!r)return gi;r=r._reactInternals;e:{if(Bn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(nn(a))return Km(r,a,s)}return s}function Ey(r,s,a,c,h,g,w,S,R){return r=of(a,c,!0,r,h,g,w,S,R),r.context=_y(null),a=r.current,c=Jt(),h=Ii(a),g=Fr(c,h),g.callback=s??null,wi(a,g,h),r.current.lanes=h,ai(r,h,c),on(r,c),r}function uc(r,s,a,c){var h=s.current,g=Jt(),w=Ii(h);return a=_y(a),s.context===null?s.context=a:s.pendingContext=a,s=Fr(g,w),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=wi(h,s,w),r!==null&&(Zn(r,h,w,g),ju(r,h,w)),w}function cc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ty(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function af(r,s){Ty(r,s),(r=r.alternate)&&Ty(r,s)}function MT(){return null}var Iy=typeof reportError=="function"?reportError:function(r){console.error(r)};function lf(r){this._internalRoot=r}dc.prototype.render=lf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));uc(r,s,null,null)},dc.prototype.unmount=lf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;gs(function(){uc(null,r,null,null)}),s[Nr]=null}};function dc(r){this._internalRoot=r}dc.prototype.unstable_scheduleHydration=function(r){if(r){var s=du();r={blockedOn:null,target:r,priority:s};for(var a=0;a<ar.length&&s!==0&&s<ar[a].priority;a++);ar.splice(a,0,r),a===0&&pu(r)}};function uf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function hc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Sy(){}function FT(r,s,a,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var B=cc(w);g.call(B)}}var w=Ey(s,c,r,0,null,!1,!1,"",Sy);return r._reactRootContainer=w,r[Nr]=w.current,qa(r.nodeType===8?r.parentNode:r),gs(),w}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var S=c;c=function(){var B=cc(R);S.call(B)}}var R=of(r,0,!1,null,null,!1,!1,"",Sy);return r._reactRootContainer=R,r[Nr]=R.current,qa(r.nodeType===8?r.parentNode:r),gs(function(){uc(s,R,a,c)}),R}function fc(r,s,a,c,h){var g=a._reactRootContainer;if(g){var w=g;if(typeof h=="function"){var S=h;h=function(){var R=cc(w);S.call(R)}}uc(s,w,r,h)}else w=FT(a,s,r,h,c);return cc(w)}uu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=si(s.pendingLanes);a!==0&&(li(s,a|1),on(s,Ke()),!(Fe&6)&&(Do=Ke()+500,yi()))}break;case 13:gs(function(){var c=Mr(r,1);if(c!==null){var h=Jt();Zn(c,r,1,h)}}),af(r,1)}},no=function(r){if(r.tag===13){var s=Mr(r,134217728);if(s!==null){var a=Jt();Zn(s,r,134217728,a)}af(r,134217728)}},cu=function(r){if(r.tag===13){var s=Ii(r),a=Mr(r,s);if(a!==null){var c=Jt();Zn(a,r,s,c)}af(r,s)}},du=function(){return De},hu=function(r,s){var a=De;try{return De=r,s()}finally{De=a}},Gs=function(r,s,a){switch(s){case"input":if(ya(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var h=bu(c);if(!h)throw Error(t(90));Bs(c),ya(c,h)}}}break;case"textarea":Ws(r,a);break;case"select":s=a.value,s!=null&&Cr(r,!!a.multiple,s,!1)}},Yi=Zh,Aa=gs;var UT={usingClientEntryPoint:!1,Events:[Qa,wo,bu,sr,Pa,Zh]},ul={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jT={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ba(r),r===null?null:r.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||MT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{ts=pc.inject(jT),fn=pc}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UT,an.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uf(s))throw Error(t(200));return VT(r,s,null,a)},an.createRoot=function(r,s){if(!uf(r))throw Error(t(299));var a=!1,c="",h=Iy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=of(r,1,!1,null,null,a,!1,c,h),r[Nr]=s.current,qa(r.nodeType===8?r.parentNode:r),new lf(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ba(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return gs(r)},an.hydrate=function(r,s,a){if(!hc(s))throw Error(t(200));return fc(null,r,s,!0,a)},an.hydrateRoot=function(r,s,a){if(!uf(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,h=!1,g="",w=Iy;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Ey(s,null,r,1,a??null,h,!1,g,w),r[Nr]=s.current,qa(r),c)for(r=0;r<c.length;r++)a=c[r],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new dc(s)},an.render=function(r,s,a){if(!hc(s))throw Error(t(200));return fc(null,r,s,!1,a)},an.unmountComponentAtNode=function(r){if(!hc(r))throw Error(t(40));return r._reactRootContainer?(gs(function(){fc(null,null,r,!1,function(){r._reactRootContainer=null,r[Nr]=null})}),!0):!1},an.unstable_batchedUpdates=Zh,an.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!hc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return fc(r,s,a,!1,c)},an.version="18.3.1-next-f1338f8080-20240426",an}var Dy;function QT(){if(Dy)return hf.exports;Dy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hf.exports=KT(),hf.exports}var Ny;function YT(){if(Ny)return mc;Ny=1;var n=QT();return mc.createRoot=n.createRoot,mc.hydrateRoot=n.hydrateRoot,mc}var XT=YT();const JT=()=>H.jsxs("header",{className:"Header",style:{backgroundImage:"url('../assets/header_impulsa.jpg')"},children:[H.jsx("img",{src:"./assets/impulsa_blanco.svg",alt:"Logo de Impulsa"}),H.jsx("h1",{children:"Formulario de Presentación de Proyecto"})]}),ZT=()=>H.jsx("footer",{className:"Footer",children:H.jsx("img",{src:"./assets/sf_blanco.svg",alt:"Provincia de Santa Fe"})}),_n=n=>H.jsxs("div",{className:"form-group",children:[H.jsx("label",{children:n.label}),H.jsx("input",{className:"input",type:n.text,name:n.name,defaultValue:n.defaultValue})]});var Oy={ALLUSERSPROFILE:"C:\\ProgramData",APIKEY:"AIzaSyAMCtRmdGQfs7CVSvrrEbpxgSmbN9d87yk",APPDATA:"C:\\Users\\Usuario\\AppData\\Roaming",APPID:"1:752618464069:web:0479fc85cb481af7b5d42c",AUTHDOMAIN:"AIzaSyAMCtRmdGQfs7CVSvrrEbpxgSmbN9d87yk",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_132_MOGVPHTDSUQAXRRJ",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-HDF89UI",ComSpec:"C:\\Windows\\system32\\cmd.exe",C_EM64T_REDIST11:"C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\Usuario\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",GIT_LFS_PATH:"C:\\Program Files\\Git LFS",HOME:"C:\\Users\\Usuario",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Usuario",INIT_CWD:"C:\\Users\\Usuario\\Desktop\\Roman Diseño\\GitHub MTESS-Form\\v2",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Usuario\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-HDF89UI",MESSAGINGSENDERID:"752618464069",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Usuario\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Usuario\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Usuario\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Usuario\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\Usuario\\Desktop\\Roman Diseño\\GitHub MTESS-Form\\v2",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\Usuario\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Usuario\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.18.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\Usuario\\Desktop\\Roman Diseño\\GitHub MTESS-Form\\v2\\package.json",npm_package_name:"v2",npm_package_version:"0.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Usuario\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\Usuario\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\Usuario\\Desktop\\Roman Diseño\\GitHub MTESS-Form\\v2\\node_modules\\.bin;C:\\Users\\Usuario\\Desktop\\Roman Diseño\\GitHub MTESS-Form\\node_modules\\.bin;C:\\Users\\Usuario\\Desktop\\Roman Diseño\\node_modules\\.bin;C:\\Users\\Usuario\\Desktop\\node_modules\\.bin;C:\\Users\\Usuario\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\java8path;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\bin\\Intel64;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git LFS;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\windows\\system32;C:\\Users\\Usuario\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Usuario\\AppData\\Roaming\\npm;C:\\Users\\Usuario\\.dotnet\\tools;;c:\\Users\\Usuario\\AppData\\Roaming\\Code\\User\\globalStorage\\github.copilot-chat\\debugCommand",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROJECTID:"mtess-form",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Usuario\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",STORAGEBUCKET:"mtess-form.appspot.com",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\Usuario\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.96.2",TMP:"C:\\Users\\Usuario\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-HDF89UI",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-HDF89UI",USERNAME:"Usuario",USERPROFILE:"C:\\Users\\Usuario",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Usuario\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Usuario\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-a7e5d6976d-sock",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},eI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],d=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(d&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],d=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],d=o+1<n.length,f=d?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,I=(l&3)<<4|f>>4;let P=(f&15)<<2|y>>6,D=y&63;p||(D=64,d||(P=64)),i.push(t[_],t[I],t[P],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):eI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||I==null)throw new tI;const P=l<<2|f>>4;if(i.push(P),y!==64){const D=f<<4&240|y>>2;if(i.push(D),I!==64){const M=y<<6&192|I;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nI=function(n){const e=gw(n);return yw.encodeByteArray(e,!0)},Vc=function(n){return nI(n).replace(/\./g,"")},vw=function(n){try{return yw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=()=>rI().__FIREBASE_DEFAULTS__,sI=()=>{if(typeof process>"u"||typeof Oy>"u")return;const n=Oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vw(n[1]);return e&&JSON.parse(e)},pd=()=>{try{return iI()||sI()||oI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ww=n=>{var e,t;return(t=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},aI=n=>{const e=ww(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_w=()=>{var n;return(n=pd())===null||n===void 0?void 0:n.config},Ew=n=>{var e;return(e=pd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Vc(JSON.stringify(t)),Vc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function dI(){var n;const e=(n=pd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mI(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gI(){return!dI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yI(){try{return typeof indexedDB=="object"}catch{return!1}}function vI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="FirebaseError";class Zr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=wI,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?_I(l,i):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new Zr(o,f,i)}}function _I(n,e){return n.replace(EI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const EI=/\{\$([^}]+)}/g;function TI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Mc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],d=e[o];if(Ly(l)&&Ly(d)){if(!Mc(l,d))return!1}else if(l!==d)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Ly(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function fl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function pl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function II(n,e){const t=new SI(n,e);return t.subscribe.bind(t)}class SI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");CI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=mf),o.error===void 0&&(o.error=mf),o.complete===void 0&&(o.complete=mf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function mf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class Rs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new lI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RI(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&d.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const d=this.instances.get(o);return d&&e(d,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AI(n){return n===Es?void 0:n}function RI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(be||(be={}));const bI={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},xI=be.INFO,DI={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},NI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=DI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class op{constructor(e){this.name=e,this._logLevel=xI,this._logHandler=NI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const OI=(n,e)=>e.some(t=>n instanceof t);let Vy,My;function LI(){return Vy||(Vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VI(){return My||(My=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tw=new WeakMap,bf=new WeakMap,Iw=new WeakMap,gf=new WeakMap,ap=new WeakMap;function MI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(Oi(n.result)),o()},d=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&Tw.set(t,n)}).catch(()=>{}),ap.set(e,n),e}function FI(n){if(bf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});bf.set(n,e)}let xf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Iw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UI(n){xf=n(xf)}function jI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(yf(this),e,...t);return Iw.set(i,e.sort?e.sort():[e]),Oi(i)}:VI().includes(n)?function(...e){return n.apply(yf(this),e),Oi(Tw.get(this))}:function(...e){return Oi(n.apply(yf(this),e))}}function BI(n){return typeof n=="function"?jI(n):(n instanceof IDBTransaction&&FI(n),OI(n,LI())?new Proxy(n,xf):n)}function Oi(n){if(n instanceof IDBRequest)return MI(n);if(gf.has(n))return gf.get(n);const e=BI(n);return e!==n&&(gf.set(n,e),ap.set(e,n)),e}const yf=n=>ap.get(n);function zI(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const d=indexedDB.open(n,e),f=Oi(d);return i&&d.addEventListener("upgradeneeded",p=>{i(Oi(d.result),p.oldVersion,p.newVersion,Oi(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const $I=["get","getKey","getAll","getAllKeys","count"],HI=["put","add","delete","clear"],vf=new Map;function Fy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vf.get(e))return vf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=HI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||$I.includes(t)))return;const l=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return vf.set(e,l),l}UI(n=>({...n,get:(e,t,i)=>Fy(e,t)||n.get(e,t,i),has:(e,t)=>!!Fy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function qI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Df="@firebase/app",Uy="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new op("@firebase/app"),GI="@firebase/app-compat",KI="@firebase/analytics-compat",QI="@firebase/analytics",YI="@firebase/app-check-compat",XI="@firebase/app-check",JI="@firebase/auth",ZI="@firebase/auth-compat",eS="@firebase/database",tS="@firebase/data-connect",nS="@firebase/database-compat",rS="@firebase/functions",iS="@firebase/functions-compat",sS="@firebase/installations",oS="@firebase/installations-compat",aS="@firebase/messaging",lS="@firebase/messaging-compat",uS="@firebase/performance",cS="@firebase/performance-compat",dS="@firebase/remote-config",hS="@firebase/remote-config-compat",fS="@firebase/storage",pS="@firebase/storage-compat",mS="@firebase/firestore",gS="@firebase/vertexai",yS="@firebase/firestore-compat",vS="firebase",wS="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]",_S={[Df]:"fire-core",[GI]:"fire-core-compat",[QI]:"fire-analytics",[KI]:"fire-analytics-compat",[XI]:"fire-app-check",[YI]:"fire-app-check-compat",[JI]:"fire-auth",[ZI]:"fire-auth-compat",[eS]:"fire-rtdb",[tS]:"fire-data-connect",[nS]:"fire-rtdb-compat",[rS]:"fire-fn",[iS]:"fire-fn-compat",[sS]:"fire-iid",[oS]:"fire-iid-compat",[aS]:"fire-fcm",[lS]:"fire-fcm-compat",[uS]:"fire-perf",[cS]:"fire-perf-compat",[dS]:"fire-rc",[hS]:"fire-rc-compat",[fS]:"fire-gcs",[pS]:"fire-gcs-compat",[mS]:"fire-fst",[yS]:"fire-fst-compat",[gS]:"fire-vertex","fire-js":"fire-js",[vS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,ES=new Map,Of=new Map;function jy(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qo(n){const e=n.name;if(Of.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,n);for(const t of Fc.values())jy(t,n);for(const t of ES.values())jy(t,n);return!0}function lp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function er(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Ll("app","Firebase",TS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=wS;function Sw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Nf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Li.create("bad-app-name",{appName:String(o)});if(t||(t=_w()),!t)throw Li.create("no-options");const l=Fc.get(o);if(l){if(Mc(t,l.options)&&Mc(i,l.config))return l;throw Li.create("duplicate-app",{appName:o})}const d=new kI(o);for(const p of Of.values())d.addComponent(p);const f=new IS(t,i,d);return Fc.set(o,f),f}function Cw(n=Nf){const e=Fc.get(n);if(!e&&n===Nf&&_w())return Sw();if(!e)throw Li.create("no-app",{appName:n});return e}function Vi(n,e,t){var i;let o=(i=_S[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(f.join(" "));return}qo(new Rs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebase-heartbeat-database",CS=1,Il="firebase-heartbeat-store";let wf=null;function Pw(){return wf||(wf=zI(SS,CS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Il)}catch(t){console.warn(t)}}}}).catch(n=>{throw Li.create("idb-open",{originalErrorMessage:n.message})})),wf}async function PS(n){try{const t=(await Pw()).transaction(Il),i=await t.objectStore(Il).get(Aw(n));return await t.done,i}catch(e){if(e instanceof Zr)Qr.warn(e.message);else{const t=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(t.message)}}}async function By(n,e){try{const i=(await Pw()).transaction(Il,"readwrite");await i.objectStore(Il).put(e,Aw(n)),await i.done}catch(t){if(t instanceof Zr)Qr.warn(t.message);else{const i=Li.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qr.warn(i.message)}}}function Aw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=1024,RS=30*24*60*60*1e3;class kS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=zy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const f=new Date(d.date).valueOf();return Date.now()-f<=RS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Qr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zy(),{heartbeatsToSend:i,unsentEntries:o}=bS(this._heartbeatsCache.heartbeats),l=Vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Qr.warn(t),""}}}function zy(){return new Date().toISOString().substring(0,10)}function bS(n,e=AS){const t=[];let i=n.slice();for(const o of n){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),$y(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),$y(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class xS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?vI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return By(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return By(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function $y(n){return Vc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n){qo(new Rs("platform-logger",e=>new WI(e),"PRIVATE")),qo(new Rs("heartbeat",e=>new kS(e),"PRIVATE")),Vi(Df,Uy,n),Vi(Df,Uy,"esm2017"),Vi("fire-js","")}DS("");var NS="firebase",OS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(NS,OS,"app");var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,Rw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function C(){}C.prototype=T.prototype,b.D=T.prototype,b.prototype=new C,b.prototype.constructor=b,b.C=function(k,N,L){for(var A=Array(arguments.length-2),at=2;at<arguments.length;at++)A[at-2]=arguments[at];return T.prototype[N].apply(k,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,T,C){C||(C=0);var k=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)k[N]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(N=0;16>N;++N)k[N]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=b.g[0],C=b.g[1],N=b.g[2];var L=b.g[3],A=T+(L^C&(N^L))+k[0]+3614090360&4294967295;T=C+(A<<7&4294967295|A>>>25),A=L+(N^T&(C^N))+k[1]+3905402710&4294967295,L=T+(A<<12&4294967295|A>>>20),A=N+(C^L&(T^C))+k[2]+606105819&4294967295,N=L+(A<<17&4294967295|A>>>15),A=C+(T^N&(L^T))+k[3]+3250441966&4294967295,C=N+(A<<22&4294967295|A>>>10),A=T+(L^C&(N^L))+k[4]+4118548399&4294967295,T=C+(A<<7&4294967295|A>>>25),A=L+(N^T&(C^N))+k[5]+1200080426&4294967295,L=T+(A<<12&4294967295|A>>>20),A=N+(C^L&(T^C))+k[6]+2821735955&4294967295,N=L+(A<<17&4294967295|A>>>15),A=C+(T^N&(L^T))+k[7]+4249261313&4294967295,C=N+(A<<22&4294967295|A>>>10),A=T+(L^C&(N^L))+k[8]+1770035416&4294967295,T=C+(A<<7&4294967295|A>>>25),A=L+(N^T&(C^N))+k[9]+2336552879&4294967295,L=T+(A<<12&4294967295|A>>>20),A=N+(C^L&(T^C))+k[10]+4294925233&4294967295,N=L+(A<<17&4294967295|A>>>15),A=C+(T^N&(L^T))+k[11]+2304563134&4294967295,C=N+(A<<22&4294967295|A>>>10),A=T+(L^C&(N^L))+k[12]+1804603682&4294967295,T=C+(A<<7&4294967295|A>>>25),A=L+(N^T&(C^N))+k[13]+4254626195&4294967295,L=T+(A<<12&4294967295|A>>>20),A=N+(C^L&(T^C))+k[14]+2792965006&4294967295,N=L+(A<<17&4294967295|A>>>15),A=C+(T^N&(L^T))+k[15]+1236535329&4294967295,C=N+(A<<22&4294967295|A>>>10),A=T+(N^L&(C^N))+k[1]+4129170786&4294967295,T=C+(A<<5&4294967295|A>>>27),A=L+(C^N&(T^C))+k[6]+3225465664&4294967295,L=T+(A<<9&4294967295|A>>>23),A=N+(T^C&(L^T))+k[11]+643717713&4294967295,N=L+(A<<14&4294967295|A>>>18),A=C+(L^T&(N^L))+k[0]+3921069994&4294967295,C=N+(A<<20&4294967295|A>>>12),A=T+(N^L&(C^N))+k[5]+3593408605&4294967295,T=C+(A<<5&4294967295|A>>>27),A=L+(C^N&(T^C))+k[10]+38016083&4294967295,L=T+(A<<9&4294967295|A>>>23),A=N+(T^C&(L^T))+k[15]+3634488961&4294967295,N=L+(A<<14&4294967295|A>>>18),A=C+(L^T&(N^L))+k[4]+3889429448&4294967295,C=N+(A<<20&4294967295|A>>>12),A=T+(N^L&(C^N))+k[9]+568446438&4294967295,T=C+(A<<5&4294967295|A>>>27),A=L+(C^N&(T^C))+k[14]+3275163606&4294967295,L=T+(A<<9&4294967295|A>>>23),A=N+(T^C&(L^T))+k[3]+4107603335&4294967295,N=L+(A<<14&4294967295|A>>>18),A=C+(L^T&(N^L))+k[8]+1163531501&4294967295,C=N+(A<<20&4294967295|A>>>12),A=T+(N^L&(C^N))+k[13]+2850285829&4294967295,T=C+(A<<5&4294967295|A>>>27),A=L+(C^N&(T^C))+k[2]+4243563512&4294967295,L=T+(A<<9&4294967295|A>>>23),A=N+(T^C&(L^T))+k[7]+1735328473&4294967295,N=L+(A<<14&4294967295|A>>>18),A=C+(L^T&(N^L))+k[12]+2368359562&4294967295,C=N+(A<<20&4294967295|A>>>12),A=T+(C^N^L)+k[5]+4294588738&4294967295,T=C+(A<<4&4294967295|A>>>28),A=L+(T^C^N)+k[8]+2272392833&4294967295,L=T+(A<<11&4294967295|A>>>21),A=N+(L^T^C)+k[11]+1839030562&4294967295,N=L+(A<<16&4294967295|A>>>16),A=C+(N^L^T)+k[14]+4259657740&4294967295,C=N+(A<<23&4294967295|A>>>9),A=T+(C^N^L)+k[1]+2763975236&4294967295,T=C+(A<<4&4294967295|A>>>28),A=L+(T^C^N)+k[4]+1272893353&4294967295,L=T+(A<<11&4294967295|A>>>21),A=N+(L^T^C)+k[7]+4139469664&4294967295,N=L+(A<<16&4294967295|A>>>16),A=C+(N^L^T)+k[10]+3200236656&4294967295,C=N+(A<<23&4294967295|A>>>9),A=T+(C^N^L)+k[13]+681279174&4294967295,T=C+(A<<4&4294967295|A>>>28),A=L+(T^C^N)+k[0]+3936430074&4294967295,L=T+(A<<11&4294967295|A>>>21),A=N+(L^T^C)+k[3]+3572445317&4294967295,N=L+(A<<16&4294967295|A>>>16),A=C+(N^L^T)+k[6]+76029189&4294967295,C=N+(A<<23&4294967295|A>>>9),A=T+(C^N^L)+k[9]+3654602809&4294967295,T=C+(A<<4&4294967295|A>>>28),A=L+(T^C^N)+k[12]+3873151461&4294967295,L=T+(A<<11&4294967295|A>>>21),A=N+(L^T^C)+k[15]+530742520&4294967295,N=L+(A<<16&4294967295|A>>>16),A=C+(N^L^T)+k[2]+3299628645&4294967295,C=N+(A<<23&4294967295|A>>>9),A=T+(N^(C|~L))+k[0]+4096336452&4294967295,T=C+(A<<6&4294967295|A>>>26),A=L+(C^(T|~N))+k[7]+1126891415&4294967295,L=T+(A<<10&4294967295|A>>>22),A=N+(T^(L|~C))+k[14]+2878612391&4294967295,N=L+(A<<15&4294967295|A>>>17),A=C+(L^(N|~T))+k[5]+4237533241&4294967295,C=N+(A<<21&4294967295|A>>>11),A=T+(N^(C|~L))+k[12]+1700485571&4294967295,T=C+(A<<6&4294967295|A>>>26),A=L+(C^(T|~N))+k[3]+2399980690&4294967295,L=T+(A<<10&4294967295|A>>>22),A=N+(T^(L|~C))+k[10]+4293915773&4294967295,N=L+(A<<15&4294967295|A>>>17),A=C+(L^(N|~T))+k[1]+2240044497&4294967295,C=N+(A<<21&4294967295|A>>>11),A=T+(N^(C|~L))+k[8]+1873313359&4294967295,T=C+(A<<6&4294967295|A>>>26),A=L+(C^(T|~N))+k[15]+4264355552&4294967295,L=T+(A<<10&4294967295|A>>>22),A=N+(T^(L|~C))+k[6]+2734768916&4294967295,N=L+(A<<15&4294967295|A>>>17),A=C+(L^(N|~T))+k[13]+1309151649&4294967295,C=N+(A<<21&4294967295|A>>>11),A=T+(N^(C|~L))+k[4]+4149444226&4294967295,T=C+(A<<6&4294967295|A>>>26),A=L+(C^(T|~N))+k[11]+3174756917&4294967295,L=T+(A<<10&4294967295|A>>>22),A=N+(T^(L|~C))+k[2]+718787259&4294967295,N=L+(A<<15&4294967295|A>>>17),A=C+(L^(N|~T))+k[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+L&4294967295}i.prototype.u=function(b,T){T===void 0&&(T=b.length);for(var C=T-this.blockSize,k=this.B,N=this.h,L=0;L<T;){if(N==0)for(;L<=C;)o(this,b,L),L+=this.blockSize;if(typeof b=="string"){for(;L<T;)if(k[N++]=b.charCodeAt(L++),N==this.blockSize){o(this,k),N=0;break}}else for(;L<T;)if(k[N++]=b[L++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=T},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;var C=8*this.o;for(T=b.length-8;T<b.length;++T)b[T]=C&255,C/=256;for(this.u(b),b=Array(16),T=C=0;4>T;++T)for(var k=0;32>k;k+=8)b[C++]=this.g[T]>>>k&255;return b};function l(b,T){var C=f;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=T(b)}function d(b,T){this.h=T;for(var C=[],k=!0,N=b.length-1;0<=N;N--){var L=b[N]|0;k&&L==T||(C[N]=L,k=!1)}this.g=C}var f={};function p(b){return-128<=b&&128>b?l(b,function(T){return new d([T|0],0>T?-1:0)}):new d([b|0],0>b?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return I;if(0>b)return j(y(-b));for(var T=[],C=1,k=0;b>=C;k++)T[k]=b/C|0,C*=4294967296;return new d(T,0)}function _(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return j(_(b.substring(1),T));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(T,8)),k=I,N=0;N<b.length;N+=8){var L=Math.min(8,b.length-N),A=parseInt(b.substring(N,N+L),T);8>L?(L=y(Math.pow(T,L)),k=k.j(L).add(y(A))):(k=k.j(C),k=k.add(y(A)))}return k}var I=p(0),P=p(1),D=p(16777216);n=d.prototype,n.m=function(){if(W(this))return-j(this).m();for(var b=0,T=1,C=0;C<this.g.length;C++){var k=this.i(C);b+=(0<=k?k:4294967296+k)*T,T*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M(this))return"0";if(W(this))return"-"+j(this).toString(b);for(var T=y(Math.pow(b,6)),C=this,k="";;){var N=he(C,T).g;C=K(C,N.j(T));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(b);if(C=N,M(C))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function M(b){if(b.h!=0)return!1;for(var T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function W(b){return b.h==-1}n.l=function(b){return b=K(this,b),W(b)?-1:M(b)?0:1};function j(b){for(var T=b.g.length,C=[],k=0;k<T;k++)C[k]=~b.g[k];return new d(C,~b.h).add(P)}n.abs=function(){return W(this)?j(this):this},n.add=function(b){for(var T=Math.max(this.g.length,b.g.length),C=[],k=0,N=0;N<=T;N++){var L=k+(this.i(N)&65535)+(b.i(N)&65535),A=(L>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);k=A>>>16,L&=65535,A&=65535,C[N]=A<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function K(b,T){return b.add(j(T))}n.j=function(b){if(M(this)||M(b))return I;if(W(this))return W(b)?j(this).j(j(b)):j(j(this).j(b));if(W(b))return j(this.j(j(b)));if(0>this.l(D)&&0>b.l(D))return y(this.m()*b.m());for(var T=this.g.length+b.g.length,C=[],k=0;k<2*T;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<b.g.length;N++){var L=this.i(k)>>>16,A=this.i(k)&65535,at=b.i(N)>>>16,Ft=b.i(N)&65535;C[2*k+2*N]+=A*Ft,X(C,2*k+2*N),C[2*k+2*N+1]+=L*Ft,X(C,2*k+2*N+1),C[2*k+2*N+1]+=A*at,X(C,2*k+2*N+1),C[2*k+2*N+2]+=L*at,X(C,2*k+2*N+2)}for(k=0;k<T;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=T;k<2*T;k++)C[k]=0;return new d(C,0)};function X(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function ie(b,T){this.g=b,this.h=T}function he(b,T){if(M(T))throw Error("division by zero");if(M(b))return new ie(I,I);if(W(b))return T=he(j(b),T),new ie(j(T.g),j(T.h));if(W(T))return T=he(b,j(T)),new ie(j(T.g),T.h);if(30<b.g.length){if(W(b)||W(T))throw Error("slowDivide_ only works with positive integers.");for(var C=P,k=T;0>=k.l(b);)C=Pe(C),k=Pe(k);var N=Se(C,1),L=Se(k,1);for(k=Se(k,2),C=Se(C,2);!M(k);){var A=L.add(k);0>=A.l(b)&&(N=N.add(C),L=A),k=Se(k,1),C=Se(C,1)}return T=K(b,N.j(T)),new ie(N,T)}for(N=I;0<=b.l(T);){for(C=Math.max(1,Math.floor(b.m()/T.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=y(C),A=L.j(T);W(A)||0<A.l(b);)C-=k,L=y(C),A=L.j(T);M(L)&&(L=P),N=N.add(L),b=K(b,A)}return new ie(N,b)}n.A=function(b){return he(this,b).h},n.and=function(b){for(var T=Math.max(this.g.length,b.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)&b.i(k);return new d(C,this.h&b.h)},n.or=function(b){for(var T=Math.max(this.g.length,b.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)|b.i(k);return new d(C,this.h|b.h)},n.xor=function(b){for(var T=Math.max(this.g.length,b.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)^b.i(k);return new d(C,this.h^b.h)};function Pe(b){for(var T=b.g.length+1,C=[],k=0;k<T;k++)C[k]=b.i(k)<<1|b.i(k-1)>>>31;return new d(C,b.h)}function Se(b,T){var C=T>>5;T%=32;for(var k=b.g.length-C,N=[],L=0;L<k;L++)N[L]=0<T?b.i(L+C)>>>T|b.i(L+C+1)<<32-T:b.i(L+C);return new d(N,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Rw=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=_,Cs=d}).apply(typeof Hy<"u"?Hy:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kw,ml,bw,Sc,Lf,xw,Dw,Nw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var V=u[E];if(!(V in v))break e;v=v[V]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,V={next:function(){if(!E&&v<u.length){var z=v++;return{value:m(z,u[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function I(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),u.apply(m,V)}}return function(){return u.apply(m,arguments)}}function P(u,m,v){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:I,P.apply(null,arguments)}function D(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function M(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,V,z){for(var ne=Array(arguments.length-2),He=2;He<arguments.length;He++)ne[He-2]=arguments[He];return m.prototype[V].apply(E,ne)}}function W(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function j(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const V=u.length||0,z=E.length||0;u.length=V+z;for(let ne=0;ne<z;ne++)u[V+ne]=E[ne]}else u.push(E)}}class K{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var Pe=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Se(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function b(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function T(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,m){let v,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(v in E)u[v]=E[v];for(let z=0;z<C.length;z++)v=C[z],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function N(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function L(u){f.setTimeout(()=>{throw u},0)}function A(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,v){const E=Ft.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Ft=new K(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let We,re=!1,pe=new at,oe=()=>{const u=f.Promise.resolve(void 0);We=()=>{u.then(O)}};var O=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){L(v)}var m=Ft;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function Re(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Pe){e:{try{he(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Oe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}M(Re,fe);var Oe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Ge(u,m,v,E,V){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=V,this.key=++ze,this.da=this.fa=!1}function St(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ir(u){this.src=u,this.g={},this.h=0}Ir.prototype.add=function(u,m,v,E,V){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var ne=ni(u,m,E,V);return-1<ne?(m=u[ne],v||(m.fa=!1)):(m=new Ge(m,this.src,z,!!E,V),m.fa=v,u.push(m)),m};function Bs(u,m){var v=m.type;if(v in u.g){var E=u.g[v],V=Array.prototype.indexOf.call(E,m,void 0),z;(z=0<=V)&&Array.prototype.splice.call(E,V,1),z&&(St(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ni(u,m,v,E){for(var V=0;V<u.length;++V){var z=u[V];if(!z.da&&z.listener==m&&z.capture==!!v&&z.ha==E)return V}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),zs={};function ga(u,m,v,E,V){if(Array.isArray(m)){for(var z=0;z<m.length;z++)ga(u,m[z],v,E,V);return null}return v=wa(v),u&&u[Be]?u.K(m,v,y(E)?!!E.capture:!!E,V):ya(u,m,v,!1,E,V)}function ya(u,m,v,E,V,z){if(!m)throw Error("Invalid event type");var ne=y(V)?!!V.capture:!!V,He=Hs(u);if(He||(u[qi]=He=new Ir(u)),v=He.add(m,v,E,ne,z),v.proxy)return v;if(E=eu(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)Ae||(V=ne),V===void 0&&(V=!1),u.addEventListener(m.toString(),E,V);else if(u.attachEvent)u.attachEvent(Cr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function eu(){function u(v){return m.call(u.src,u.listener,v)}const m=va;return u}function $s(u,m,v,E,V){if(Array.isArray(m))for(var z=0;z<m.length;z++)$s(u,m[z],v,E,V);else E=y(E)?!!E.capture:!!E,v=wa(v),u&&u[Be]?(u=u.i,m=String(m).toString(),m in u.g&&(z=u.g[m],v=ni(z,v,E,V),-1<v&&(St(z[v]),Array.prototype.splice.call(z,v,1),z.length==0&&(delete u.g[m],u.h--)))):u&&(u=Hs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ni(m,v,E,V)),(v=-1<u?m[u]:null)&&Sr(v))}function Sr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Be])Bs(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(Cr(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=Hs(m))?(Bs(v,u),v.h==0&&(v.src=null,m[qi]=null)):St(u)}}}function Cr(u){return u in zs?zs[u]:zs[u]="on"+u}function va(u,m){if(u.da)u=!0;else{m=new Re(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&Sr(u),u=v.call(E,m)}return u}function Hs(u){return u=u[qi],u instanceof Ir?u:null}var Ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function wa(u){return typeof u=="function"?u:(u[Ws]||(u[Ws]=function(m){return u.handleEvent(m)}),u[Ws])}function gt(){Q.call(this),this.i=new Ir(this),this.M=this,this.F=null}M(gt,Q),gt.prototype[Be]=!0,gt.prototype.removeEventListener=function(u,m,v,E){$s(this,u,m,v,E)};function yt(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var V=m;m=new fe(E,u),k(m,V)}if(V=!0,v)for(var z=v.length-1;0<=z;z--){var ne=m.g=v[z];V=Pr(ne,E,!0,m)&&V}if(ne=m.g=u,V=Pr(ne,E,!0,m)&&V,V=Pr(ne,E,!1,m)&&V,v)for(z=0;z<v.length;z++)ne=m.g=v[z],V=Pr(ne,E,!1,m)&&V}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)St(v[E]);delete u.g[m],u.h--}}this.F=null},gt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},gt.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Pr(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,z=0;z<m.length;++z){var ne=m[z];if(ne&&!ne.da&&ne.capture==v){var He=ne.listener,vt=ne.ha||ne.src;ne.fa&&Bs(u.i,ne),V=He.call(vt,E)!==!1&&V}}return V&&!E.defaultPrevented}function _a(u,m,v){if(typeof u=="function")v&&(u=P(u,v));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function ri(u){u.g=_a(()=>{u.g=null,u.i&&(u.i=!1,ri(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Gi extends Q{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(u){Q.call(this),this.h=u,this.g={}}M(Ki,Q);var Ea=[];function Ta(u){Se(u.g,function(m,v){this.g.hasOwnProperty(v)&&Sr(m)},u),u.g={}}Ki.prototype.N=function(){Ki.aa.N.call(this),Ta(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ia=f.JSON.stringify,Sa=f.JSON.parse,Ca=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Qi(){}Qi.prototype.h=null;function qs(u){return u.h||(u.h=u.i())}function Gs(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){fe.call(this,"d")}M(ir,fe);function Ks(){fe.call(this,"c")}M(Ks,fe);var sr={},Pa=null;function Yi(){return Pa=Pa||new gt}sr.La="serverreachability";function Aa(u){fe.call(this,sr.La,u)}M(Aa,fe);function Ar(u){const m=Yi();yt(m,new Aa(m))}sr.STAT_EVENT="statevent";function Ra(u,m){fe.call(this,sr.STAT_EVENT,u),this.stat=m}M(Ra,fe);function lt(u){const m=Yi();yt(m,new Ra(m,u))}sr.Ma="timingevent";function Qs(u,m){fe.call(this,sr.Ma,u),this.size=m}M(Qs,fe);function Un(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Xi(){this.g=!0}Xi.prototype.xa=function(){this.g=!1};function Ji(u,m,v,E,V,z){u.info(function(){if(u.g)if(z)for(var ne="",He=z.split("&"),vt=0;vt<He.length;vt++){var Le=He[vt].split("=");if(1<Le.length){var Ct=Le[0];Le=Le[1];var ft=Ct.split("_");ne=2<=ft.length&&ft[1]=="type"?ne+(Ct+"="+Le+"&"):ne+(Ct+"=redacted&")}}else ne=null;else ne=z;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+m+`
`+v+`
`+ne})}function Ys(u,m,v,E,V,z,ne){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+m+`
`+v+`
`+z+" "+ne})}function jn(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Md(u,v)+(E?" "+E:"")})}function ka(u,m){u.info(function(){return"TIMEOUT: "+m})}Xi.prototype.info=function(){};function Md(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ne=1;ne<V.length;ne++)V[ne]=""}}}}return Ia(v)}catch{return m}}var Xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function Zi(){}M(Zi,Qi),Zi.prototype.g=function(){return new XMLHttpRequest},Zi.prototype.i=function(){return{}},Bn=new Zi;function zn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nu}function nu(){this.i=null,this.g="",this.h=!1}var ba={},Js={};function Zs(u,m,v){u.L=1,u.v=li(pn(m)),u.m=v,u.P=!0,xa(u,null)}function xa(u,m){u.F=Date.now(),Ke(u),u.A=pn(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),ci(v.i,"t",E),u.C=0,v=u.j.J,u.h=new nu,u.g=_u(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Gi(P(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Ea[0]=V.toString()),V=Ea);for(var z=0;z<V.length;z++){var ne=ga(v,V[z],E||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ar(),Ji(u.i,u.u,u.A,u.l,u.R,u.m)}zn.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)e:{const ft=en(this.g);var m=this.g.Ba();const An=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Ma(this.g)))){this.J||ft!=4||m==7||(m==8||0>=An?Ar(3):Ar(2)),es(this);var v=this.g.Z();this.X=v;t:if(ru(this)){var E=Ma(this.g);u="";var V=E.length,z=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),ii(this);var ne="";break t}this.h.i=new f.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(z&&m==V-1)});E.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,Ys(this.i,this.u,this.A,this.l,this.R,ft,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,vt=this.g;if((He=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(He)){var Le=He;break t}}Le=null}if(v=Le)jn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,v);else{this.o=!1,this.s=3,lt(12),Cn(this),ii(this);break e}}if(this.P){v=!0;let gn;for(;!this.J&&this.C<ne.length;)if(gn=Fd(this,ne),gn==Js){ft==4&&(this.s=4,lt(14),v=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==ba){this.s=4,lt(15),jn(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else jn(this.i,this.l,gn,null),Da(this,gn);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||ne.length!=0||this.h.h||(this.s=1,lt(16),v=!1),this.o=this.o&&v,!v)jn(this.i,this.l,ne,"[Invalid Chunked Response]"),Cn(this),ii(this);else if(0<ne.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Ua(Ct),Ct.M=!0,lt(11))}}else jn(this.i,this.l,ne,null),Da(this,ne);ft==4&&Cn(this),this.o&&!this.J&&(ft==4?co(this.j,this):(this.o=!1,Ke(this)))}else so(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Cn(this),ii(this)}}}catch{}finally{}};function ru(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fd(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?Js:(v=Number(m.substring(v,E)),isNaN(v)?ba:(E+=1,E+v>m.length?Js:(m=m.slice(E,E+v),u.C=E+v,m)))}zn.prototype.cancel=function(){this.J=!0,Cn(this)};function Ke(u){u.S=Date.now()+u.I,iu(u,u.I)}function iu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Un(P(u.ba,u),m)}function es(u){u.B&&(f.clearTimeout(u.B),u.B=null)}zn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ka(this.i,this.A),this.L!=2&&(Ar(),lt(17)),Cn(this),this.s=2,ii(this)):iu(this,this.S-u)};function ii(u){u.j.G==0||u.J||co(u.j,u)}function Cn(u){es(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ta(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Da(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Qt(v.h,u))){if(!u.K&&Qt(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)uo(v),Gn(v);else break e;lo(v),lt(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=Un(P(v.Za,v),6e3));if(1>=ou(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Dr(v,11)}else if((u.K||v.g==u)&&uo(v),!X(m))for(V=v.Da.g.parse(m),m=0;m<V.length;m++){let Le=V[m];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Ct=Le[3];Ct!=null&&(v.la=Ct,v.j.info("VER="+v.la));const ft=Le[4];ft!=null&&(v.Aa=ft,v.j.info("SVER="+v.Aa));const An=Le[5];An!=null&&typeof An=="number"&&0<An&&(E=1.5*An,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const gn=u.g;if(gn){const as=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(as){var z=E.h;z.g||as.indexOf("spdy")==-1&&as.indexOf("quic")==-1&&as.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Na(z,z.h),z.h=null))}if(E.D){const fo=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(E.ya=fo,qe(E.I,E.D,fo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ne=u;if(E.qa=wu(E,E.J?E.ia:null,E.W),ne.K){au(E.h,ne);var He=ne,vt=E.L;vt&&(He.I=vt),He.B&&(es(He),Ke(He)),E.g=ne}else os(E);0<v.i.length&&ur(v)}else Le[0]!="stop"&&Le[0]!="close"||Dr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Dr(v,7):Dt(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}Ar(4)}catch{}}var su=class{constructor(u,m){this.g=u,this.map=m}};function ts(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ou(u){return u.h?1:u.g?u.g.size:0}function Qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Na(u,m){u.g?u.g.add(m):u.h=m}function au(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ts.prototype.cancel=function(){if(this.i=lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function lu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return W(u.i)}function eo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function to(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function si(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=to(u),E=eo(u),V=E.length,z=0;z<V;z++)m.call(void 0,E[z],v&&v[z],u)}var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ud(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),V=null;if(0<=E){var z=u[v].substring(0,E);V=u[v].substring(E+1)}else z=u[v];m(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Rr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Rr){this.h=u.h,rs(this,u.j),this.o=u.o,this.g=u.g,oi(this,u.s),this.l=u.l;var m=u.i,v=new or;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),ai(this,v),this.m=u.m}else u&&(m=String(u).match(ns))?(this.h=!1,rs(this,m[1]||"",!0),this.o=De(m[2]||""),this.g=De(m[3]||"",!0),oi(this,m[4]),this.l=De(m[5]||"",!0),ai(this,m[6]||"",!0),this.m=De(m[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Rr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ui(m,no,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ui(m,no,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ui(v,v.charAt(0)=="/"?du:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ui(v,Oa)),u.join("")};function pn(u){return new Rr(u)}function rs(u,m,v){u.j=v?De(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function oi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ai(u,m,v){m instanceof or?(u.i=m,ar(u.i,u.h)):(v||(m=ui(m,hu)),u.i=new or(m,u.h))}function qe(u,m,v){u.i.set(m,v)}function li(u){return qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function De(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ui(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,uu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var no=/[#\/\?@]/g,cu=/[#\?:]/g,du=/[#\?]/g,hu=/[#\?@]/g,Oa=/#/g;function or(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xt(u){u.g||(u.g=new Map,u.h=0,u.i&&Ud(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=or.prototype,n.add=function(u,m){xt(this),this.i=null,u=Pn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function $n(u,m){xt(u),m=Pn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Hn(u,m){return xt(u),m=Pn(u,m),u.g.has(m)}n.forEach=function(u,m){xt(this),this.g.forEach(function(v,E){v.forEach(function(V){u.call(m,V,E,this)},this)},this)},n.na=function(){xt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const V=u[E];for(let z=0;z<V.length;z++)v.push(m[E])}return v},n.V=function(u){xt(this);let m=[];if(typeof u=="string")Hn(this,u)&&(m=m.concat(this.g.get(Pn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return xt(this),this.i=null,u=Pn(this,u),Hn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ci(u,m,v){$n(u,m),0<v.length&&(u.i=null,u.g.set(Pn(u,m),W(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const z=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var V=z;ne[E]!==""&&(V+="="+encodeURIComponent(String(ne[E]))),u.push(V)}}return this.i=u.join("&")};function Pn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ar(u,m){m&&!u.j&&(xt(u),u.i=null,u.g.forEach(function(v,E){var V=E.toLowerCase();E!=V&&($n(this,E),ci(this,V,v))},u)),u.j=m}function jd(u,m){const v=new Xi;if(f.Image){const E=new Image;E.onload=D(Zt,v,"TestLoadImage: loaded",!0,m,E),E.onerror=D(Zt,v,"TestLoadImage: error",!1,m,E),E.onabort=D(Zt,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=D(Zt,v,"TestLoadImage: timeout",!1,m,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function fu(u,m){const v=new Xi,E=new AbortController,V=setTimeout(()=>{E.abort(),Zt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(z=>{clearTimeout(V),z.ok?Zt(v,"TestPingServer: ok",!0,m):Zt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),Zt(v,"TestPingServer: error",!1,m)})}function Zt(u,m,v,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(v)}catch{}}function Bd(){this.g=new Ca}function pu(u,m,v){const E=v||"";try{si(u,function(V,z){let ne=V;y(V)&&(ne=Ia(V)),m.push(E+z+"="+encodeURIComponent(ne))})}catch(V){throw m.push(E+"type="+encodeURIComponent("_badmap")),V}}function kr(u){this.l=u.Ub||null,this.j=u.eb||!1}M(kr,Qi),kr.prototype.g=function(){return new is(this.l,this.j)},kr.prototype.i=function(u){return function(){return u}}({});function is(u,m){gt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(is,gt),n=is.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,qn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function mu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Wn(this):qn(this),this.readyState==3&&mu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Wn(this))},n.Qa=function(u){this.g&&(this.response=u,Wn(this))},n.ga=function(){this.g&&Wn(this)};function Wn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,qn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function br(u){let m="";return Se(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function di(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=br(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):qe(u,m,v))}function Ze(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ze,gt);var zd=/^https?$/i,La=["POST","PUT"];n=Ze.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?qs(this.o):qs(Bn),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){ss(this,z);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)v.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())v.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(z=>z.toLowerCase()=="content-type"),V=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(La,m,void 0))||E||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ne]of v)this.g.setRequestHeader(z,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{io(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){ss(this,z)}};function ss(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ro(u),mn(u)}function ro(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},n.bb=function(){Va(this)};function Va(u){if(u.h&&typeof d<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)_a(u.Ea,0,u);else if(yt(u,"readystatechange"),en(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ne===0){var V=String(u.D).match(ns)[1]||null;!V&&f.self&&f.self.location&&(V=f.self.location.protocol.slice(0,-1)),E=!zd.test(V?V.toLowerCase():"")}v=E}if(v)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var z=2<en(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",ro(u)}}finally{mn(u)}}}}function mn(u,m){if(u.g){io(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||yt(u,"ready");try{v.onreadystatechange=E}catch{}}}function io(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sa(m)}};function Ma(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function so(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(X(u[E]))continue;var v=N(u[E]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const z=m[V]||[];m[V]=z,z.push(v)}b(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Fa(u){this.Aa=0,this.i=[],this.j=new Xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,u),this.cb=lr("retryDelaySeedMs",1e4,u),this.Wa=lr("forwardChannelMaxRetries",2,u),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ts(u&&u.concurrentRequestLimit),this.Da=new Bd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){lt(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=wu(this,null,this.W),ur(this)};function Dt(u){if(oo(u),u.G==3){var m=u.U++,v=pn(u.I);if(qe(v,"SID",u.K),qe(v,"RID",m),qe(v,"TYPE","terminate"),xr(u,v),m=new zn(u,u.j,m),m.L=2,m.v=li(pn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ke(m)}vu(u)}function Gn(u){u.g&&(Ua(u),u.g.cancel(),u.g=null)}function oo(u){Gn(u),u.u&&(f.clearTimeout(u.u),u.u=null),uo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ur(u){if(!fn(u.h)&&!u.s){u.s=!0;var m=u.Ga;We||oe(),re||(We(),re=!0),pe.add(m,u),u.B=0}}function $d(u,m){return ou(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Un(P(u.Ga,u,m),yu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new zn(this,this.j,u);let z=this.o;if(this.S&&(z?(z=T(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=hi(this,V,m),v=pn(this.I),qe(v,"RID",u),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),xr(this,v),z&&(this.O?m="headers="+encodeURIComponent(String(br(z)))+"&"+m:this.m&&di(v,this.m,z)),Na(this.h,V),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",m),qe(v,"SID","null"),V.T=!0,Zs(V,v,null)):Zs(V,v,m),this.G=2}}else this.G==3&&(u?ao(this,u):this.i.length==0||fn(this.h)||ao(this))};function ao(u,m){var v;m?v=m.l:v=u.U++;const E=pn(u.I);qe(E,"SID",u.K),qe(E,"RID",v),qe(E,"AID",u.T),xr(u,E),u.m&&u.o&&di(E,u.m,u.o),v=new zn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=hi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Na(u.h,v),Zs(v,E,m)}function xr(u,m){u.H&&Se(u.H,function(v,E){qe(m,E,v)}),u.l&&si({},function(v,E){qe(m,E,v)})}function hi(u,m,v){v=Math.min(u.i.length,v);var E=u.l?P(u.l.Na,u.l,u):null;e:{var V=u.i;let z=-1;for(;;){const ne=["count="+v];z==-1?0<v?(z=V[0].g,ne.push("ofs="+z)):z=0:ne.push("ofs="+z);let He=!0;for(let vt=0;vt<v;vt++){let Le=V[vt].g;const Ct=V[vt].map;if(Le-=z,0>Le)z=Math.max(0,V[vt].g-100),He=!1;else try{pu(Ct,ne,"req"+Le+"_")}catch{E&&E(Ct)}}if(He){E=ne.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function os(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;We||oe(),re||(We(),re=!0),pe.add(m,u),u.v=0}}function lo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Un(P(u.Fa,u),yu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Un(P(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Gn(this),gu(this))};function Ua(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function gu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=pn(u.qa);qe(m,"RID","rpc"),qe(m,"SID",u.K),qe(m,"AID",u.T),qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&qe(m,"TO",u.ja),qe(m,"TYPE","xmlhttp"),xr(u,m),u.m&&u.o&&di(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=li(pn(m)),v.m=null,v.P=!0,xa(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Gn(this),lo(this),lt(19))};function uo(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function co(u,m){var v=null;if(u.g==m){uo(u),Ua(u),u.g=null;var E=2}else if(Qt(u.h,m))v=m.D,au(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var V=u.B;E=Yi(),yt(E,new Qs(E,v)),ur(u)}else os(u);else if(V=m.s,V==3||V==0&&0<m.X||!(E==1&&$d(u,m)||E==2&&lo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),V){case 1:Dr(u,5);break;case 4:Dr(u,10);break;case 3:Dr(u,6);break;default:Dr(u,2)}}}function yu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Dr(u,m){if(u.j.info("Error code "+m),m==2){var v=P(u.fb,u),E=u.Xa;const V=!E;E=new Rr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||rs(E,"https"),li(E),V?jd(E.toString(),v):fu(E.toString(),v)}else lt(2);u.G=0,u.l&&u.l.sa(m),vu(u),oo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function vu(u){if(u.G=0,u.ka=[],u.l){const m=lu(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function wu(u,m,v){var E=v instanceof Rr?pn(v):new Rr(v);if(E.g!="")m&&(E.g=m+"."+E.g),oi(E,E.s);else{var V=f.location;E=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var z=new Rr(null);E&&rs(z,E),m&&(z.g=m),V&&oi(z,V),v&&(z.l=v),E=z}return v=u.D,m=u.ya,v&&m&&qe(E,v,m),qe(E,"VER",u.la),xr(u,E),E}function _u(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ze(new kr({eb:v})):new Ze(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ja(){}n=ja.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ho(){}ho.prototype.g=function(u,m){return new Yt(u,m)};function Yt(u,m){gt.call(this),this.g=new Fa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!X(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!X(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new cr(this)}M(Yt,gt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Dt(this.g)},Yt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ia(u),u=v);m.i.push(new su(m.Ya++,u)),m.G==3&&ur(m)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Yt.aa.N.call(this)};function Eu(u){ir.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}M(Eu,ir);function Tu(){Ks.call(this),this.status=1}M(Tu,Ks);function cr(u){this.g=u}M(cr,ja),cr.prototype.ua=function(){yt(this.g,"a")},cr.prototype.ta=function(u){yt(this.g,new Eu(u))},cr.prototype.sa=function(u){yt(this.g,new Tu)},cr.prototype.ra=function(){yt(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,Nw=function(){return new ho},Dw=function(){return Yi()},xw=sr,Lf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,Sc=Xs,tu.COMPLETE="complete",bw=tu,Gs.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,ml=Gs,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,kw=Ze}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const Wy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new op("@firebase/firestore");function Lo(){return ks.logLevel}function ae(n,...e){if(ks.logLevel<=be.DEBUG){const t=e.map(up);ks.debug(`Firestore (${ia}): ${n}`,...t)}}function Yr(n,...e){if(ks.logLevel<=be.ERROR){const t=e.map(up);ks.error(`Firestore (${ia}): ${n}`,...t)}}function Go(n,...e){if(ks.logLevel<=be.WARN){const t=e.map(up);ks.warn(`Firestore (${ia}): ${n}`,...t)}}function up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+n;throw Yr(e),new Error(e)}function $e(n,e){n||Te()}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class VS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MS{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string"),new Ow(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Wt(e)}}class FS{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class US{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new FS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){$e(this.o===void 0);const i=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new jS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=zS(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ne(n,e){return n<e?-1:n>e?1:0}function Ko(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Tt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Tt(0,0))}static max(){return new Ie(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Sl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ot extends Sl{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const $S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Sl{construct(e,t,i){return new Vt(e,t,i)}static isValidIdentifier(e){return $S.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ve(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ve(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(d=!d,o++):f!=="."||d?(i+=f,o++):(l(),o++)}if(l(),d)throw new ve(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ot.fromString(e))}static fromName(e){return new we(ot.fromString(e).popFirst(5))}static empty(){return new we(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ot(e.slice()))}}function HS(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new Tt(t+1,0):new Tt(t,i));return new Fi(o,we.empty(),e)}function WS(n){return new Fi(n.readTime,n.key,-1)}class Fi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Fi(Ie.min(),we.empty(),-1)}static max(){return new Fi(Ie.max(),we.empty(),-1)}}function qS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==GS)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,i)=>{t(e)})}static reject(e){return new G((t,i)=>{i(e)})}static waitFor(e){return new G((t,i)=>{let o=0,l=0,d=!1;e.forEach(f=>{++o,f.next(()=>{++l,d&&l===o&&t()},p=>i(p))}),d=!0,l===o&&t()})}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next(o=>o?G.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new G((i,o)=>{const l=e.length,d=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{d[y]=_,++f,f===l&&i(d)},_=>o(_))}})}static doWhile(e,t){return new G((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function QS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function oa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}md.oe=-1;function gd(n){return n==null}function Uc(n){return n===0&&1/n==-1/0}function YS(n){return typeof n=="number"&&Number.isInteger(n)&&!Uc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qy(e)),e=JS(n.get(t),e);return qy(e)}function JS(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function qy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Os(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Vw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new tr([])}unionWith(e){let t=new It(Vt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Mw("Invalid base64 string: "+l):l}}(e);return new Mt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const ZS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(n){if($e(!!n),typeof n=="string"){let e=0;const t=ZS.exec(n);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ji(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function yd(n){const e=n.mapValue.fields.__previous_value__;return cp(e)?yd(e):e}function Cl(n){const e=Ui(n.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t,i,o,l,d,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class Pl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cp(n)?4:n1(n)?9007199254740991:t1(n)?10:11:Te()}function wr(n,e){if(n===e)return!0;const t=Bi(n);if(t!==Bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cl(n).isEqual(Cl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Ui(o.timestampValue),f=Ui(l.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return ji(o.bytesValue).isEqual(ji(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return dt(o.geoPointValue.latitude)===dt(l.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return dt(o.integerValue)===dt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=dt(o.doubleValue),f=dt(l.doubleValue);return d===f?Uc(d)===Uc(f):isNaN(d)&&isNaN(f)}return!1}(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(o,l){const d=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Gy(d)!==Gy(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(f[p]===void 0||!wr(d[p],f[p])))return!1;return!0}(n,e);default:return Te()}}function Al(n,e){return(n.values||[]).find(t=>wr(t,e))!==void 0}function Qo(n,e){if(n===e)return 0;const t=Bi(n),i=Bi(e);if(t!==i)return Ne(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(l,d){const f=dt(l.integerValue||l.doubleValue),p=dt(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Qy(n.timestampValue,e.timestampValue);case 4:return Qy(Cl(n),Cl(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return function(l,d){const f=ji(l),p=ji(d);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const f=l.split("/"),p=d.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=Ne(f[y],p[y]);if(_!==0)return _}return Ne(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const f=Ne(dt(l.latitude),dt(d.latitude));return f!==0?f:Ne(dt(l.longitude),dt(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Yy(n.arrayValue,e.arrayValue);case 10:return function(l,d){var f,p,y,_;const I=l.fields||{},P=d.fields||{},D=(f=I.value)===null||f===void 0?void 0:f.arrayValue,M=(p=P.value)===null||p===void 0?void 0:p.arrayValue,W=Ne(((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0,((_=M==null?void 0:M.values)===null||_===void 0?void 0:_.length)||0);return W!==0?W:Yy(D,M)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===vc.mapValue&&d===vc.mapValue)return 0;if(l===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=d.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let I=0;I<p.length&&I<_.length;++I){const P=Ne(p[I],_[I]);if(P!==0)return P;const D=Qo(f[p[I]],y[_[I]]);if(D!==0)return D}return Ne(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Te()}}function Qy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Ui(n),i=Ui(e),o=Ne(t.seconds,i.seconds);return o!==0?o:Ne(t.nanos,i.nanos)}function Yy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Qo(t[o],i[o]);if(l)return l}return Ne(t.length,i.length)}function Yo(n){return Vf(n)}function Vf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ui(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ji(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Vf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of i)l?l=!1:o+=",",o+=`${d}:${Vf(t.fields[d])}`;return o+"}"}(n.mapValue):Te()}function Cc(n){switch(Bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yd(n);return e?16+Cc(e):16;case 5:return 2*n.stringValue.length;case 6:return ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Cc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Os(i.fields,(l,d)=>{o+=l.length+Cc(d)}),o}(n.mapValue);default:throw Te()}}function Mf(n){return!!n&&"integerValue"in n}function dp(n){return!!n&&"arrayValue"in n}function Xy(n){return!!n&&"nullValue"in n}function Jy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pc(n){return!!n&&"mapValue"in n}function t1(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function vl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Os(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=vl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function n1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(t)}setAll(e){let t=Vt.emptyPath(),i={},o=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}d?i[f.lastSegment()]=vl(d):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Os(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new On(vl(this.value))}}function Fw(n){const e=[];return Os(n.fields,(t,i)=>{const o=new Vt([t]);if(Pc(i)){const l=Fw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,i,o,l,d,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=d,this.documentState=f}static newInvalidDocument(e){return new qt(e,0,Ie.min(),Ie.min(),Ie.min(),On.empty(),0)}static newFoundDocument(e,t,i,o){return new qt(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Ie.min(),Ie.min(),On.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ie.min(),Ie.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t){this.position=e,this.inclusive=t}}function Zy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(l.field.isKeyField()?i=we.comparator(we.fromName(d.referenceValue),t.key):i=Qo(d,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function ev(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t="asc"){this.field=e,this.dir=t}}function r1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{}class Et extends Uw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new s1(e,t,i):t==="array-contains"?new l1(e,i):t==="in"?new u1(e,i):t==="not-in"?new c1(e,i):t==="array-contains-any"?new d1(e,i):new Et(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new o1(e,i):new a1(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qo(t,this.value)):t!==null&&Bi(this.value)===Bi(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends Uw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _r(e,t)}matches(e){return jw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jw(n){return n.op==="and"}function Bw(n){return i1(n)&&jw(n)}function i1(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function Ff(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(Bw(n))return n.filters.map(e=>Ff(e)).join(",");{const e=n.filters.map(t=>Ff(t)).join(",");return`${n.op}(${e})`}}function zw(n,e){return n instanceof Et?function(i,o){return o instanceof Et&&i.op===o.op&&i.field.isEqual(o.field)&&wr(i.value,o.value)}(n,e):n instanceof _r?function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,d,f)=>l&&zw(d,o.filters[f]),!0):!1}(n,e):void Te()}function $w(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${Yo(t.value)}`}(n):n instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map($w).join(" ,")+"}"}(n):"Filter"}class s1 extends Et{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class o1 extends Et{constructor(e,t){super(e,"in",t),this.keys=Hw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class a1 extends Et{constructor(e,t){super(e,"not-in",t),this.keys=Hw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Hw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class l1 extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dp(t)&&Al(t.arrayValue,this.value)}}class u1 extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Al(this.value.arrayValue,t)}}class c1 extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Al(this.value.arrayValue,t)}}class d1 extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Al(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t=null,i=[],o=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=d,this.endAt=f,this.ue=null}}function tv(n,e=null,t=[],i=[],o=null,l=null,d=null){return new h1(n,e,t,i,o,l,d)}function hp(n){const e=Ce(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ff(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yo(i)).join(",")),e.ue=t}return e.ue}function fp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!r1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ev(n.startAt,e.startAt)&&ev(n.endAt,e.endAt)}function Uf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t=null,i=[],o=[],l=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function f1(n,e,t,i,o,l,d,f){return new vd(n,e,t,i,o,l,d,f)}function pp(n){return new vd(n)}function nv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function p1(n){return n.collectionGroup!==null}function wl(n){const e=Ce(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new It(Vt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Bc(l,i))}),t.has(Vt.keyField().canonicalString())||e.ce.push(new Bc(Vt.keyField(),i))}return e.ce}function gr(n){const e=Ce(n);return e.le||(e.le=m1(e,wl(n))),e.le}function m1(n,e){if(n.limitType==="F")return tv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Bc(o.field,l)});const t=n.endAt?new jc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new jc(n.startAt.position,n.startAt.inclusive):null;return tv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function jf(n,e,t){return new vd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wd(n,e){return fp(gr(n),gr(e))&&n.limitType===e.limitType}function Ww(n){return`${hp(gr(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>$w(o)).join(", ")}]`),gd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Yo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Yo(o)).join(",")),`Target(${i})`}(gr(n))}; limitType=${n.limitType})`}function _d(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of wl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(d,f,p){const y=Zy(d,f,p);return d.inclusive?y<=0:y<0}(i.startAt,wl(i),o)||i.endAt&&!function(d,f,p){const y=Zy(d,f,p);return d.inclusive?y>=0:y>0}(i.endAt,wl(i),o))}(n,e)}function g1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qw(n){return(e,t)=>{let i=!1;for(const o of wl(n)){const l=y1(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function y1(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,d,f){const p=d.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Qo(p,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Vw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new it(we.comparator);function Xr(){return v1}const Gw=new it(we.comparator);function gl(...n){let e=Gw;for(const t of n)e=e.insert(t.key,t);return e}function Kw(n){let e=Gw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ts(){return _l()}function Qw(){return _l()}function _l(){return new Ls(n=>n.toString(),(n,e)=>n.isEqual(e))}const w1=new it(we.comparator),_1=new It(we.comparator);function xe(...n){let e=_1;for(const t of n)e=e.add(t);return e}const E1=new It(Ne);function T1(){return E1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function Yw(n){return{integerValue:""+n}}function I1(n,e){return YS(e)?Yw(e):mp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this._=void 0}}function S1(n,e,t){return n instanceof zc?function(o,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&cp(l)&&(l=yd(l)),l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):n instanceof Rl?Jw(n,e):n instanceof kl?Zw(n,e):function(o,l){const d=Xw(o,l),f=rv(d)+rv(o.Pe);return Mf(d)&&Mf(o.Pe)?Yw(f):mp(o.serializer,f)}(n,e)}function C1(n,e,t){return n instanceof Rl?Jw(n,e):n instanceof kl?Zw(n,e):t}function Xw(n,e){return n instanceof $c?function(i){return Mf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class zc extends Ed{}class Rl extends Ed{constructor(e){super(),this.elements=e}}function Jw(n,e){const t=e_(e);for(const i of n.elements)t.some(o=>wr(o,i))||t.push(i);return{arrayValue:{values:t}}}class kl extends Ed{constructor(e){super(),this.elements=e}}function Zw(n,e){let t=e_(e);for(const i of n.elements)t=t.filter(o=>!wr(o,i));return{arrayValue:{values:t}}}class $c extends Ed{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function rv(n){return dt(n.integerValue||n.doubleValue)}function e_(n){return dp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function P1(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Rl&&o instanceof Rl||i instanceof kl&&o instanceof kl?Ko(i.elements,o.elements,wr):i instanceof $c&&o instanceof $c?wr(i.Pe,o.Pe):i instanceof zc&&o instanceof zc}(n.transform,e.transform)}class A1{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Td{}function t_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new r_(n.key,Wr.none()):new Ml(n.key,n.data,Wr.none());{const t=n.data,i=On.empty();let o=new It(Vt.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?i.delete(l):i.set(l,d),o=o.add(l)}return new Vs(n.key,i,new tr(o.toArray()),Wr.none())}}function R1(n,e,t){n instanceof Ml?function(o,l,d){const f=o.value.clone(),p=sv(o.fieldTransforms,l,d.transformResults);f.setAll(p),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Vs?function(o,l,d){if(!Ac(o.precondition,l))return void l.convertToUnknownDocument(d.version);const f=sv(o.fieldTransforms,l,d.transformResults),p=l.data;p.setAll(n_(o)),p.setAll(f),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function El(n,e,t,i){return n instanceof Ml?function(l,d,f,p){if(!Ac(l.precondition,d))return f;const y=l.value.clone(),_=ov(l.fieldTransforms,p,d);return y.setAll(_),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Vs?function(l,d,f,p){if(!Ac(l.precondition,d))return f;const y=ov(l.fieldTransforms,p,d),_=d.data;return _.setAll(n_(l)),_.setAll(y),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(n,e,t,i):function(l,d,f){return Ac(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f}(n,e,t)}function k1(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Xw(i.transform,o||null);l!=null&&(t===null&&(t=On.empty()),t.set(i.field,l))}return t||null}function iv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ko(i,o,(l,d)=>P1(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ml extends Td{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends Td{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function n_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function sv(n,e,t){const i=new Map;$e(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,f=e.data.field(l.field);i.set(l.field,C1(d,f,t[o]))}return i}function ov(n,e,t){const i=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);i.set(o.field,S1(l,d,e))}return i}class r_ extends Td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b1 extends Td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&R1(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=El(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=El(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Qw();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=t.has(o.key)?null:f;const p=t_(d,f);p!==null&&i.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(t,i)=>iv(t,i))&&Ko(this.baseMutations,e.baseMutations,(t,i)=>iv(t,i))}}class gp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){$e(e.mutations.length===i.length);let o=function(){return w1}();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,i[d].version);return new gp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Ve;function O1(n){switch(n){default:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function i_(n){if(n===void 0)return Yr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case mt.OK:return ee.OK;case mt.CANCELLED:return ee.CANCELLED;case mt.UNKNOWN:return ee.UNKNOWN;case mt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case mt.INTERNAL:return ee.INTERNAL;case mt.UNAVAILABLE:return ee.UNAVAILABLE;case mt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case mt.NOT_FOUND:return ee.NOT_FOUND;case mt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case mt.ABORTED:return ee.ABORTED;case mt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case mt.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Ve=mt||(mt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Cs([4294967295,4294967295],0);function av(n){const e=L1().encode(n),t=new Rw;return t.update(e),new Uint8Array(t.digest())}function lv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Cs([t,i],0),new Cs([o,l],0)]}class yp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new yl(`Invalid padding: ${t}`);if(i<0)throw new yl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new yl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Cs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Cs.fromNumber(i)));return o.compare(V1)===1&&(o=new Cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=av(e),[i,o]=lv(t);for(let l=0;l<this.hashCount;l++){const d=this.Ee(i,o,l);if(!this.de(d))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new yp(l,o,t);return i.forEach(f=>d.insert(f)),d}insert(e){if(this.Te===0)return;const t=av(e),[i,o]=lv(t);for(let l=0;l<this.hashCount;l++){const d=this.Ee(i,o,l);this.Ae(d)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Id(Ie.min(),o,new it(Ne),Xr(),xe())}}class Fl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Fl(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class s_{constructor(e,t){this.targetId=e,this.me=t}}class o_{constructor(e,t,i=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class uv{constructor(){this.fe=0,this.ge=cv(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),i=xe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new Fl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=cv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class M1{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xr(),this.qe=wc(),this.Qe=wc(),this.Ke=new it(Ne)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Uf(l))if(i===0){const d=new we(l.path);this.We(t,d,qt.newNoDocument(d,Ie.min()))}else $e(i===1);else{const d=this.Ze(t);if(d!==i){const f=this.Xe(e),p=f?this.et(f,e,d):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let d,f;try{d=ji(i).toUint8Array()}catch(p){if(p instanceof Mw)return Go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new yp(d,o,l)}catch(p){return Go(p instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const d=this.Le.nt(),f=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,d)=>{const f=this.Ye(d);if(f){if(l.current&&Uf(f.target)){const p=new we(f.target.path);this.st(p).has(d)||this.ot(d,p)||this.We(d,p,qt.newNoDocument(p,e))}l.be&&(t.set(d,l.ve()),l.Ce())}});let i=xe();this.Qe.forEach((l,d)=>{let f=!0;d.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,d)=>d.setReadTime(e));const o=new Id(e,t,this.Ke,this.ke,i);return this.ke=Xr(),this.qe=wc(),this.Qe=wc(),this.Ke=new it(Ne),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new uv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new It(Ne),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new It(Ne),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new uv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function wc(){return new it(we.comparator)}function cv(){return new it(we.comparator)}const F1={asc:"ASCENDING",desc:"DESCENDING"},U1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j1={and:"AND",or:"OR"};class B1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bf(n,e){return n.useProto3Json||gd(e)?e:{value:e}}function Hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function z1(n,e){return Hc(n,e.toTimestamp())}function yr(n){return $e(!!n),Ie.fromTimestamp(function(t){const i=Ui(t);return new Tt(i.seconds,i.nanos)}(n))}function vp(n,e){return zf(n,e).canonicalString()}function zf(n,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function l_(n){const e=ot.fromString(n);return $e(f_(e)),e}function $f(n,e){return vp(n.databaseId,e.path)}function _f(n,e){const t=l_(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(c_(t))}function u_(n,e){return vp(n.databaseId,e)}function $1(n){const e=l_(n);return e.length===4?ot.emptyPath():c_(e)}function Hf(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function c_(n){return $e(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function dv(n,e,t){return{name:$f(n,e),fields:t.value.mapValue.fields}}function H1(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?($e(_===void 0||typeof _=="string"),Mt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Mt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const _=y.code===void 0?ee.UNKNOWN:i_(y.code);return new ve(_,y.message||"")}(d);t=new o_(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=_f(n,i.document.name),l=yr(i.document.updateTime),d=i.document.createTime?yr(i.document.createTime):Ie.min(),f=new On({mapValue:{fields:i.document.fields}}),p=qt.newFoundDocument(o,l,d,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new Rc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=_f(n,i.document),l=i.readTime?yr(i.readTime):Ie.min(),d=qt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Rc([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=_f(n,i.document),l=i.removedTargetIds||[];t=new Rc([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,d=new N1(o,l),f=i.targetId;t=new s_(f,d)}}return t}function W1(n,e){let t;if(e instanceof Ml)t={update:dv(n,e.key,e.value)};else if(e instanceof r_)t={delete:$f(n,e.key)};else if(e instanceof Vs)t={update:dv(n,e.key,e.data),updateMask:eC(e.fieldMask)};else{if(!(e instanceof b1))return Te();t={verify:$f(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,d){const f=d.transform;if(f instanceof zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Rl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof $c)return{fieldPath:d.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:z1(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function q1(n,e){return n&&n.length>0?($e(e!==void 0),n.map(t=>function(o,l){let d=o.updateTime?yr(o.updateTime):yr(l);return d.isEqual(Ie.min())&&(d=yr(l)),new A1(d,o.transformResults||[])}(t,e))):[]}function G1(n,e){return{documents:[u_(n,e.path)]}}function K1(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=u_(n,o);const l=function(y){if(y.length!==0)return h_(_r.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(y){if(y.length!==0)return y.map(_=>function(P){return{field:Mo(P.field),direction:X1(P.dir)}}(_))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=Bf(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function Q1(n){let e=$1(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){$e(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(I){const P=d_(I);return P instanceof _r&&Bw(P)?P.getFilters():[P]}(t.where));let d=[];t.orderBy&&(d=function(I){return I.map(P=>function(M){return new Bc(Fo(M.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(P))}(t.orderBy));let f=null;t.limit&&(f=function(I){let P;return P=typeof I=="object"?I.value:I,gd(P)?null:P}(t.limit));let p=null;t.startAt&&(p=function(I){const P=!!I.before,D=I.values||[];return new jc(D,P)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const P=!I.before,D=I.values||[];return new jc(D,P)}(t.endAt)),f1(e,o,d,l,f,"F",p,y)}function Y1(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function d_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Fo(t.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Fo(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Fo(t.unaryFilter.field);return Et.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fo(t.unaryFilter.field);return Et.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return Et.create(Fo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(i=>d_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function X1(n){return F1[n]}function J1(n){return U1[n]}function Z1(n){return j1[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function Fo(n){return Vt.fromServerFormat(n.fieldPath)}function h_(n){return n instanceof Et?function(t){if(t.op==="=="){if(Jy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(Xy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(Xy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:J1(t.op),value:t.value}}}(n):n instanceof _r?function(t){const i=t.getFilters().map(o=>h_(o));return i.length===1?i[0]:{compositeFilter:{op:Z1(t.op),filters:i}}}(n):Te()}function eC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function f_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,t,i,o,l=Ie.min(),d=Ie.min(),f=Mt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.ht=e}}function nC(n){const e=Q1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.ln=new iC}addToCollectionParentIndex(e,t){return this.ln.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Fi.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class iC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new It(ot.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new It(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Xo(0)}static Qn(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv([n,e],[t,i]){const o=Ne(n,t);return o===0?Ne(e,i):o}class sC{constructor(e){this.Gn=e,this.buffer=new It(fv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();fv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){oa(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await sa(t)}await this.Yn(3e5)})}}class aC{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return G.resolve(md.oe);const i=new sC(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(hv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,d,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,f=Date.now(),this.removeTargets(e,i,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),Lo()<=be.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${o} in `+(f-d)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function lC(n,e){return new aC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.changes=new Ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&El(i.mutation,o,tr.empty(),Tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xe()){const o=Ts();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let d=gl();return l.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=Ts();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,i,o){let l=Xr();const d=_l(),f=function(){return _l()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Vs)?l=l.insert(y.key,y):_!==void 0?(d.set(y.key,_.mutation.getFieldMask()),El(_.mutation,y,_.mutation.getFieldMask(),Tt.now())):d.set(y.key,tr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>d.set(y,_)),t.forEach((y,_)=>{var I;return f.set(y,new cC(_,(I=d.get(y))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const i=_l();let o=new it((d,f)=>d-f),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||tr.empty();_=f.applyToLocalView(y,_),i.set(p,_);const I=(o.get(f.batchId)||xe()).add(p);o=o.insert(f.batchId,I)})}).next(()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,I=Qw();_.forEach(P=>{if(!l.has(P)){const D=t_(t.get(P),i.get(P));D!==null&&I.set(P,D),l=l.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,I))}return G.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(d){return we.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):p1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):G.resolve(Ts());let f=-1,p=l;return d.next(y=>G.forEach(y,(_,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),l.get(_)?G.resolve():this.remoteDocumentCache.getEntry(e,_).next(P=>{p=p.insert(_,P)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,xe())).next(_=>({batchId:f,changes:Kw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=gl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let d=gl();return this.indexManager.getCollectionParents(e,l).next(f=>G.forEach(f,p=>{const y=function(I,P){return new vd(P,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((I,P)=>{d=d.insert(I,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(d=>{l.forEach((p,y)=>{const _=y.getKey();d.get(_)===null&&(d=d.insert(_,qt.newInvalidDocument(_)))});let f=gl();return d.forEach((p,y)=>{const _=l.get(p);_!==void 0&&El(_.mutation,y,tr.empty(),Tt.now()),_d(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return G.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:yr(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:nC(o.bundledQuery),readTime:yr(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.overlays=new it(we.comparator),this.Er=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ts();return G.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=Ts(),l=t.length+1,d=new we(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new it((y,_)=>y-_);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Ts(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=Ts(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=o)););return G.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new D1(t,i));let l=this.Er.get(t);l===void 0&&(l=xe(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.dr=new It(kt.Ar),this.Rr=new It(kt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new kt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new kt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new we(new ot([])),i=new kt(t,e),o=new kt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],d=>{this.gr(d),l.push(d.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new ot([])),i=new kt(t,e),o=new kt(t,e+1);let l=xe();return this.Rr.forEachInRange([i,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new kt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class kt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||Ne(e.br,t.br)}static Vr(e,t){return Ne(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new It(kt.Ar)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new x1(l,t,i,o);this.mutationQueue.push(d);for(const f of o)this.vr=this.vr.add(new kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return G.resolve(d)}lookupMutationBatch(e,t){return G.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],d=>{const f=this.Cr(d.br);l.push(f)}),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new It(Ne);return t.forEach(o=>{const l=new kt(o,0),d=new kt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,d],f=>{i=i.add(f.br)})}),G.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const d=new kt(new we(l),0);let f=new It(Ne);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},d),G.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return G.forEach(t.mutations,o=>{const l=new kt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new kt(t,0),o=this.vr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.Nr=e,this.docs=function(){return new it(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,d=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let i=Xr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():qt.newInvalidDocument(o))}),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Xr();const d=t.path,f=new we(d.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||qS(WS(_),i)<=0||(o.has(_.key)||_d(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Lr(e,t){return G.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new yC(this)}getSize(e){return G.resolve(this.size)}}class yC extends uC{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),G.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.persistence=e,this.Br=new Ls(t=>hp(t),fp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new wp,this.targetCount=0,this.Qr=Xo.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),G.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Un(t),G.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((d,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),G.waitFor(l).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new md(0),this.Ur=!1,this.Ur=!0,this.Wr=new pC,this.referenceDelegate=e(this),this.Gr=new vC(this),this.indexManager=new rC,this.remoteDocumentCache=function(o){return new gC(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new tC(t),this.jr=new hC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new mC(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new wC(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return G.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class wC extends KS{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.Zr=new wp,this.Xr=null}static ei(e){return new _p(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),G.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ti,i=>{const o=we.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return G.or([()=>G.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Wc{constructor(e,t){this.persistence=e,this.ri=new Ls(i=>XS(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=lC(this,t)}static ei(e,t){return new Wc(e,t)}Hr(){}Jr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return G.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?G.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,d=>this.ir(e,d,t).next(f=>{f||(i++,l.removeEntry(d,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cc(e.data.value)),t}ir(e,t,i){return G.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ep(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return gI()?8:QS(Gt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new _C;return this.ts(e,t,d).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,d,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Lo()<=be.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),G.resolve()):(Lo()<=be.DEBUG&&ae("QueryEngine","Query:",Vo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Lo()<=be.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):G.resolve())}Xi(e,t){if(nv(t))return G.resolve(null);let i=gr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=jf(t,null,"F"),i=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const d=xe(...l);return this.Zi.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,f);return this.ss(t,y,d,p.readTime)?this.Xi(e,jf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return nv(t)||o.isEqual(Ie.min())?G.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const d=this.rs(t,l);return this.ss(t,d,i,o)?G.resolve(null):(Lo()<=be.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vo(t)),this.os(e,d,t,HS(o,-1)).next(f=>f))})}rs(e,t){let i=new It(qw(e));return t.forEach((o,l)=>{_d(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return Lo()<=be.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Fi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new it(Ne),this.cs=new Ls(l=>hp(l),fp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dC(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function IC(n,e,t,i){return new TC(n,e,t,i)}async function m_(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const d=[],f=[];let p=xe();for(const y of o){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:d,addedBatchIds:f}))})})}function SC(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,_){const I=y.batch,P=I.keys();let D=G.resolve();return P.forEach(M=>{D=D.next(()=>_.getEntry(p,M)).next(W=>{const j=y.docVersions.get(M);$e(j!==null),W.version.compareTo(j)<0&&(I.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),_.addEntry(W)))})}),D.next(()=>f.mutationQueue.removeMutationBatch(p,I))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=xe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function g_(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function CC(n,e){const t=Ce(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((_,I)=>{const P=o.get(I);if(!P)return;f.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,I)));let D=P.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?D=D.withResumeToken(Mt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),o=o.insert(I,D),function(W,j,K){return W.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(P,D,_)&&f.push(t.Gr.updateTargetData(l,D))});let p=Xr(),y=xe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(PC(l,d,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Ie.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(I=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return G.waitFor(f).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function PC(n,e,t){let i=xe(),o=xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let d=Xr();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:d,Es:o}})}function AC(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function RC(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,G.resolve(o)):t.Gr.allocateTargetId(i).next(d=>(o=new xi(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Wf(n,e,t){const i=Ce(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!oa(d))throw d;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function pv(n,e,t){const i=Ce(n);let o=Ie.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,_){const I=Ce(p),P=I.cs.get(_);return P!==void 0?G.resolve(I.us.get(P)):I.Gr.getTargetData(y,_)}(i,d,gr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(d,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(d,e,t?o:Ie.min(),t?l:xe())).next(f=>(kC(i,g1(e),f),{documents:f,ds:l})))}function kC(n,e,t){let i=n.ls.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class mv{constructor(){this.activeTargetIds=T1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bC{constructor(){this._o=new mv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new mv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c=null;function Ef(){return _c===null?_c=function(){return 268435456+Math.round(2147483648*Math.random())}():_c++,"0x"+_c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class OC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,d){const f=Ef(),p=this.No(t,i.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,d),this.Bo(t,p,y,o).then(_=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw Go("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,d,f){return this.Oo(t,i,o,l,d)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,d)=>t[d]=l),o&&o.headers.forEach((l,d)=>t[d]=l)}No(t,i){const o=DC[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=Ef();return new Promise((d,f)=>{const p=new kw;p.setWithCredentials(!0),p.listenOnce(bw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Sc.NO_ERROR:const _=p.getResponseJson();ae(Ht,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),d(_);break;case Sc.TIMEOUT:ae(Ht,`RPC '${e}' ${l} timed out`),f(new ve(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const I=p.getStatus();if(ae(Ht,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const D=P==null?void 0:P.error;if(D&&D.status&&D.message){const M=function(j){const K=j.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN}(D.status);f(new ve(M,D.message))}else f(new ve(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ve(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(Ht,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ae(Ht,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Ef(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Nw(),f=Dw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ae(Ht,`Creating RPC '${e}' stream ${o}: ${_}`,p);const I=d.createWebChannel(_,p);let P=!1,D=!1;const M=new NC({Eo:j=>{D?ae(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(P||(ae(Ht,`Opening RPC '${e}' stream ${o} transport.`),I.open(),P=!0),ae(Ht,`RPC '${e}' stream ${o} sending:`,j),I.send(j))},Ao:()=>I.close()}),W=(j,K,X)=>{j.listen(K,ie=>{try{X(ie)}catch(he){setTimeout(()=>{throw he},0)}})};return W(I,ml.EventType.OPEN,()=>{D||(ae(Ht,`RPC '${e}' stream ${o} transport opened.`),M.So())}),W(I,ml.EventType.CLOSE,()=>{D||(D=!0,ae(Ht,`RPC '${e}' stream ${o} transport closed`),M.Do())}),W(I,ml.EventType.ERROR,j=>{D||(D=!0,Go(Ht,`RPC '${e}' stream ${o} transport errored:`,j),M.Do(new ve(ee.UNAVAILABLE,"The operation could not be completed")))}),W(I,ml.EventType.MESSAGE,j=>{var K;if(!D){const X=j.data[0];$e(!!X);const ie=X,he=(ie==null?void 0:ie.error)||((K=ie[0])===null||K===void 0?void 0:K.error);if(he){ae(Ht,`RPC '${e}' stream ${o} received error:`,he);const Pe=he.status;let Se=function(C){const k=mt[C];if(k!==void 0)return i_(k)}(Pe),b=he.message;Se===void 0&&(Se=ee.INTERNAL,b="Unknown error status: "+Pe+" with message "+he.message),D=!0,M.Do(new ve(Se,b)),I.close()}else ae(Ht,`RPC '${e}' stream ${o} received:`,X),M.vo(X)}}),W(f,xw.STAT_EVENT,j=>{j.stat===Lf.PROXY?ae(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Lf.NOPROXY&&ae(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.bo()},0),M}}function Tf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(n){return new B1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,t,i,o,l,d,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new y_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ve(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LC extends v_{constructor(e,t,i,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,d),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=H1(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?yr(d.readTime):Ie.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Hf(this.serializer),t.addTarget=function(l,d){let f;const p=d.target;if(f=Uf(p)?{documents:G1(l,p)}:{query:K1(l,p).ct},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=a_(l,d.resumeToken);const y=Bf(l,d.expectedCount);y!==null&&(f.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ie.min())>0){f.readTime=Hc(l,d.snapshotVersion.toTimestamp());const y=Bf(l,d.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=Y1(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Hf(this.serializer),t.removeTarget=e,this.c_(t)}}class VC extends v_{constructor(e,t,i,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,d),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=q1(e.writeResults,e.commitTime),i=yr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Hf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>W1(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Oo(e,zf(t,i),o,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ee.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.ko(e,zf(t,i),o,d,f,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ve(ee.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class FC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Yr(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(d=>{i.enqueueAndForget(async()=>{Ms(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Ce(p);y.k_.add(4),await Ul(y),y.K_.set("Unknown"),y.k_.delete(4),await Cd(y)}(this))})}),this.K_=new FC(i,o)}}async function Cd(n){if(Ms(n))for(const e of n.q_)await e(!0)}async function Ul(n){for(const e of n.q_)await e(!1)}function w_(n,e){const t=Ce(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Cp(t)?Sp(t):aa(t).s_()&&Ip(t,e))}function Tp(n,e){const t=Ce(n),i=aa(t);t.B_.delete(e),i.s_()&&__(t,e),t.B_.size===0&&(i.s_()?i.a_():Ms(t)&&t.K_.set("Unknown"))}function Ip(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}aa(n).V_(e)}function __(n,e){n.U_.xe(e),aa(n).m_(e)}function Sp(n){n.U_=new M1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),aa(n).start(),n.K_.F_()}function Cp(n){return Ms(n)&&!aa(n).i_()&&n.B_.size>0}function Ms(n){return Ce(n).k_.size===0}function E_(n){n.U_=void 0}async function jC(n){n.K_.set("Online")}async function BC(n){n.B_.forEach((e,t)=>{Ip(n,e)})}async function zC(n,e){E_(n),Cp(n)?(n.K_.O_(e),Sp(n)):n.K_.set("Unknown")}async function $C(n,e,t){if(n.K_.set("Online"),e instanceof o_&&e.state===2&&e.cause)try{await async function(o,l){const d=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,d),o.B_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await qc(n,i)}else if(e instanceof Rc?n.U_.$e(e):e instanceof s_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ie.min()))try{const i=await g_(n.localStore);t.compareTo(i)>=0&&await function(l,d){const f=l.U_.it(d);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,d))}}),f.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(Mt.EMPTY_BYTE_STRING,_.snapshotVersion)),__(l,p);const I=new xi(_.target,p,y,_.sequenceNumber);Ip(l,I)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ae("RemoteStore","Failed to raise snapshot:",i),await qc(n,i)}}async function qc(n,e,t){if(!oa(e))throw e;n.k_.add(1),await Ul(n),n.K_.set("Offline"),t||(t=()=>g_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Cd(n)})}function T_(n,e){return e().catch(t=>qc(n,t,e))}async function Pd(n){const e=Ce(n),t=zi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;HC(e);)try{const o=await AC(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,WC(e,o)}catch(o){await qc(e,o)}I_(e)&&S_(e)}function HC(n){return Ms(n)&&n.L_.length<10}function WC(n,e){n.L_.push(e);const t=zi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function I_(n){return Ms(n)&&!zi(n).i_()&&n.L_.length>0}function S_(n){zi(n).start()}async function qC(n){zi(n).w_()}async function GC(n){const e=zi(n);for(const t of n.L_)e.g_(t.mutations)}async function KC(n,e,t){const i=n.L_.shift(),o=gp.from(i,e,t);await T_(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Pd(n)}async function QC(n,e){e&&zi(n).f_&&await async function(i,o){if(function(d){return O1(d)&&d!==ee.ABORTED}(o.code)){const l=i.L_.shift();zi(i).__(),await T_(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Pd(i)}}(n,e),I_(n)&&S_(n)}async function yv(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const i=Ms(t);t.k_.add(3),await Ul(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Cd(t)}async function YC(n,e){const t=Ce(n);e?(t.k_.delete(2),await Cd(t)):e||(t.k_.add(2),await Ul(t),t.K_.set("Unknown"))}function aa(n){return n.W_||(n.W_=function(t,i,o){const l=Ce(t);return l.b_(),new LC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:jC.bind(null,n),mo:BC.bind(null,n),po:zC.bind(null,n),R_:$C.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Cp(n)?Sp(n):n.K_.set("Unknown")):(await n.W_.stop(),E_(n))})),n.W_}function zi(n){return n.G_||(n.G_=function(t,i,o){const l=Ce(t);return l.b_(),new VC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:qC.bind(null,n),po:QC.bind(null,n),p_:GC.bind(null,n),y_:KC.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Pd(n)):(await n.G_.stop(),n.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const d=Date.now()+i,f=new Pp(e,t,d,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(n,e){if(Yr("AsyncQueue",`${e}: ${n}`),oa(n))return new ve(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=gl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this.z_=new it(we.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Jo{constructor(e,t,i,o,l,d,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new Jo(e,t,jo.emptySet(t),d,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class JC{constructor(){this.queries=wv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ce(t),l=o.queries;o.queries=wv(),l.forEach((d,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ve(ee.ABORTED,"Firestore shutting down"))}}function wv(){return new Ls(n=>Ww(n),wd)}async function ZC(n,e){const t=Ce(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new XC,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const f=Ap(d,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Rp(t)}async function eP(n,e){const t=Ce(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const d=l.J_.indexOf(e);d>=0&&(l.J_.splice(d,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function tP(n,e){const t=Ce(n);let i=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const f of d.J_)f.ta(o)&&(i=!0);d.H_=o}}i&&Rp(t)}function nP(n,e,t){const i=Ce(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Rp(n){n.X_.forEach(e=>{e.next()})}var qf,_v;(_v=qf||(qf={})).na="default",_v.Cache="cache";class rP{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Jo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e){this.key=e}}class P_{constructor(e){this.key=e}}class iP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=qw(e),this.ma=new jo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new vv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,I)=>{const P=o.get(_),D=_d(this.query,I)?I:null,M=!!P&&this.mutatedKeys.has(P.key),W=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let j=!1;P&&D?P.data.isEqual(D.data)?M!==W&&(i.track({type:3,doc:D}),j=!0):this.ya(P,D)||(i.track({type:2,doc:D}),j=!0,(p&&this.Va(D,p)>0||y&&this.Va(D,y)<0)&&(f=!0)):!P&&D?(i.track({type:0,doc:D}),j=!0):P&&!D&&(i.track({type:1,doc:P}),j=!0,(p||y)&&(f=!0)),j&&(D?(d=d.add(D),l=W?l.add(_):l.delete(_)):(d=d.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:d,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const d=e.pa.j_();d.sort((_,I)=>function(D,M){const W=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return W(D)-W(M)}(_.type,I.type)||this.Va(_.doc,I.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,d.length!==0||y?{snapshot:new Jo(this.query,e.ma,l,d,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new vv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new P_(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new C_(i))}),t}va(e){this.da=e.ds,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Jo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class sP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class oP{constructor(e){this.key=e,this.Fa=!1}}class aP{constructor(e,t,i,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new Ls(f=>Ww(f),wd),this.Oa=new Map,this.Na=new Set,this.La=new it(we.comparator),this.Ba=new Map,this.ka=new wp,this.qa={},this.Qa=new Map,this.Ka=Xo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function lP(n,e,t=!0){const i=D_(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await A_(i,e,t,!0),o}async function uP(n,e){const t=D_(n);await A_(t,e,!0,!1)}async function A_(n,e,t,i){const o=await RC(n.localStore,gr(e)),l=o.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await cP(n,e,l,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&w_(n.remoteStore,o),f}async function cP(n,e,t,i,o){n.Ua=(I,P,D)=>async function(W,j,K,X){let ie=j.view.ga(K);ie.ss&&(ie=await pv(W.localStore,j.query,!1).then(({documents:b})=>j.view.ga(b,ie)));const he=X&&X.targetChanges.get(j.targetId),Pe=X&&X.targetMismatches.get(j.targetId)!=null,Se=j.view.applyChanges(ie,W.isPrimaryClient,he,Pe);return Tv(W,j.targetId,Se.ba),Se.snapshot}(n,I,P,D);const l=await pv(n.localStore,e,!0),d=new iP(e,l.ds),f=d.ga(l.documents),p=Fl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=d.applyChanges(f,n.isPrimaryClient,p);Tv(n,t,y.ba);const _=new sP(e,t,d);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function dP(n,e,t){const i=Ce(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(d=>!wd(d,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Wf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Tp(i.remoteStore,o.targetId),Gf(i,o.targetId)}).catch(sa)):(Gf(i,o.targetId),await Wf(i.localStore,o.targetId,!0))}async function hP(n,e){const t=Ce(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Tp(t.remoteStore,i.targetId))}async function fP(n,e,t){const i=_P(n);try{const o=await function(d,f){const p=Ce(d),y=Tt.now(),_=f.reduce((D,M)=>D.add(M.key),xe());let I,P;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=Xr(),W=xe();return p.hs.getEntries(D,_).next(j=>{M=j,M.forEach((K,X)=>{X.isValidDocument()||(W=W.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,M)).next(j=>{I=j;const K=[];for(const X of f){const ie=k1(X,I.get(X.key).overlayedDocument);ie!=null&&K.push(new Vs(X.key,ie,Fw(ie.value.mapValue),Wr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,y,K,f)}).next(j=>{P=j;const K=j.applyToLocalDocumentSet(I,W);return p.documentOverlayCache.saveOverlays(D,j.batchId,K)})}).then(()=>({batchId:P.batchId,changes:Kw(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(d,f,p){let y=d.qa[d.currentUser.toKey()];y||(y=new it(Ne)),y=y.insert(f,p),d.qa[d.currentUser.toKey()]=y}(i,o.batchId,t),await jl(i,o.changes),await Pd(i.remoteStore)}catch(o){const l=Ap(o,"Failed to persist write");t.reject(l)}}async function R_(n,e){const t=Ce(n);try{const i=await CC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.Ba.get(l);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Fa=!0:o.modifiedDocuments.size>0?$e(d.Fa):o.removedDocuments.size>0&&($e(d.Fa),d.Fa=!1))}),await jl(t,i,e)}catch(i){await sa(i)}}function Ev(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,d)=>{const f=d.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(d,f){const p=Ce(d);p.onlineState=f;let y=!1;p.queries.forEach((_,I)=>{for(const P of I.J_)P.ea(f)&&(y=!0)}),y&&Rp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pP(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let d=new it(we.comparator);d=d.insert(l,qt.newNoDocument(l,Ie.min()));const f=xe().add(l),p=new Id(Ie.min(),new Map,new it(Ne),d,f);await R_(i,p),i.La=i.La.remove(l),i.Ba.delete(e),kp(i)}else await Wf(i.localStore,e,!1).then(()=>Gf(i,e,t)).catch(sa)}async function mP(n,e){const t=Ce(n),i=e.batch.batchId;try{const o=await SC(t.localStore,e);b_(t,i,null),k_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await jl(t,o)}catch(o){await sa(o)}}async function gP(n,e,t){const i=Ce(n);try{const o=await function(d,f){const p=Ce(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next(I=>($e(I!==null),_=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);b_(i,e,t),k_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await jl(i,o)}catch(o){await sa(o)}}function k_(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function b_(n,e,t){const i=Ce(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Gf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||x_(n,i)})}function x_(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Tp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),kp(n))}function Tv(n,e,t){for(const i of t)i instanceof C_?(n.ka.addReference(i.key,e),yP(n,i)):i instanceof P_?(ae("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||x_(n,i.key)):Te()}function yP(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ae("SyncEngine","New document in limbo: "+t),n.Na.add(i),kp(n))}function kp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(ot.fromString(e)),i=n.Ka.next();n.Ba.set(i,new oP(t)),n.La=n.La.insert(t,i),w_(n.remoteStore,new xi(gr(pp(t.path)),i,"TargetPurposeLimboResolution",md.oe))}}async function jl(n,e,t){const i=Ce(n),o=[],l=[],d=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{d.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const I=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=Ep.zi(p.targetId,y);l.push(I)}}))}),await Promise.all(d),i.Ma.R_(o),await async function(p,y){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>G.forEach(y,P=>G.forEach(P.Wi,D=>_.persistence.referenceDelegate.addReference(I,P.targetId,D)).next(()=>G.forEach(P.Gi,D=>_.persistence.referenceDelegate.removeReference(I,P.targetId,D)))))}catch(I){if(!oa(I))throw I;ae("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const P=I.targetId;if(!I.fromCache){const D=_.us.get(P),M=D.snapshotVersion,W=D.withLastLimboFreeSnapshotVersion(M);_.us=_.us.insert(P,W)}}}(i.localStore,l))}async function vP(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const i=await m_(t.localStore,e);t.currentUser=e,function(l,d){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ve(ee.CANCELLED,d))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jl(t,i.Ts)}}function wP(n,e){const t=Ce(n),i=t.Ba.get(e);if(i&&i.Fa)return xe().add(i.key);{let o=xe();const l=t.Oa.get(e);if(!l)return o;for(const d of l){const f=t.xa.get(d);o=o.unionWith(f.view.fa)}return o}}function D_(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=R_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pP.bind(null,e),e.Ma.R_=tP.bind(null,e.eventManager),e.Ma.Wa=nP.bind(null,e.eventManager),e}function _P(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gP.bind(null,e),e}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return IC(this.persistence,new EC,e.initialUser,this.serializer)}ja(e){return new p_(_p.ei,this.serializer)}za(e){return new bC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class EP extends Gc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){$e(this.persistence.referenceDelegate instanceof Wc);const i=this.persistence.referenceDelegate.garbageCollector;return new oC(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new p_(i=>Wc.ei(i,t),this.serializer)}}class Kf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ev(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vP.bind(null,this.syncEngine),await YC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JC}()}createDatastore(e){const t=Sd(e.databaseInfo.databaseId),i=function(l){return new OC(l)}(e.databaseInfo);return function(l,d,f,p){return new MC(l,d,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,d,f){return new UC(i,o,l,d,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Ev(this.syncEngine,t,0),function(){return gv.p()?new gv:new xC}())}createSyncEngine(e,t){return function(o,l,d,f,p,y,_){const I=new aP(o,l,d,f,p,y);return _&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ce(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Ul(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Lw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async d=>{ae("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(i,d=>(ae("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ap(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function If(n,e){n.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await m_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Iv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await SP(n);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>yv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>yv(e.remoteStore,o)),n._onlineComponents=e}async function SP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await If(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await If(n,new Gc)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await If(n,new EP(void 0));return n._offlineComponents}async function N_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Iv(n,n._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Iv(n,new Kf))),n._onlineComponents}function CP(n){return N_(n).then(e=>e.syncEngine)}async function PP(n){const e=await N_(n),t=e.eventManager;return t.onListen=lP.bind(null,e.syncEngine),t.onUnlisten=dP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hP.bind(null,e.syncEngine),t}function AP(n,e,t={}){const i=new Mi;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,f,p,y){const _=new TP({next:P=>{_.eu(),d.enqueueAndForget(()=>eP(l,I));const D=P.docs.has(f);!D&&P.fromCache?y.reject(new ve(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&P.fromCache&&p&&p.source==="server"?y.reject(new ve(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(P)},error:P=>y.reject(P)}),I=new rP(pp(f.path),_,{includeMetadataChanges:!0,ua:!0});return ZC(l,I)}(await PP(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n,e,t){if(!t)throw new ve(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kP(n,e,t,i){if(e===!0&&i===!0)throw new ve(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Cv(n){if(!we.isDocumentKey(n))throw new ve(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function bl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bp(n);throw new ve(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O_((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xp{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new LS;switch(i.type){case"firstParty":return new US(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Sv.get(t);i&&(ae("ComponentProvider","Removing Datastore"),Sv.delete(t),i.terminate())}(this),Promise.resolve()}}function bP(n,e,t,i={}){var o;const l=(n=bl(n,xp))._getSettings(),d=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==d&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Wt.MOCK_USER;else{f=uI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ve(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wt(y)}n._authCredentials=new VS(new Ow(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Dp(this.firestore,e,this._query)}}class Ln{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class xl extends Dp{constructor(e,t,i){super(e,t,pp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new we(e))}withConverter(e){return new xl(this.firestore,e,this._path)}}function Kc(n,e,...t){if(n=cn(n),arguments.length===1&&(e=Lw.newId()),RP("doc","path",e),n instanceof xp){const i=ot.fromString(e,...t);return Cv(i),new Ln(n,null,new we(i))}{if(!(n instanceof Ln||n instanceof xl))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return Cv(i),new Ln(n.firestore,n instanceof xl?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new y_(this,"async_queue_retry"),this.fu=()=>{const i=Tf();i&&ae("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Tf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Tf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Mi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!oa(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),f}(i);throw Yr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Pp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Np extends xp{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Av,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Av(e),this._firestoreClient=void 0,await e}}}function xP(n,e){const t=typeof n=="object"?n:Cw(),i=typeof n=="string"?n:"(default)",o=lp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=aI("firestore");l&&bP(o,...l)}return o}function L_(n){if(n._terminated)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DP(n),n._firestoreClient}function DP(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,y,_){return new e1(f,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,O_(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new IP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(Mt.fromBase64String(e))}catch(t){throw new ve(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^__.*__$/;class OP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ml(e,this.data,t,this.fieldTransforms)}}function M_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Mp{constructor(e,t,i,o,l,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Qc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(M_(this.Mu)&&NP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class LP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Sd(e)}$u(e,t,i,o=!1){return new Mp({Mu:e,methodName:t,Ku:i,path:Vt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VP(n){const e=n._freezeSettings(),t=Sd(n._databaseId);return new LP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MP(n,e,t,i,o,l={}){const d=n.$u(l.merge||l.mergeFields?2:0,e,t,o);B_("Data must be an object, but it was:",d,i);const f=U_(i,d);let p,y;if(l.merge)p=new tr(d.fieldMask),y=d.fieldTransforms;else if(l.mergeFields){const _=[];for(const I of l.mergeFields){const P=FP(e,I,t);if(!d.contains(P))throw new ve(ee.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);jP(_,P)||_.push(P)}p=new tr(_),y=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=d.fieldTransforms;return new OP(new On(f),p,y)}function F_(n,e){if(j_(n=cn(n)))return B_("Unsupported field value:",e,n),U_(n,e);if(n instanceof V_)return function(i,o){if(!M_(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let d=0;for(const f of i){let p=F_(f,o.ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),d++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return I1(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Tt.fromDate(i);return{timestampValue:Hc(o.serializer,l)}}if(i instanceof Tt){const l=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hc(o.serializer,l)}}if(i instanceof Lp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zo)return{bytesValue:a_(o.serializer,i._byteString)};if(i instanceof Ln){const l=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(l))throw o.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Vp)return function(d,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return mp(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${bp(i)}`)}(n,e)}function U_(n,e){const t={};return Vw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(n,(i,o)=>{const l=F_(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function j_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof Lp||n instanceof Zo||n instanceof Ln||n instanceof V_||n instanceof Vp)}function B_(n,e,t){if(!j_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=bp(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function FP(n,e,t){if((e=cn(e))instanceof Op)return e._internalPath;if(typeof e=="string")return z_(n,e);throw Qc("Field path arguments must be of type string or ",n,!1,void 0,t)}const UP=new RegExp("[~\\*/\\[\\]]");function z_(n,e,t){if(e.search(UP)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Op(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qc(n,e,t,i,o){const l=i&&!i.isEmpty(),d=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||d)&&(p+=" (found",l&&(p+=` in field ${i}`),d&&(p+=` in document ${o}`),p+=")"),new ve(ee.INVALID_ARGUMENT,f+n+p)}function jP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(H_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BP extends $_{data(){return super.data()}}function H_(n,e){return typeof e=="string"?z_(n,e):e instanceof Op?e._internalPath:e._delegate._internalPath}class zP{convertValue(e,t="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Os(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(d=>dt(d.doubleValue));return new Vp(l)}convertGeoPoint(e){return new Lp(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=yd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const t=Ui(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);$e(f_(i));const o=new Pl(i.get(1),i.get(3)),l=new we(i.popFirst(5));return o.isEqual(t)||Yr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class W_ extends $_{constructor(e,t,i,o,l,d){super(e,t,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new WP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(H_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class WP extends W_{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n){n=bl(n,Ln);const e=bl(n.firestore,Np);return AP(L_(e),n._key).then(t=>QP(e,n,t))}class GP extends zP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}function Fp(n,e,t){n=bl(n,Ln);const i=bl(n.firestore,Np),o=$P(n.converter,e,t);return KP(i,[MP(VP(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Wr.none())])}function KP(n,e){return function(i,o){const l=new Mi;return i.asyncQueue.enqueueAndForget(async()=>fP(await CP(i),o,l)),l.promise}(L_(n),e)}function QP(n,e,t){const i=t.docs.get(e._key),o=new GP(n);return new W_(n,o,e._key,i,new HP(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ia=o})(ra),qo(new Rs("firestore",(i,{instanceIdentifier:o,options:l})=>{const d=i.getProvider("app").getImmediate(),f=new Np(new MS(i.getProvider("auth-internal")),new BS(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(y.options.projectId,_)}(d,o),d);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Vi(Wy,"4.7.5",e),Vi(Wy,"4.7.5","esm2017")})();function Up(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function q_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YP=q_,G_=new Ll("auth","Firebase",q_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new op("@firebase/auth");function XP(n,...e){Yc.logLevel<=be.WARN&&Yc.warn(`Auth (${ra}): ${n}`,...e)}function kc(n,...e){Yc.logLevel<=be.ERROR&&Yc.error(`Auth (${ra}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(n,...e){throw Bp(n,...e)}function nr(n,...e){return Bp(n,...e)}function jp(n,e,t){const i=Object.assign(Object.assign({},YP()),{[e]:t});return new Ll("auth","Firebase",i).create(e,{appName:n.name})}function qr(n){return jp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Vn(n,"argument-error"),jp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return G_.create(n,...e)}function _e(n,e,...t){if(!n)throw Bp(e,...t)}function zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kc(e),new Error(e)}function Jr(n,e){n||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ZP(){return Rv()==="http:"||Rv()==="https:"}function Rv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZP()||fI()||"connection"in navigator)?navigator.onLine:!0}function tA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jr(t>e,"Short delay should be less than long delay!"),this.isMobile=cI()||pI()}get(){return eA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n,e){Jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Bl(3e4,6e4);function ei(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ti(n,e,t,i,o={}){return Q_(n,o,async()=>{let l={},d={};i&&(e==="GET"?d=i:l={body:JSON.stringify(i)});const f=Vl(Object.assign({key:n.config.apiKey},d)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return hI()||(y.referrerPolicy="no-referrer"),K_.fetch()(Y_(n,n.config.apiHost,t,f),y)})}async function Q_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},nA),e);try{const o=new sA(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw Ec(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const f=l.ok?d.errorMessage:d.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Ec(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw Ec(n,"user-disabled",d);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw jp(n,_,y);Vn(n,_)}}catch(o){if(o instanceof Zr)throw o;Vn(n,"network-request-failed",{message:String(o)})}}async function zl(n,e,t,i,o={}){const l=await ti(n,e,t,i,o);return"mfaPendingCredential"in l&&Vn(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Y_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?zp(n.config,o):`${n.config.apiScheme}://${o}`}function iA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(nr(this.auth,"network-request-failed")),rA.get())})}}function Ec(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=nr(n,e,i);return o.customData._tokenResponse=t,o}function kv(n){return n!==void 0&&n.enterprise!==void 0}class oA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aA(n,e){return ti(n,"GET","/v2/recaptchaConfig",ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(n,e){return ti(n,"POST","/v1/accounts:delete",e)}async function X_(n,e){return ti(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uA(n,e=!1){const t=cn(n),i=await t.getIdToken(e),o=$p(i);_e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Tl(Sf(o.auth_time)),issuedAtTime:Tl(Sf(o.iat)),expirationTime:Tl(Sf(o.exp)),signInProvider:d||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Sf(n){return Number(n)*1e3}function $p(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=vw(t);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function bv(n){const e=$p(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Zr&&cA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function cA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Dl(n,X_(t,{idToken:i}));_e(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?J_(l.providerUserInfo):[],f=fA(n.providerData,d),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?y:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Yf(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,I)}async function hA(n){const e=cn(n);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function J_(n){return n.map(e=>{var{providerId:t}=e,i=Up(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(n,e){const t=await Q_(n,{},async()=>{const i=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,d=Y_(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",K_.fetch()(d,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mA(n,e){return ti(n,"POST","/v2/accounts:revokeToken",ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=bv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await pA(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,d=new Bo;return i&&(_e(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(_e(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(_e(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class $r{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Yf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uA(this,e)}reload(){return hA(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Xc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await Dl(this,lA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,d,f,p,y,_;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,P=(o=t.email)!==null&&o!==void 0?o:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,M=(d=t.photoURL)!==null&&d!==void 0?d:void 0,W=(f=t.tenantId)!==null&&f!==void 0?f:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(y=t.createdAt)!==null&&y!==void 0?y:void 0,X=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ie,emailVerified:he,isAnonymous:Pe,providerData:Se,stsTokenManager:b}=t;_e(ie&&b,e,"internal-error");const T=Bo.fromJSON(this.name,b);_e(typeof ie=="string",e,"internal-error"),Ai(I,e.name),Ai(P,e.name),_e(typeof he=="boolean",e,"internal-error"),_e(typeof Pe=="boolean",e,"internal-error"),Ai(D,e.name),Ai(M,e.name),Ai(W,e.name),Ai(j,e.name),Ai(K,e.name),Ai(X,e.name);const C=new $r({uid:ie,auth:e,email:P,emailVerified:he,displayName:I,isAnonymous:Pe,photoURL:M,phoneNumber:D,tenantId:W,stsTokenManager:T,createdAt:K,lastLoginAt:X});return Se&&Array.isArray(Se)&&(C.providerData=Se.map(k=>Object.assign({},k))),j&&(C._redirectEventId=j),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Bo;o.updateFromServerResponse(t);const l=new $r({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Xc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];_e(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?J_(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Bo;f.updateFromIdToken(i);const p=new $r({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Yf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map;function Hr(n){Jr(n instanceof Function,"Expected a class definition");let e=xv.get(n);return e?(Jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Z_.type="NONE";const Dv=Z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n,e,t){return`firebase:${n}:${e}:${t}`}class zo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=bc(this.userKey,o.apiKey,l),this.fullPersistenceKey=bc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new zo(Hr(Dv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Hr(Dv);const d=bc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(d);if(_){const I=$r._fromJSON(e,_);y!==l&&(f=I),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new zo(l,e,i):(l=p[0],f&&await l._set(d,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(d)}catch{}})),new zo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s0(e))return"Blackberry";if(o0(e))return"Webos";if(t0(e))return"Safari";if((e.includes("chrome/")||n0(e))&&!e.includes("edge/"))return"Chrome";if(i0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function e0(n=Gt()){return/firefox\//i.test(n)}function t0(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n0(n=Gt()){return/crios\//i.test(n)}function r0(n=Gt()){return/iemobile/i.test(n)}function i0(n=Gt()){return/android/i.test(n)}function s0(n=Gt()){return/blackberry/i.test(n)}function o0(n=Gt()){return/webos/i.test(n)}function Hp(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gA(n=Gt()){var e;return Hp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yA(){return mI()&&document.documentMode===10}function a0(n=Gt()){return Hp(n)||i0(n)||o0(n)||s0(n)||/windows phone/i.test(n)||r0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n,e=[]){let t;switch(n){case"Browser":t=Nv(Gt());break;case"Worker":t=`${Nv(Gt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((d,f)=>{try{const p=e(l);d(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(n,e={}){return ti(n,"GET","/v2/passwordPolicy",ei(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=6;class EA{constructor(e){var t,i,o,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:_A,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new vA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await X_(this,{idToken:e}),i=await $r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(er(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(qr(this));const t=e?cn(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wA(this),t=new EA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await mA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hr(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(f,this,"internal-error"),f.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&XP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Hi(n){return cn(n)}class Ov{constructor(e){this.auth=e,this.observer=null,this.addObserver=II(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IA(n){Ad=n}function u0(n){return Ad.loadJS(n)}function SA(){return Ad.recaptchaEnterpriseScript}function CA(){return Ad.gapiScript}function PA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class AA{constructor(){this.enterprise=new RA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const kA="recaptcha-enterprise",c0="NO_RECAPTCHA";class bA{constructor(e){this.type=kA,this.auth=Hi(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,f)=>{aA(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new oA(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,d(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,d,f){const p=window.grecaptcha;kv(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{d(y)}).catch(()=>{d(c0)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AA().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{i(this.auth).then(f=>{if(!t&&kv(window.grecaptcha))o(f,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=SA();p.length!==0&&(p+=f),u0(p).then(()=>{o(f,l,d)}).catch(y=>{d(y)})}}).catch(f=>{d(f)})})}}async function Lv(n,e,t,i=!1,o=!1){const l=new bA(n);let d;if(o)d=c0;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Xf(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Lv(n,e,t,t==="getOobCode");return i(n,d)}else return i(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Lv(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n,e){const t=lp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Mc(l,e??{}))return o;Vn(o,"already-initialized")}return t.initialize({options:e})}function DA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Hr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function NA(n,e,t){const i=Hi(n);_e(i._canInitEmulator,i,"emulator-config-failed"),_e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=d0(e),{host:d,port:f}=OA(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${d}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:d,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),LA()}function d0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OA(n){const e=d0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Vv(i.substr(l.length+1))}}else{const[l,d]=i.split(":");return{host:l,port:Vv(d)}}}function Vv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function LA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function VA(n,e){return ti(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(n,e){return zl(n,"POST","/v1/accounts:signInWithPassword",ei(n,e))}async function FA(n,e){return ti(n,"POST","/v1/accounts:sendOobCode",ei(n,e))}async function UA(n,e){return FA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",ei(n,e))}async function BA(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Wp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Nl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Nl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,t,"signInWithPassword",MA);case"emailLink":return jA(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,i,"signUpPassword",VA);case"emailLink":return BA(e,{idToken:t,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e){return zl(n,"POST","/v1/accounts:signInWithIdp",ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="http://localhost";class bs extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Up(t,["providerId","signInMethod"]);if(!i||!o)return null;const d=new bs(i,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,$o(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:zA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HA(n){const e=fl(pl(n)).link,t=e?fl(pl(e)).deep_link_id:null,i=fl(pl(n)).deep_link_id;return(i?fl(pl(i)).link:null)||i||t||e||n}class qp{constructor(e){var t,i,o,l,d,f;const p=fl(pl(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,I=$A((o=p.mode)!==null&&o!==void 0?o:null);_e(y&&_&&I,"argument-error"),this.apiKey=y,this.operation=I,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=HA(e);try{return new qp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.providerId=la.PROVIDER_ID}static credential(e,t){return Nl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=qp.parseLink(t);return _e(i,"argument-error"),Nl._fromEmailAndCode(e,i.code,i.tenantId)}}la.PROVIDER_ID="password";la.EMAIL_PASSWORD_SIGN_IN_METHOD="password";la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Gp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends $l{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Br.credential(t,i)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends $l{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com";ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends $l{constructor(){super("twitter.com")}static credential(e,t){return bs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bi.credential(t,i)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(n,e){return zl(n,"POST","/v1/accounts:signUp",ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await $r._fromIdTokenResponse(e,i,o),d=Mv(i);return new xs({user:l,providerId:d,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Mv(i);return new xs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Mv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Zr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Jc(e,t,i,o)}}function h0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(n,l,e,i):l})}async function qA(n,e,t=!1){const i=await Dl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(n,e,t=!1){const{auth:i}=n;if(er(i.app))return Promise.reject(qr(i));const o="reauthenticate";try{const l=await Dl(n,h0(i,o,e,n),t);_e(l.idToken,i,"internal-error");const d=$p(l.idToken);_e(d,i,"internal-error");const{sub:f}=d;return _e(n.uid===f,i,"user-mismatch"),xs._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Vn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0(n,e,t=!1){if(er(n.app))return Promise.reject(qr(n));const i="signIn",o=await h0(n,i,e),l=await xs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function KA(n,e){return f0(Hi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0(n){const e=Hi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QA(n,e,t){if(er(n.app))return Promise.reject(qr(n));const i=Hi(n),d=await Xf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&p0(n),p}),f=await xs._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(f.user),f}function YA(n,e,t){return er(n.app)?Promise.reject(qr(n)):KA(cn(n),la.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&p0(n),i})}async function m0(n,e){const t=cn(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await UA(t.auth,o);l!==n.email&&await n.reload()}function XA(n,e,t,i){return cn(n).onIdTokenChanged(e,t,i)}function JA(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function ZA(n,e,t,i){return cn(n).onAuthStateChanged(e,t,i)}function e2(n){return cn(n).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=1e3,n2=10;class y0 extends g0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!t&&this.localCache[i]===d||this.notifyListeners(i,d)},l=this.storage.getItem(i);yA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,n2):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},t2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}y0.type="LOCAL";const r2=y0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends g0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}v0.type="SESSION";const w0=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Rd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(d).map(async y=>y(t.origin,l)),p=await i2(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((f,p)=>{const y=Kp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(I){const P=I;if(P.data.eventId===y)switch(P.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(P.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function o2(n){vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function a2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function u2(){return _0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firebaseLocalStorageDb",c2=1,ed="firebaseLocalStorage",T0="fbase_key";class Hl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kd(n,e){return n.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function d2(){const n=indexedDB.deleteDatabase(E0);return new Hl(n).toPromise()}function Jf(){const n=indexedDB.open(E0,c2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ed,{keyPath:T0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ed)?e(i):(i.close(),await d2(),e(await Jf()))})})}async function Fv(n,e,t){const i=kd(n,!0).put({[T0]:e,value:t});return new Hl(i).toPromise()}async function h2(n,e){const t=kd(n,!1).get(e),i=await new Hl(t).toPromise();return i===void 0?null:i.value}function Uv(n,e){const t=kd(n,!0).delete(e);return new Hl(t).toPromise()}const f2=800,p2=3;class I0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>p2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(u2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await a2(),!this.activeServiceWorker)return;this.sender=new s2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jf();return await Fv(e,Zc,"1"),await Uv(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>h2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Uv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=kd(o,!1).getAll();return new Hl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I0.type="LOCAL";const m2=I0;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(n,e){return e?Hr(e):(_e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function g2(n){return f0(n.auth,new Qp(n),n.bypassAuthState)}function y2(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),GA(t,new Qp(n),n.bypassAuthState)}async function v2(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),qA(t,new Qp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g2;case"linkViaPopup":case"linkViaRedirect":return v2;case"reauthViaPopup":case"reauthViaRedirect":return y2;default:Vn(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new Bl(2e3,1e4);async function _2(n,e,t){if(er(n.app))return Promise.reject(nr(n,"operation-not-supported-in-this-environment"));const i=Hi(n);JP(n,e,Gp);const o=S0(i,t);return new Is(i,"signInViaPopup",e,o).executeNotNull()}class Is extends C0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w2.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="pendingRedirect",xc=new Map;class T2 extends C0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=xc.get(this.auth._key());if(!e){try{const i=await I2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}xc.set(this.auth._key(),e)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(n,e){const t=P2(e),i=C2(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function S2(n,e){xc.set(n._key(),e)}function C2(n){return Hr(n._redirectPersistence)}function P2(n){return bc(E2,n.config.apiKey,n.name)}async function A2(n,e,t=!1){if(er(n.app))return Promise.reject(qr(n));const i=Hi(n),o=S0(i,e),d=await new T2(i,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=10*60*1e3;class k2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!P0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(nr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R2&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(e))}saveEventToCache(e){this.cachedEventUids.add(jv(e)),this.lastProcessedEventTime=Date.now()}}function jv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function P0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(n,e={}){return ti(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N2=/^https?/;async function O2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await x2(n);for(const t of e)try{if(L2(t))return}catch{}Vn(n,"unauthorized-domain")}function L2(n){const e=Qf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===i}if(!N2.test(t))return!1;if(D2.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new Bl(3e4,6e4);function Bv(){const n=vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function M2(n){return new Promise((e,t)=>{var i,o,l;function d(){Bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bv(),t(nr(n,"network-request-failed"))},timeout:V2.get()})}if(!((o=(i=vr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=vr().gapi)===null||l===void 0)&&l.load)d();else{const f=PA("iframefcb");return vr()[f]=()=>{gapi.load?d():t(nr(n,"network-request-failed"))},u0(`${CA()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function F2(n){return Dc=Dc||M2(n),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Bl(5e3,15e3),j2="__/auth/iframe",B2="emulator/auth/iframe",z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H2(n){const e=n.config;_e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zp(e,B2):`https://${n.config.authDomain}/${j2}`,i={apiKey:e.apiKey,appName:n.name,v:ra},o=$2.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Vl(i).slice(1)}`}async function W2(n){const e=await F2(n),t=vr().gapi;return _e(t,n,"internal-error"),e.open({where:document.body,url:H2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z2,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const d=nr(n,"network-request-failed"),f=vr().setTimeout(()=>{l(d)},U2.get());function p(){vr().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,K2=600,Q2="_blank",Y2="http://localhost";class zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X2(n,e,t,i=G2,o=K2){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},q2),{width:i.toString(),height:o.toString(),top:l,left:d}),y=Gt().toLowerCase();t&&(f=n0(y)?Q2:t),e0(y)&&(e=e||Y2,p.scrollbars="yes");const _=Object.entries(p).reduce((P,[D,M])=>`${P}${D}=${M},`,"");if(gA(y)&&f!=="_self")return J2(e||"",f),new zv(null);const I=window.open(e||"",f,_);_e(I,n,"popup-blocked");try{I.focus()}catch{}return new zv(I)}function J2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="__/auth/handler",eR="emulator/auth/handler",tR=encodeURIComponent("fac");async function $v(n,e,t,i,o,l){_e(n.config.authDomain,n,"auth-domain-config-required"),_e(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ra,eventId:o};if(e instanceof Gp){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",TI(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,I]of Object.entries({}))d[_]=I}if(e instanceof $l){const _=e.getScopes().filter(I=>I!=="");_.length>0&&(d.scopes=_.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await n._getAppCheckToken(),y=p?`#${tR}=${encodeURIComponent(p)}`:"";return`${nR(n)}?${Vl(f).slice(1)}${y}`}function nR({config:n}){return n.emulator?zp(n,eR):`https://${n.authDomain}/${Z2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="webStorageSupport";class rR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w0,this._completeRedirectFn=A2,this._overrideRedirectResult=S2}async _openPopup(e,t,i,o){var l;Jr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await $v(e,t,i,Qf(),o);return X2(e,d,Kp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await $v(e,t,i,Qf(),o);return o2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Jr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await W2(e),i=new k2(e);return t.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cf,{type:Cf},o=>{var l;const d=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Cf];d!==void 0&&t(!!d),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=O2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return a0()||t0()||Hp()}}const iR=rR;var Hv="@firebase/auth",Wv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aR(n){qo(new Rs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=i.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l0(n)},y=new TA(i,o,l,p);return DA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),qo(new Rs("auth-internal",e=>{const t=Hi(e.getProvider("auth").getImmediate());return(i=>new sR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(Hv,Wv,oR(n)),Vi(Hv,Wv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=5*60,uR=Ew("authIdTokenMaxAge")||lR;let qv=null;const cR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>uR)return;const o=t==null?void 0:t.token;qv!==o&&(qv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dR(n=Cw()){const e=lp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xA(n,{popupRedirectResolver:iR,persistence:[m2,r2,w0]}),i=Ew("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const d=cR(l.toString());JA(t,d,()=>d(t.currentUser)),XA(t,f=>d(f))}}const o=ww("auth");return o&&NA(t,`http://${o}`),t}function hR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}IA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=nr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",hR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aR("Browser");var Oo={ALLUSERSPROFILE:"C:\\ProgramData",APIKEY:"AIzaSyAMCtRmdGQfs7CVSvrrEbpxgSmbN9d87yk",APPDATA:"C:\\Users\\Usuario\\AppData\\Roaming",APPID:"1:752618464069:web:0479fc85cb481af7b5d42c",AUTHDOMAIN:"AIzaSyAMCtRmdGQfs7CVSvrrEbpxgSmbN9d87yk",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_132_MOGVPHTDSUQAXRRJ",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-HDF89UI",ComSpec:"C:\\Windows\\system32\\cmd.exe",C_EM64T_REDIST11:"C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\Usuario\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",GIT_LFS_PATH:"C:\\Program Files\\Git LFS",HOME:"C:\\Users\\Usuario",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Usuario",INIT_CWD:"C:\\Users\\Usuario\\Desktop\\Roman Diseño\\GitHub MTESS-Form\\v2",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Usuario\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-HDF89UI",MESSAGINGSENDERID:"752618464069",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Usuario\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Usuario\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Usuario\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Usuario\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\Usuario\\Desktop\\Roman Diseño\\GitHub MTESS-Form\\v2",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\Usuario\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Usuario\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.18.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\Usuario\\Desktop\\Roman Diseño\\GitHub MTESS-Form\\v2\\package.json",npm_package_name:"v2",npm_package_version:"0.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Usuario\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\Usuario\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\Usuario\\Desktop\\Roman Diseño\\GitHub MTESS-Form\\v2\\node_modules\\.bin;C:\\Users\\Usuario\\Desktop\\Roman Diseño\\GitHub MTESS-Form\\node_modules\\.bin;C:\\Users\\Usuario\\Desktop\\Roman Diseño\\node_modules\\.bin;C:\\Users\\Usuario\\Desktop\\node_modules\\.bin;C:\\Users\\Usuario\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\java8path;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\bin\\Intel64;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git LFS;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\windows\\system32;C:\\Users\\Usuario\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Usuario\\AppData\\Roaming\\npm;C:\\Users\\Usuario\\.dotnet\\tools;;c:\\Users\\Usuario\\AppData\\Roaming\\Code\\User\\globalStorage\\github.copilot-chat\\debugCommand",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROJECTID:"mtess-form",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Usuario\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",STORAGEBUCKET:"mtess-form.appspot.com",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\Usuario\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.96.2",TMP:"C:\\Users\\Usuario\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-HDF89UI",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-HDF89UI",USERNAME:"Usuario",USERPROFILE:"C:\\Users\\Usuario",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Usuario\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Usuario\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-a7e5d6976d-sock",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"};const fR={apiKey:Oo.APIKEY,authDomain:Oo.AUTHDOMAIN,projectId:Oo.PROJECTID,storageBucket:Oo.STORAGEBUCKET,messagingSenderId:Oo.MESSAGINGSENDERID,appId:Oo.APPID},A0=Sw(fR),td=xP(A0),ua=dR(A0),R0=q.createContext(),Yp=()=>q.useContext(R0),pR=({children:n})=>{const[e,t]=q.useState(null);return q.useEffect(()=>ZA(ua,o=>{t(o)}),[]),H.jsx(R0.Provider,{value:{currentUser:e},children:n})};/*!
* sweetalert2 v11.15.2
* Released under the MIT License.
*/function k0(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function mR(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gv(n,e){return n.get(k0(n,e))}function gR(n,e,t){mR(n,e),e.set(n,t)}function yR(n,e,t){return n.set(k0(n,e),t),t}const vR=100,ye={},wR=()=>{ye.previousActiveElement instanceof HTMLElement?(ye.previousActiveElement.focus(),ye.previousActiveElement=null):document.body&&document.body.focus()},_R=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,i=window.scrollY;ye.restoreFocusTimeout=setTimeout(()=>{wR(),e()},vR),window.scrollTo(t,i)}),b0="swal2-",ER=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],$=ER.reduce((n,e)=>(n[e]=b0+e,n),{}),TR=["success","warning","info","question","error"],nd=TR.reduce((n,e)=>(n[e]=b0+e,n),{}),x0="SweetAlert2:",Xp=n=>n.charAt(0).toUpperCase()+n.slice(1),dn=n=>{console.warn(`${x0} ${typeof n=="object"?n.join(" "):n}`)},Fs=n=>{console.error(`${x0} ${n}`)},Kv=[],IR=n=>{Kv.includes(n)||(Kv.push(n),dn(n))},D0=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;IR(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},bd=n=>typeof n=="function"?n():n,Jp=n=>n&&typeof n.toPromise=="function",Wl=n=>Jp(n)?n.toPromise():Promise.resolve(n),Zp=n=>n&&Promise.resolve(n)===n,hn=()=>document.body.querySelector(`.${$.container}`),ql=n=>{const e=hn();return e?e.querySelector(n):null},Tn=n=>ql(`.${n}`),je=()=>Tn($.popup),ca=()=>Tn($.icon),SR=()=>Tn($["icon-content"]),N0=()=>Tn($.title),em=()=>Tn($["html-container"]),O0=()=>Tn($.image),tm=()=>Tn($["progress-steps"]),xd=()=>Tn($["validation-message"]),Er=()=>ql(`.${$.actions} .${$.confirm}`),da=()=>ql(`.${$.actions} .${$.cancel}`),Us=()=>ql(`.${$.actions} .${$.deny}`),CR=()=>Tn($["input-label"]),ha=()=>ql(`.${$.loader}`),Gl=()=>Tn($.actions),L0=()=>Tn($.footer),Dd=()=>Tn($["timer-progress-bar"]),nm=()=>Tn($.close),PR=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,rm=()=>{const n=je();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((l,d)=>{const f=parseInt(l.getAttribute("tabindex")||"0"),p=parseInt(d.getAttribute("tabindex")||"0");return f>p?1:f<p?-1:0}),i=n.querySelectorAll(PR),o=Array.from(i).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(l=>un(l))},im=()=>Gr(document.body,$.shown)&&!Gr(document.body,$["toast-shown"])&&!Gr(document.body,$["no-backdrop"]),Nd=()=>{const n=je();return n?Gr(n,$.toast):!1},AR=()=>{const n=je();return n?n.hasAttribute("data-loading"):!1},In=(n,e)=>{if(n.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(d=>{n.appendChild(d)});const l=i.querySelector("body");l&&Array.from(l.childNodes).forEach(d=>{d instanceof HTMLVideoElement||d instanceof HTMLAudioElement?n.appendChild(d.cloneNode(!0)):n.appendChild(d)})}},Gr=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},RR=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values($).includes(t)&&!Object.values(nd).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},En=(n,e,t)=>{if(RR(n,e),!e.customClass)return;const i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){dn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}Me(n,i)}},Od=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${$.popup} > .${$[e]}`);case"checkbox":return n.querySelector(`.${$.popup} > .${$.checkbox} input`);case"radio":return n.querySelector(`.${$.popup} > .${$.radio} input:checked`)||n.querySelector(`.${$.popup} > .${$.radio} input:first-child`);case"range":return n.querySelector(`.${$.popup} > .${$.range} input`);default:return n.querySelector(`.${$.popup} > .${$.input}`)}},V0=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},M0=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(i):o.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},Me=(n,e)=>{M0(n,e,!0)},Mn=(n,e)=>{M0(n,e,!1)},Di=(n,e)=>{const t=Array.from(n.children);for(let i=0;i<t.length;i++){const o=t[i];if(o instanceof HTMLElement&&Gr(o,e))return o}},Ps=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},bt=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},Kt=n=>{n&&(n.style.display="none")},sm=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{Kl(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},Qv=(n,e,t,i)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,i)},Kl=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?bt(n,t):Kt(n)},un=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),kR=()=>!un(Er())&&!un(Us())&&!un(da()),Yv=n=>n.scrollHeight>n.clientHeight,F0=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},om=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=Dd();t&&un(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},bR=()=>{const n=Dd();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},xR=()=>typeof window>"u"||typeof document>"u",DR=`
 <div aria-labelledby="${$.title}" aria-describedby="${$["html-container"]}" class="${$.popup}" tabindex="-1">
   <button type="button" class="${$.close}"></button>
   <ul class="${$["progress-steps"]}"></ul>
   <div class="${$.icon}"></div>
   <img class="${$.image}" />
   <h2 class="${$.title}" id="${$.title}"></h2>
   <div class="${$["html-container"]}" id="${$["html-container"]}"></div>
   <input class="${$.input}" id="${$.input}" />
   <input type="file" class="${$.file}" />
   <div class="${$.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${$.select}" id="${$.select}"></select>
   <div class="${$.radio}"></div>
   <label class="${$.checkbox}">
     <input type="checkbox" id="${$.checkbox}" />
     <span class="${$.label}"></span>
   </label>
   <textarea class="${$.textarea}" id="${$.textarea}"></textarea>
   <div class="${$["validation-message"]}" id="${$["validation-message"]}"></div>
   <div class="${$.actions}">
     <div class="${$.loader}"></div>
     <button type="button" class="${$.confirm}"></button>
     <button type="button" class="${$.deny}"></button>
     <button type="button" class="${$.cancel}"></button>
   </div>
   <div class="${$.footer}"></div>
   <div class="${$["timer-progress-bar-container"]}">
     <div class="${$["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),NR=()=>{const n=hn();return n?(n.remove(),Mn([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0):!1},_s=()=>{ye.currentInstance.resetValidationMessage()},OR=()=>{const n=je(),e=Di(n,$.input),t=Di(n,$.file),i=n.querySelector(`.${$.range} input`),o=n.querySelector(`.${$.range} output`),l=Di(n,$.select),d=n.querySelector(`.${$.checkbox} input`),f=Di(n,$.textarea);e.oninput=_s,t.onchange=_s,l.onchange=_s,d.onchange=_s,f.oninput=_s,i.oninput=()=>{_s(),o.value=i.value},i.onchange=()=>{_s(),o.value=i.value}},LR=n=>typeof n=="string"?document.querySelector(n):n,VR=n=>{const e=je();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},MR=n=>{window.getComputedStyle(n).direction==="rtl"&&Me(hn(),$.rtl)},FR=n=>{const e=NR();if(xR()){Fs("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=$.container,e&&Me(t,$["no-transition"]),In(t,DR);const i=LR(n.target);i.appendChild(t),VR(n),MR(i),OR()},am=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?UR(n,e):n&&In(e,n)},UR=(n,e)=>{n.jquery?jR(e,n):In(e,n.toString())},jR=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},BR=(n,e)=>{const t=Gl(),i=ha();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Kt(t):bt(t),En(t,e,"actions"),zR(t,i,e),In(i,e.loaderHtml||""),En(i,e,"loader"))};function zR(n,e,t){const i=Er(),o=Us(),l=da();!i||!o||!l||(Pf(i,"confirm",t),Pf(o,"deny",t),Pf(l,"cancel",t),$R(i,o,l,t),t.reverseButtons&&(t.toast?(n.insertBefore(l,i),n.insertBefore(o,i)):(n.insertBefore(l,e),n.insertBefore(o,e),n.insertBefore(i,e))))}function $R(n,e,t,i){if(!i.buttonsStyling){Mn([n,e,t],$.styled);return}Me([n,e,t],$.styled),i.confirmButtonColor&&(n.style.backgroundColor=i.confirmButtonColor,Me(n,$["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,Me(e,$["default-outline"])),i.cancelButtonColor&&(t.style.backgroundColor=i.cancelButtonColor,Me(t,$["default-outline"]))}function Pf(n,e,t){const i=Xp(e);Kl(n,t[`show${i}Button`],"inline-block"),In(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=$[e],En(n,t,`${e}Button`)}const HR=(n,e)=>{const t=nm();t&&(In(t,e.closeButtonHtml||""),En(t,e,"closeButton"),Kl(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},WR=(n,e)=>{const t=hn();t&&(qR(t,e.backdrop),GR(t,e.position),KR(t,e.grow),En(t,e,"container"))};function qR(n,e){typeof e=="string"?n.style.background=e:e||Me([document.documentElement,document.body],$["no-backdrop"])}function GR(n,e){e&&(e in $?Me(n,$[e]):(dn('The "position" parameter is not valid, defaulting to "center"'),Me(n,$.center)))}function KR(n,e){e&&Me(n,$[`grow-${e}`])}var Ye={innerParams:new WeakMap,domCache:new WeakMap};const QR=["input","file","range","select","radio","checkbox","textarea"],YR=(n,e)=>{const t=je();if(!t)return;const i=Ye.innerParams.get(n),o=!i||e.input!==i.input;QR.forEach(l=>{const d=Di(t,$[l]);d&&(ZR(l,e.inputAttributes),d.className=$[l],o&&Kt(d))}),e.input&&(o&&XR(e),ek(e))},XR=n=>{if(!n.input)return;if(!ct[n.input]){Fs(`Unexpected type of input! Expected ${Object.keys(ct).join(" | ")}, got "${n.input}"`);return}const e=U0(n.input);if(!e)return;const t=ct[n.input](e,n);bt(e),n.inputAutoFocus&&setTimeout(()=>{V0(t)})},JR=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},ZR=(n,e)=>{const t=je();if(!t)return;const i=Od(t,n);if(i){JR(i);for(const o in e)i.setAttribute(o,e[o])}},ek=n=>{if(!n.input)return;const e=U0(n.input);e&&En(e,n,"input")},lm=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},Ql=(n,e,t)=>{if(t.inputLabel){const i=document.createElement("label"),o=$["input-label"];i.setAttribute("for",n.id),i.className=o,typeof t.customClass=="object"&&Me(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},U0=n=>{const e=je();if(e)return Di(e,$[n]||$.input)},rd=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:Zp(e)||dn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ct={};ct.text=ct.email=ct.password=ct.number=ct.tel=ct.url=ct.search=ct.date=ct["datetime-local"]=ct.time=ct.week=ct.month=(n,e)=>(rd(n,e.inputValue),Ql(n,n,e),lm(n,e),n.type=e.input,n);ct.file=(n,e)=>(Ql(n,n,e),lm(n,e),n);ct.range=(n,e)=>{const t=n.querySelector("input"),i=n.querySelector("output");return rd(t,e.inputValue),t.type=e.input,rd(i,e.inputValue),Ql(t,n,e),n};ct.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");In(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return Ql(n,n,e),n};ct.radio=n=>(n.textContent="",n);ct.checkbox=(n,e)=>{const t=Od(je(),"checkbox");t.value="1",t.checked=!!e.inputValue;const i=n.querySelector("span");return In(i,e.inputPlaceholder||e.inputLabel),t};ct.textarea=(n,e)=>{rd(n,e.inputValue),lm(n,e),Ql(n,n,e);const t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(je()).width),o=()=>{if(!document.body.contains(n))return;const l=n.offsetWidth+t(n);l>i?je().style.width=`${l}px`:Ps(je(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const tk=(n,e)=>{const t=em();t&&(sm(t),En(t,e,"htmlContainer"),e.html?(am(e.html,t),bt(t,"block")):e.text?(t.textContent=e.text,bt(t,"block")):Kt(t),YR(n,e))},nk=(n,e)=>{const t=L0();t&&(sm(t),Kl(t,e.footer,"block"),e.footer&&am(e.footer,t),En(t,e,"footer"))},rk=(n,e)=>{const t=Ye.innerParams.get(n),i=ca();if(i){if(t&&e.icon===t.icon){Jv(i,e),Xv(i,e);return}if(!e.icon&&!e.iconHtml){Kt(i);return}if(e.icon&&Object.keys(nd).indexOf(e.icon)===-1){Fs(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Kt(i);return}bt(i),Jv(i,e),Xv(i,e),Me(i,e.showClass&&e.showClass.icon)}},Xv=(n,e)=>{for(const[t,i]of Object.entries(nd))e.icon!==t&&Mn(n,i);Me(n,e.icon&&nd[e.icon]),ak(n,e),ik(),En(n,e,"icon")},ik=()=>{const n=je();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},sk=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ok=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Jv=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=Zv(e.iconHtml):e.icon==="success"?(i=sk,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=ok:e.icon&&(i=Zv({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&In(n,i)},ak=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Qv(n,t,"background-color",e.iconColor);Qv(n,".swal2-success-ring","border-color",e.iconColor)}},Zv=n=>`<div class="${$["icon-content"]}">${n}</div>`,lk=(n,e)=>{const t=O0();if(t){if(!e.imageUrl){Kt(t);return}bt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Ps(t,"width",e.imageWidth),Ps(t,"height",e.imageHeight),t.className=$.image,En(t,e,"image")}};let um=!1,j0=0,B0=0,z0=0,$0=0;const uk=n=>{n.addEventListener("mousedown",id),document.body.addEventListener("mousemove",sd),n.addEventListener("mouseup",od),n.addEventListener("touchstart",id),document.body.addEventListener("touchmove",sd),n.addEventListener("touchend",od)},ck=n=>{n.removeEventListener("mousedown",id),document.body.removeEventListener("mousemove",sd),n.removeEventListener("mouseup",od),n.removeEventListener("touchstart",id),document.body.removeEventListener("touchmove",sd),n.removeEventListener("touchend",od)},id=n=>{const e=je();if(n.target===e||ca().contains(n.target)){um=!0;const t=H0(n);j0=t.clientX,B0=t.clientY,z0=parseInt(e.style.insetInlineStart)||0,$0=parseInt(e.style.insetBlockStart)||0,Me(e,"swal2-dragging")}},sd=n=>{const e=je();if(um){let{clientX:t,clientY:i}=H0(n);e.style.insetInlineStart=`${z0+(t-j0)}px`,e.style.insetBlockStart=`${$0+(i-B0)}px`}},od=()=>{const n=je();um=!1,Mn(n,"swal2-dragging")},H0=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},dk=(n,e)=>{const t=hn(),i=je();if(!(!t||!i)){if(e.toast){Ps(t,"width",e.width),i.style.width="100%";const o=ha();o&&i.insertBefore(o,ca())}else Ps(i,"width",e.width);Ps(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),Kt(xd()),hk(i,e),e.draggable&&!e.toast?(Me(i,$.draggable),uk(i)):(Mn(i,$.draggable),ck(i))}},hk=(n,e)=>{const t=e.showClass||{};n.className=`${$.popup} ${un(n)?t.popup:""}`,e.toast?(Me([document.documentElement,document.body],$["toast-shown"]),Me(n,$.toast)):Me(n,$.modal),En(n,e,"popup"),typeof e.customClass=="string"&&Me(n,e.customClass),e.icon&&Me(n,$[`icon-${e.icon}`])},fk=(n,e)=>{const t=tm();if(!t)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){Kt(t);return}bt(t),t.textContent="",o>=i.length&&dn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((l,d)=>{const f=pk(l);if(t.appendChild(f),d===o&&Me(f,$["active-progress-step"]),d!==i.length-1){const p=mk(e);t.appendChild(p)}})},pk=n=>{const e=document.createElement("li");return Me(e,$["progress-step"]),In(e,n),e},mk=n=>{const e=document.createElement("li");return Me(e,$["progress-step-line"]),n.progressStepsDistance&&Ps(e,"width",n.progressStepsDistance),e},gk=(n,e)=>{const t=N0();t&&(sm(t),Kl(t,e.title||e.titleText,"block"),e.title&&am(e.title,t),e.titleText&&(t.innerText=e.titleText),En(t,e,"title"))},W0=(n,e)=>{dk(n,e),WR(n,e),fk(n,e),rk(n,e),lk(n,e),gk(n,e),HR(n,e),tk(n,e),BR(n,e),nk(n,e);const t=je();typeof e.didRender=="function"&&t&&e.didRender(t),ye.eventEmitter.emit("didRender",t)},yk=()=>un(je()),q0=()=>{var n;return(n=Er())===null||n===void 0?void 0:n.click()},vk=()=>{var n;return(n=Us())===null||n===void 0?void 0:n.click()},wk=()=>{var n;return(n=da())===null||n===void 0?void 0:n.click()},fa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),G0=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},_k=(n,e,t)=>{G0(n),e.toast||(n.keydownHandler=i=>Tk(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:je(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Zf=(n,e)=>{var t;const i=rm();if(i.length){n=n+e,n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=je())===null||t===void 0||t.focus()},K0=["ArrowRight","ArrowDown"],Ek=["ArrowLeft","ArrowUp"],Tk=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Ik(e,n):e.key==="Tab"?Sk(e):[...K0,...Ek].includes(e.key)?Ck(e.key):e.key==="Escape"&&Pk(e,n,t)))},Ik=(n,e)=>{if(!bd(e.allowEnterKey))return;const t=Od(je(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;q0(),n.preventDefault()}},Sk=n=>{const e=n.target,t=rm();let i=-1;for(let o=0;o<t.length;o++)if(e===t[o]){i=o;break}n.shiftKey?Zf(i,-1):Zf(i,1),n.stopPropagation(),n.preventDefault()},Ck=n=>{const e=Gl(),t=Er(),i=Us(),o=da();if(!e||!t||!i||!o)return;const l=[t,i,o];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const d=K0.includes(n)?"nextElementSibling":"previousElementSibling";let f=document.activeElement;if(f){for(let p=0;p<e.children.length;p++){if(f=f[d],!f)return;if(f instanceof HTMLButtonElement&&un(f))break}f instanceof HTMLButtonElement&&f.focus()}},Pk=(n,e,t)=>{bd(e.allowEscapeKey)&&(n.preventDefault(),t(fa.esc))};var ea={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ak=()=>{const n=hn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},Q0=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Y0=typeof window<"u"&&!!window.GestureEvent,Rk=()=>{if(Y0&&!Gr(document.body,$.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Me(document.body,$.iosfix),kk()}},kk=()=>{const n=hn();if(!n)return;let e;n.ontouchstart=t=>{e=bk(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},bk=n=>{const e=n.target,t=hn(),i=em();return!t||!i||xk(n)||Dk(n)?!1:e===t||!Yv(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Yv(i)&&i.contains(e))},xk=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",Dk=n=>n.touches&&n.touches.length>1,Nk=()=>{if(Gr(document.body,$.iosfix)){const n=parseInt(document.body.style.top,10);Mn(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},Ok=()=>{const n=document.createElement("div");n.className=$["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Ho=null;const Lk=n=>{Ho===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Ho=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ho+Ok()}px`)},Vk=()=>{Ho!==null&&(document.body.style.paddingRight=`${Ho}px`,Ho=null)};function X0(n,e,t,i){Nd()?ew(n,i):(_R(t).then(()=>ew(n,i)),G0(ye)),Y0?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),im()&&(Vk(),Nk(),Q0()),Mk()}function Mk(){Mn([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function Ni(n){n=Uk(n);const e=ea.swalPromiseResolve.get(this),t=Fk(this);this.isAwaitingPromise?n.isDismissed||(Yl(this),e(n)):t&&e(n)}const Fk=n=>{const e=je();if(!e)return!1;const t=Ye.innerParams.get(n);if(!t||Gr(e,t.hideClass.popup))return!1;Mn(e,t.showClass.popup),Me(e,t.hideClass.popup);const i=hn();return Mn(i,t.showClass.backdrop),Me(i,t.hideClass.backdrop),jk(n,e,t),!0};function J0(n){const e=ea.swalPromiseReject.get(this);Yl(this),e&&e(n)}const Yl=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,Ye.innerParams.get(n)||n._destroy())},Uk=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),jk=(n,e,t)=>{var i;const o=hn(),l=F0(e);typeof t.willClose=="function"&&t.willClose(e),(i=ye.eventEmitter)===null||i===void 0||i.emit("willClose",e),l?Bk(n,e,o,t.returnFocus,t.didClose):X0(n,o,t.returnFocus,t.didClose)},Bk=(n,e,t,i,o)=>{ye.swalCloseEventFinishedCallback=X0.bind(null,n,t,i,o);const l=function(d){if(d.target===e){var f;(f=ye.swalCloseEventFinishedCallback)===null||f===void 0||f.call(ye),delete ye.swalCloseEventFinishedCallback,e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l)}};e.addEventListener("animationend",l),e.addEventListener("transitionend",l)},ew=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=ye.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},ta=n=>{let e=je();if(e||new Ns,e=je(),!e)return;const t=ha();Nd()?Kt(ca()):zk(e,n),bt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},zk=(n,e)=>{const t=Gl(),i=ha();!t||!i||(!e&&un(Er())&&(e=Er()),bt(t),e&&(Kt(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),Me([n,t],$.loading))},$k=(n,e)=>{e.input==="select"||e.input==="radio"?Kk(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Jp(e.inputValue)||Zp(e.inputValue))&&(ta(Er()),Qk(n,e))},Hk=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return Wk(t);case"radio":return qk(t);case"file":return Gk(t);default:return e.inputAutoTrim?t.value.trim():t.value}},Wk=n=>n.checked?1:0,qk=n=>n.checked?n.value:null,Gk=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,Kk=(n,e)=>{const t=je();if(!t)return;const i=o=>{e.input==="select"?Yk(t,ad(o),e):e.input==="radio"&&Xk(t,ad(o),e)};Jp(e.inputOptions)||Zp(e.inputOptions)?(ta(Er()),Wl(e.inputOptions).then(o=>{n.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):Fs(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Qk=(n,e)=>{const t=n.getInput();t&&(Kt(t),Wl(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,bt(t),t.focus(),n.hideLoading()}).catch(i=>{Fs(`Error in inputValue promise: ${i}`),t.value="",bt(t),t.focus(),n.hideLoading()}))};function Yk(n,e,t){const i=Di(n,$.select);if(!i)return;const o=(l,d,f)=>{const p=document.createElement("option");p.value=f,In(p,d),p.selected=Z0(f,t.inputValue),l.appendChild(p)};e.forEach(l=>{const d=l[0],f=l[1];if(Array.isArray(f)){const p=document.createElement("optgroup");p.label=d,p.disabled=!1,i.appendChild(p),f.forEach(y=>o(p,y[1],y[0]))}else o(i,f,d)}),i.focus()}function Xk(n,e,t){const i=Di(n,$.radio);if(!i)return;e.forEach(l=>{const d=l[0],f=l[1],p=document.createElement("input"),y=document.createElement("label");p.type="radio",p.name=$.radio,p.value=d,Z0(d,t.inputValue)&&(p.checked=!0);const _=document.createElement("span");In(_,f),_.className=$.label,y.appendChild(p),y.appendChild(_),i.appendChild(y)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const ad=n=>{const e=[];return n instanceof Map?n.forEach((t,i)=>{let o=t;typeof o=="object"&&(o=ad(o)),e.push([i,o])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=ad(i)),e.push([t,i])}),e},Z0=(n,e)=>!!e&&e.toString()===n.toString(),Jk=n=>{const e=Ye.innerParams.get(n);n.disableButtons(),e.input?eE(n,"confirm"):dm(n,!0)},Zk=n=>{const e=Ye.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?eE(n,"deny"):cm(n,!1)},eb=(n,e)=>{n.disableButtons(),e(fa.cancel)},eE=(n,e)=>{const t=Ye.innerParams.get(n);if(!t.input){Fs(`The "input" parameter is needed to be set when using returnInputValueOn${Xp(e)}`);return}const i=n.getInput(),o=Hk(n,t);t.inputValidator?tb(n,o,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?cm(n,o):dm(n,o)},tb=(n,e,t)=>{const i=Ye.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>Wl(i.inputValidator(e,i.validationMessage))).then(l=>{n.enableButtons(),n.enableInput(),l?n.showValidationMessage(l):t==="deny"?cm(n,e):dm(n,e)})},cm=(n,e)=>{const t=Ye.innerParams.get(n||void 0);t.showLoaderOnDeny&&ta(Us()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>Wl(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),Yl(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>tE(n||void 0,o))):n.close({isDenied:!0,value:e})},tw=(n,e)=>{n.close({isConfirmed:!0,value:e})},tE=(n,e)=>{n.rejectPromise(e)},dm=(n,e)=>{const t=Ye.innerParams.get(n||void 0);t.showLoaderOnConfirm&&ta(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>Wl(t.preConfirm(e,t.validationMessage))).then(o=>{un(xd())||o===!1?(n.hideLoading(),Yl(n)):tw(n,typeof o>"u"?e:o)}).catch(o=>tE(n||void 0,o))):tw(n,e)};function ld(){const n=Ye.innerParams.get(this);if(!n)return;const e=Ye.domCache.get(this);Kt(e.loader),Nd()?n.icon&&bt(ca()):nb(e),Mn([e.popup,e.actions],$.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const nb=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?bt(e[0],"inline-block"):kR()&&Kt(n.actions)};function nE(){const n=Ye.innerParams.get(this),e=Ye.domCache.get(this);return e?Od(e.popup,n.input):null}function rE(n,e,t){const i=Ye.domCache.get(n);e.forEach(o=>{i[o].disabled=t})}function iE(n,e){const t=je();if(!(!t||!n))if(n.type==="radio"){const i=t.querySelectorAll(`[name="${$.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else n.disabled=e}function sE(){rE(this,["confirmButton","denyButton","cancelButton"],!1)}function oE(){rE(this,["confirmButton","denyButton","cancelButton"],!0)}function aE(){iE(this.getInput(),!1)}function lE(){iE(this.getInput(),!0)}function uE(n){const e=Ye.domCache.get(this),t=Ye.innerParams.get(this);In(e.validationMessage,n),e.validationMessage.className=$["validation-message"],t.customClass&&t.customClass.validationMessage&&Me(e.validationMessage,t.customClass.validationMessage),bt(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",$["validation-message"]),V0(i),Me(i,$.inputerror))}function cE(){const n=Ye.domCache.get(this);n.validationMessage&&Kt(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Mn(e,$.inputerror))}const Wo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},rb=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ib={allowEnterKey:void 0},sb=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],dE=n=>Object.prototype.hasOwnProperty.call(Wo,n),hE=n=>rb.indexOf(n)!==-1,fE=n=>ib[n],ob=n=>{dE(n)||dn(`Unknown parameter "${n}"`)},ab=n=>{sb.includes(n)&&dn(`The parameter "${n}" is incompatible with toasts`)},lb=n=>{const e=fE(n);e&&D0(n,e)},ub=n=>{n.backdrop===!1&&n.allowOutsideClick&&dn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in n)ob(e),n.toast&&ab(e),lb(e)};function pE(n){const e=je(),t=Ye.innerParams.get(this);if(!e||Gr(e,t.hideClass.popup)){dn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=cb(n),o=Object.assign({},t,i);W0(this,o),Ye.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const cb=n=>{const e={};return Object.keys(n).forEach(t=>{hE(t)?e[t]=n[t]:dn(`Invalid parameter to update: ${t}`)}),e};function mE(){const n=Ye.domCache.get(this),e=Ye.innerParams.get(this);if(!e){gE(this);return}n.popup&&ye.swalCloseEventFinishedCallback&&(ye.swalCloseEventFinishedCallback(),delete ye.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ye.eventEmitter.emit("didDestroy"),db(this)}const db=n=>{gE(n),delete n.params,delete ye.keydownHandler,delete ye.keydownTarget,delete ye.currentInstance},gE=n=>{n.isAwaitingPromise?(Af(Ye,n),n.isAwaitingPromise=!0):(Af(ea,n),Af(Ye,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Af=(n,e)=>{for(const t in n)n[t].delete(e)};var hb=Object.freeze({__proto__:null,_destroy:mE,close:Ni,closeModal:Ni,closePopup:Ni,closeToast:Ni,disableButtons:oE,disableInput:lE,disableLoading:ld,enableButtons:sE,enableInput:aE,getInput:nE,handleAwaitingPromise:Yl,hideLoading:ld,rejectPromise:J0,resetValidationMessage:cE,showValidationMessage:uE,update:pE});const fb=(n,e,t)=>{n.toast?pb(n,e,t):(gb(e),yb(e),vb(n,e,t))},pb=(n,e,t)=>{e.popup.onclick=()=>{n&&(mb(n)||n.timer||n.input)||t(fa.close)}},mb=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let ud=!1;const gb=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(ud=!0)}}},yb=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(ud=!0)}}},vb=(n,e,t)=>{e.container.onclick=i=>{if(ud){ud=!1;return}i.target===e.container&&bd(n.allowOutsideClick)&&t(fa.backdrop)}},wb=n=>typeof n=="object"&&n.jquery,nw=n=>n instanceof Element||wb(n),_b=n=>{const e={};return typeof n[0]=="object"&&!nw(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{const o=n[i];typeof o=="string"||nw(o)?e[t]=o:o!==void 0&&Fs(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function Eb(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function Tb(n){class e extends this{_main(i,o){return super._main(i,Object.assign({},n,o))}}return e}const Ib=()=>ye.timeout&&ye.timeout.getTimerLeft(),yE=()=>{if(ye.timeout)return bR(),ye.timeout.stop()},vE=()=>{if(ye.timeout){const n=ye.timeout.start();return om(n),n}},Sb=()=>{const n=ye.timeout;return n&&(n.running?yE():vE())},Cb=n=>{if(ye.timeout){const e=ye.timeout.increase(n);return om(e,!0),e}},Pb=()=>!!(ye.timeout&&ye.timeout.isRunning());let rw=!1;const ep={};function Ab(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ep[n]=this,rw||(document.body.addEventListener("click",Rb),rw=!0)}const Rb=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in ep){const i=e.getAttribute(t);if(i){ep[t].fire({template:i});return}}};class kb{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){var i=this;const o=function(){i.removeListener(e,o);for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];t.apply(i,d)};this.on(e,o)}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(l=>{try{l.apply(this,i)}catch(d){console.error(d)}})}removeListener(e,t){const i=this._getHandlersByEventName(e),o=i.indexOf(t);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ye.eventEmitter=new kb;const bb=(n,e)=>{ye.eventEmitter.on(n,e)},xb=(n,e)=>{ye.eventEmitter.once(n,e)},Db=(n,e)=>{if(!n){ye.eventEmitter.reset();return}e?ye.eventEmitter.removeListener(n,e):ye.eventEmitter.removeAllListeners(n)};var Nb=Object.freeze({__proto__:null,argsToParams:_b,bindClickHandler:Ab,clickCancel:wk,clickConfirm:q0,clickDeny:vk,enableLoading:ta,fire:Eb,getActions:Gl,getCancelButton:da,getCloseButton:nm,getConfirmButton:Er,getContainer:hn,getDenyButton:Us,getFocusableElements:rm,getFooter:L0,getHtmlContainer:em,getIcon:ca,getIconContent:SR,getImage:O0,getInputLabel:CR,getLoader:ha,getPopup:je,getProgressSteps:tm,getTimerLeft:Ib,getTimerProgressBar:Dd,getTitle:N0,getValidationMessage:xd,increaseTimer:Cb,isDeprecatedParameter:fE,isLoading:AR,isTimerRunning:Pb,isUpdatableParameter:hE,isValidParameter:dE,isVisible:yk,mixin:Tb,off:Db,on:bb,once:xb,resumeTimer:vE,showLoading:ta,stopTimer:yE,toggleTimer:Sb});class Ob{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const wE=["swal-title","swal-html","swal-footer"],Lb=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return $b(t),Object.assign(Vb(t),Mb(t),Fb(t),Ub(t),jb(t),Bb(t),zb(t,wE))},Vb=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{Ds(i,["name","value"]);const o=i.getAttribute("name"),l=i.getAttribute("value");!o||!l||(typeof Wo[o]=="boolean"?e[o]=l!=="false":typeof Wo[o]=="object"?e[o]=JSON.parse(l):e[o]=l)}),e},Mb=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),l=i.getAttribute("value");!o||!l||(e[o]=new Function(`return ${l}`)())}),e},Fb=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{Ds(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${Xp(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},Ub=n=>{const e={},t=n.querySelector("swal-image");return t&&(Ds(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},jb=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Ds(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},Bb=n=>{const e={},t=n.querySelector("swal-input");t&&(Ds(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Ds(o,["value"]);const l=o.getAttribute("value");if(!l)return;const d=o.innerHTML;e.inputOptions[l]=d})),e},zb=(n,e)=>{const t={};for(const i in e){const o=e[i],l=n.querySelector(o);l&&(Ds(l,[]),t[o.replace(/^swal-/,"")]=l.innerHTML.trim())}return t},$b=n=>{const e=wE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const i=t.tagName.toLowerCase();e.includes(i)||dn(`Unrecognized element <${i}>`)})},Ds=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&dn([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},_E=10,Hb=n=>{const e=hn(),t=je();typeof n.willOpen=="function"&&n.willOpen(t),ye.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;Gb(e,t,n),setTimeout(()=>{Wb(e,t)},_E),im()&&(qb(e,n.scrollbarPadding,o),Ak()),!Nd()&&!ye.previousActiveElement&&(ye.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),ye.eventEmitter.emit("didOpen",t),Mn(e,$["no-transition"])},cd=n=>{const e=je();if(n.target!==e)return;const t=hn();e.removeEventListener("animationend",cd),e.removeEventListener("transitionend",cd),t.style.overflowY="auto"},Wb=(n,e)=>{F0(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",cd),e.addEventListener("transitionend",cd)):n.style.overflowY="auto"},qb=(n,e,t)=>{Rk(),e&&t!=="hidden"&&Lk(t),setTimeout(()=>{n.scrollTop=0})},Gb=(n,e,t)=>{Me(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),bt(e,"grid"),setTimeout(()=>{Me(e,t.showClass.popup),e.style.removeProperty("opacity")},_E)):bt(e,"grid"),Me([document.documentElement,document.body],$.shown),t.heightAuto&&t.backdrop&&!t.toast&&Me([document.documentElement,document.body],$["height-auto"])};var iw={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Kb(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=iw.email),n.input==="url"&&(n.inputValidator=iw.url))}function Qb(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(dn('Target parameter is not valid, defaulting to "body"'),n.target="body")}function Yb(n){Kb(n),n.showLoaderOnConfirm&&!n.preConfirm&&dn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Qb(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),FR(n)}let mr;var Tc=new WeakMap;class ht{constructor(){if(gR(this,Tc,void 0),typeof window>"u")return;mr=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const o=Object.freeze(this.constructor.argsToParams(t));this.params=o,this.isAwaitingPromise=!1,yR(Tc,this,this._main(mr.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ub(Object.assign({},t,e)),ye.currentInstance){const l=ea.swalPromiseResolve.get(ye.currentInstance),{isAwaitingPromise:d}=ye.currentInstance;ye.currentInstance._destroy(),d||l({isDismissed:!0}),im()&&Q0()}ye.currentInstance=mr;const i=Jb(e,t);Yb(i),Object.freeze(i),ye.timeout&&(ye.timeout.stop(),delete ye.timeout),clearTimeout(ye.restoreFocusTimeout);const o=Zb(mr);return W0(mr,i),Ye.innerParams.set(mr,i),Xb(mr,o,i)}then(e){return Gv(Tc,this).then(e)}finally(e){return Gv(Tc,this).finally(e)}}const Xb=(n,e,t)=>new Promise((i,o)=>{const l=d=>{n.close({isDismissed:!0,dismiss:d})};ea.swalPromiseResolve.set(n,i),ea.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{Jk(n)},e.denyButton.onclick=()=>{Zk(n)},e.cancelButton.onclick=()=>{eb(n,l)},e.closeButton.onclick=()=>{l(fa.close)},fb(t,e,l),_k(ye,t,l),$k(n,t),Hb(t),ex(ye,t,l),tx(e,t),setTimeout(()=>{e.container.scrollTop=0})}),Jb=(n,e)=>{const t=Lb(n),i=Object.assign({},Wo,e,t,n);return i.showClass=Object.assign({},Wo.showClass,i.showClass),i.hideClass=Object.assign({},Wo.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},Zb=n=>{const e={popup:je(),container:hn(),actions:Gl(),confirmButton:Er(),denyButton:Us(),cancelButton:da(),loader:ha(),closeButton:nm(),validationMessage:xd(),progressSteps:tm()};return Ye.domCache.set(n,e),e},ex=(n,e,t)=>{const i=Dd();Kt(i),e.timer&&(n.timeout=new Ob(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(bt(i),En(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&om(e.timer)})))},tx=(n,e)=>{if(!e.toast){if(!bd(e.allowEnterKey)){D0("allowEnterKey"),ix();return}nx(n)||rx(n,e)||Zf(-1,1)}},nx=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&un(t))return t.focus(),!0;return!1},rx=(n,e)=>e.focusDeny&&un(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&un(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&un(n.confirmButton)?(n.confirmButton.focus(),!0):!1,ix=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}ht.prototype.disableButtons=oE;ht.prototype.enableButtons=sE;ht.prototype.getInput=nE;ht.prototype.disableInput=lE;ht.prototype.enableInput=aE;ht.prototype.hideLoading=ld;ht.prototype.disableLoading=ld;ht.prototype.showValidationMessage=uE;ht.prototype.resetValidationMessage=cE;ht.prototype.close=Ni;ht.prototype.closePopup=Ni;ht.prototype.closeModal=Ni;ht.prototype.closeToast=Ni;ht.prototype.rejectPromise=J0;ht.prototype.update=pE;ht.prototype._destroy=mE;Object.assign(ht,Nb);Object.keys(hb).forEach(n=>{ht[n]=function(){return mr&&mr[n]?mr[n](...arguments):null}});ht.DismissReason=fa;ht.version="11.15.2";const Ns=ht;Ns.default=Ns;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');const sx=async(n,e)=>{const i=(await QA(ua,n,e)).user;return await Fp(Kc(td,"users",i.uid),{email:i.email,createdAt:new Date}),await m0(i),i},ox=async(n,e)=>(await YA(ua,n,e)).user,ax=async n=>{await m0(n)},lx=async()=>{const n=new Br,t=(await _2(ua,n)).user,i=Kc(td,"users",t.uid);return await Fp(i,{email:t.email,name:t.displayName,photoURL:t.photoURL,createdAt:new Date},{merge:!0}),t},As=n=>{Ns.fire({icon:"error",title:"Error",text:cx(n)})},na=n=>{Ns.fire({icon:"success",title:"Éxito",text:n})},ux=n=>{Ns.fire({icon:"info",title:"Información",text:n})},EE=n=>{Ns.fire({icon:"info",title:"Verificación necesaria",text:"Debes verificar tu correo electrónico.",footer:'<a href="#" id="send-verification-link">Enviar correo de verificación nuevamente</a>',didRender:()=>{document.querySelector("#send-verification-link").addEventListener("click",async t=>{t.preventDefault();try{await ax(n),na("Se ha enviado un nuevo correo de verificación.")}catch(i){As(i.message)}})}})},sw={"auth/email-already-in-use":"Este correo ya está registrado. Por favor, usa otro correo o inicia sesión.","auth/invalid-email":"El correo electrónico no es válido. Verifícalo e inténtalo de nuevo.","auth/operation-not-allowed":"La operación no está permitida. Contacta al soporte para más información.","auth/weak-password":"La contraseña es demasiado débil. Usa una combinación de letras, números y símbolos.","auth/user-disabled":"La cuenta de usuario ha sido deshabilitada. Contacta al soporte para más información.","auth/user-not-found":"No se encontró un usuario con este correo electrónico. Verifica e inténtalo de nuevo.","auth/wrong-password":"La contraseña es incorrecta. Verifica e inténtalo de nuevo.","auth/account-exists-with-different-credential":"Ya existe una cuenta con estas credenciales. Intenta iniciar sesión con otro método.","auth/invalid-credential":"Las credenciales proporcionadas no son válidas. Verifica e inténtalo de nuevo.","auth/invalid-verification-code":"El código de verificación no es válido. Verifica e inténtalo de nuevo.","auth/invalid-verification-id":"El ID de verificación no es válido. Verifica e inténtalo de nuevo.","auth/credential-already-in-use":"Estas credenciales ya están en uso. Por favor, usa otras credenciales.","auth/timeout":"La operación ha expirado. Por favor, inténtalo de nuevo.","auth/too-many-requests":"Se han realizado demasiados intentos. Por favor, espera un momento e inténtalo de nuevo.","auth/popup-closed-by-user":"El popup fue cerrado antes de completar la operación. Inténtalo de nuevo.","auth/popup-blocked":"El popup fue bloqueado por el navegador. Permite los popups e inténtalo de nuevo.","auth/unauthorized-domain":"El dominio no está autorizado para realizar esta operación.","auth/network-request-failed":"La solicitud de red falló. Por favor, verifica tu conexión e inténtalo de nuevo.","auth/requires-recent-login":"Esta operación requiere que hayas iniciado sesión recientemente. Por favor, inicia sesión de nuevo e inténtalo.","auth/missing-email":"El correo electrónico es obligatorio. Proporciónalo e inténtalo de nuevo.","auth/missing-password":"La contraseña es obligatoria. Proporciónala e inténtalo de nuevo.","auth/quota-exceeded":"Se ha excedido la cuota. Inténtalo de nuevo más tarde."},cx=n=>{const e=Object.keys(sw).find(t=>n.includes(t));return sw[e]||`Ocurrió un error. Por favor, intenta de nuevo. (${n})`},dx=()=>{const{currentUser:n}=Yp(),[e,t]=q.useState(null),[i,o]=q.useState(!1);q.useEffect(()=>{n&&(async()=>{try{const f=Kc(td,"formularios",n.uid),p=await qP(f);p.exists()?t(p.data()):(console.log("No se encontraron datos previos."),t({}))}catch(f){console.error("Error al obtener los datos:",f)}})()},[n]);const l=async d=>{d.preventDefault(),o(!0);const f=new FormData(d.target),p={userId:n.uid,inst_institucion:f.get("inst_institucion"),inst_cuit:f.get("inst_cuit"),inst_domicilio:f.get("inst_domicilio"),inst_localidad:f.get("inst_localidad"),inst_cp:f.get("inst_cp"),inst_telefono:f.get("inst_telefono"),inst_mail:f.get("inst_mail"),coord_nombre:f.get("coord_nombre"),coord_dni:f.get("coord_dni"),coord_registro:f.get("coord_registro"),coord_telefono:f.get("coord_telefono"),coord_mail:f.get("coord_mail"),coord_horario:f.get("coord_horario")};console.log(p);try{const y=Kc(td,"formularios",n.uid);await Fp(y,p,{merge:!0}),na("Datos actualizados exitosamente.")}catch(y){As(y.message)}finally{o(!1)}};return e?H.jsxs("form",{className:"Form",id:"myForm",action:"",onSubmit:l,children:[H.jsx("p",{children:"*Se debe presentar 1 (un) formulario por cada proyecto solicitado."}),H.jsx("p",{children:"La institución deberá tener vigente su inscripción al SIPAF al momento de la presentación del proyecto"}),H.jsxs("section",{children:[H.jsx("h2",{children:"1. INSTITUCIÓN(ES) QUE PRESENTA(N) LA PROPUESTA:"}),H.jsxs("fieldset",{children:[H.jsx(_n,{label:"INSTITUCIÓN:",name:"inst_institucion",defaultValue:e.inst_institucion||""}),H.jsx(_n,{label:"CUIT:",name:"inst_cuit",defaultValue:e.inst_cuit||""}),H.jsx(_n,{label:"DOMICILIO:",name:"inst_domicilio",defaultValue:e.inst_domicilio||""}),H.jsx(_n,{label:"LOCALIDAD:",name:"inst_localidad",defaultValue:e.inst_localidad||""}),H.jsx(_n,{label:"CP:",name:"inst_cp",defaultValue:e.inst_cp||""}),H.jsx(_n,{label:"TELÉFONO:",name:"inst_telefono",defaultValue:e.inst_telefono||""}),H.jsx(_n,{label:"MAIL INSTITUCIONAL:",name:"inst_mail",defaultValue:e.inst_mail||""})]}),H.jsxs("fieldset",{children:[H.jsx("h2",{children:"2. COORDINADOR/A DEL PROYECTO (Nexo con la Dirección de Capacitación y Formación Laboral):"}),H.jsx(_n,{label:"NOMBRE COMPLETO:",name:"coord_nombre",defaultValue:e.coord_nombre||""}),H.jsx(_n,{label:"DNI:",name:"coord_dni",defaultValue:e.coord_dni||""}),H.jsx(_n,{label:"N° DE REGISTRO:",name:"coord_registro",defaultValue:e.coord_registro||""}),H.jsx(_n,{label:"TELÉFONO:",name:"coord_telefono",defaultValue:e.coord_telefono||""}),H.jsx(_n,{label:"MAIL:",name:"coord_mail",defaultValue:e.coord_mail||""}),H.jsx(_n,{label:"HORARIO:",name:"coord_horario",defaultValue:e.coord_horario||""}),H.jsx("div",{className:"form-group",children:H.jsx("label",{children:"Descripción de su función en la Institución que presenta:"})}),H.jsx("div",{className:"form-group",children:H.jsx("input",{type:"text",id:"coord_descripcion"})})]}),H.jsxs("fieldset",{children:[H.jsx("h2",{children:"3. ¿Ha trabajado con programas de empleo y capacitación de la provincia?"}),H.jsx("div",{className:"form-group",children:H.jsxs("label",{className:"label_checkbox",children:[H.jsx("input",{type:"radio",name:"programas_empleo",value:"si"}),"Sí"]})}),H.jsx("div",{className:"form-group",children:H.jsxs("label",{className:"label_checkbox",children:[H.jsx("input",{type:"radio",name:"programas_empleo",value:"no"}),"No"]})}),H.jsx("div",{className:"form-group",children:H.jsx("p",{children:"¿Cuáles?"})}),H.jsx("div",{className:"form-group",children:H.jsxs("label",{className:"label_checkbox",children:[H.jsx("input",{type:"checkbox",name:"programas[]",value:"Redes / Santa Fe Capacita"}),"Redes / Santa Fe Capacita"]})}),H.jsx("div",{className:"form-group",children:H.jsxs("label",{className:"label_checkbox",children:[H.jsx("input",{type:"checkbox",name:"programas[]",value:"Nexo Oportunidad / Prácticas Laborales"}),"Nexo Oportunidad / Prácticas Laborales"]})}),H.jsx("div",{className:"form-group",children:H.jsxs("label",{className:"label_checkbox",children:[H.jsx("input",{type:"checkbox",name:"programas[]",value:"Mi Primer Empleo"}),"Mi Primer Empleo"]})}),H.jsx("div",{className:"form-group",children:H.jsxs("label",{className:"label_checkbox",children:[H.jsx("input",{type:"checkbox",name:"programas[]",value:"Nueva Oportunidad / Santa Fe Más"}),"Nueva Oportunidad / Santa Fe Más"]})})]}),H.jsxs("fieldset",{children:[H.jsx("h2",{children:"4. Describir brevemente qué actividades realizan en la institución y qué se aportará para el desarrollo de la propuesta (Ejemplo: Instalaciones, Maquinarias). Acompañar fotos de las instalaciones:"}),H.jsx("div",{className:"form-group",children:H.jsx("textarea",{rows:"3",name:"",id:""})})]})]}),H.jsx("button",{className:"button no-print",type:"submit",disabled:i,children:i?"Enviando...":"Enviar y Actualizar Datos"}),H.jsx("button",{className:"button no-print",type:"button",onClick:()=>window.print(),children:"Imprimir Formulario"})]}):H.jsx("p",{children:"Cargando datos del formulario..."})};var dl={},ow;function hx(){if(ow)return dl;ow=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.parse=d,dl.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const P=function(){};return P.prototype=Object.create(null),P})();function d(P,D){const M=new l,W=P.length;if(W<2)return M;const j=(D==null?void 0:D.decode)||_;let K=0;do{const X=P.indexOf("=",K);if(X===-1)break;const ie=P.indexOf(";",K),he=ie===-1?W:ie;if(X>he){K=P.lastIndexOf(";",X-1)+1;continue}const Pe=f(P,K,X),Se=p(P,X,Pe),b=P.slice(Pe,Se);if(M[b]===void 0){let T=f(P,X+1,he),C=p(P,he,T);const k=j(P.slice(T,C));M[b]=k}K=he+1}while(K<W);return M}function f(P,D,M){do{const W=P.charCodeAt(D);if(W!==32&&W!==9)return D}while(++D<M);return M}function p(P,D,M){for(;D>M;){const W=P.charCodeAt(--D);if(W!==32&&W!==9)return D+1}return M}function y(P,D,M){const W=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(P))throw new TypeError(`argument name is invalid: ${P}`);const j=W(D);if(!e.test(j))throw new TypeError(`argument val is invalid: ${D}`);let K=P+"="+j;if(!M)return K;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);K+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);K+="; Domain="+M.domain}if(M.path){if(!i.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);K+="; Path="+M.path}if(M.expires){if(!I(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);K+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(K+="; HttpOnly"),M.secure&&(K+="; Secure"),M.partitioned&&(K+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return K}function _(P){if(P.indexOf("%")===-1)return P;try{return decodeURIComponent(P)}catch{return P}}function I(P){return o.call(P)==="[object Date]"}return dl}hx();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aw="popstate";function fx(n={}){function e(o,l){let{pathname:d="/",search:f="",hash:p=""}=js(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),tp("",{pathname:d,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let d=o.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");f=y===-1?p:p.slice(0,y)}return f+"#"+(typeof l=="string"?l:Ol(l))}function i(o,l){Fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return mx(e,t,i,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function px(){return Math.random().toString(36).substring(2,10)}function lw(n,e){return{usr:n.state,key:n.key,idx:e}}function tp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?js(e):e,state:t,key:e&&e.key||i||px()}}function Ol({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function js(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function mx(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,d=o.history,f="POP",p=null,y=_();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function _(){return(d.state||{idx:null}).idx}function I(){f="POP";let j=_(),K=j==null?null:j-y;y=j,p&&p({action:f,location:W.location,delta:K})}function P(j,K){f="PUSH";let X=tp(W.location,j,K);t&&t(X,j),y=_()+1;let ie=lw(X,y),he=W.createHref(X);try{d.pushState(ie,"",he)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;o.location.assign(he)}l&&p&&p({action:f,location:W.location,delta:1})}function D(j,K){f="REPLACE";let X=tp(W.location,j,K);t&&t(X,j),y=_();let ie=lw(X,y),he=W.createHref(X);d.replaceState(ie,"",he),l&&p&&p({action:f,location:W.location,delta:0})}function M(j){let K=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof j=="string"?j:Ol(j);return X=X.replace(/ $/,"%20"),tt(K,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,K)}let W={get action(){return f},get location(){return n(o,d)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(aw,I),p=j,()=>{o.removeEventListener(aw,I),p=null}},createHref(j){return e(o,j)},createURL:M,encodeLocation(j){let K=M(j);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:P,replace:D,go(j){return d.go(j)}};return W}function TE(n,e,t="/"){return gx(n,e,t,!1)}function gx(n,e,t,i){let o=typeof e=="string"?js(e):e,l=$i(o.pathname||"/",t);if(l==null)return null;let d=IE(n);yx(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let y=Rx(l);f=Px(d[p],y,i)}return f}function IE(n,e=[],t=[],i=""){let o=(l,d,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Kr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),IE(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:Sx(y,l.index),routesMeta:_})};return n.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,d);else for(let p of SE(l.path))o(l,d,p)}),e}function SE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let d=SE(i.join("/")),f=[];return f.push(...d.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...d),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function yx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Cx(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var vx=/^:[\w-]+$/,wx=3,_x=2,Ex=1,Tx=10,Ix=-2,uw=n=>n==="*";function Sx(n,e){let t=n.split("/"),i=t.length;return t.some(uw)&&(i+=Ix),e&&(i+=_x),t.filter(o=>!uw(o)).reduce((o,l)=>o+(vx.test(l)?wx:l===""?Ex:Tx),i)}function Cx(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function Px(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",d=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",I=dd({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),P=p.route;if(!I&&y&&t&&!i[i.length-1].route.index&&(I=dd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!I)return null;Object.assign(o,I.params),d.push({params:o,pathname:Kr([l,I.pathname]),pathnameBase:Dx(Kr([l,I.pathnameBase])),route:P}),I.pathnameBase!=="/"&&(l=Kr([l,I.pathnameBase]))}return d}function dd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Ax(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:I},P)=>{if(_==="*"){let M=f[P]||"";d=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const D=f[P];return I&&!D?y[_]=void 0:y[_]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:d,pattern:n}}function Ax(n,e=!1,t=!0){Fn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Rx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $i(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function kx(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?js(n):n;return{pathname:t?t.startsWith("/")?t:bx(t,e):e,search:Nx(i),hash:Ox(o)}}function bx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Rf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hm(n){let e=xx(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function fm(n,e,t,i=!1){let o;typeof n=="string"?o=js(n):(o={...n},tt(!o.pathname||!o.pathname.includes("?"),Rf("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Rf("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Rf("#","search","hash",o)));let l=n===""||o.pathname==="",d=l?"/":o.pathname,f;if(d==null)f=t;else{let I=e.length-1;if(!i&&d.startsWith("..")){let P=d.split("/");for(;P[0]==="..";)P.shift(),I-=1;o.pathname=P.join("/")}f=I>=0?e[I]:"/"}let p=kx(o,f),y=d&&d!=="/"&&d.endsWith("/"),_=(l||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Kr=n=>n.join("/").replace(/\/\/+/g,"/"),Dx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Nx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ox=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Lx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var CE=["POST","PUT","PATCH","DELETE"];new Set(CE);var Vx=["GET",...CE];new Set(Vx);var pa=q.createContext(null);pa.displayName="DataRouter";var Ld=q.createContext(null);Ld.displayName="DataRouterState";var PE=q.createContext({isTransitioning:!1});PE.displayName="ViewTransition";var Mx=q.createContext(new Map);Mx.displayName="Fetchers";var Fx=q.createContext(null);Fx.displayName="Await";var rr=q.createContext(null);rr.displayName="Navigation";var Xl=q.createContext(null);Xl.displayName="Location";var Tr=q.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var pm=q.createContext(null);pm.displayName="RouteError";function Ux(n,{relative:e}={}){tt(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=q.useContext(rr),{hash:o,pathname:l,search:d}=Zl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Kr([t,l])),i.createHref({pathname:f,search:d,hash:o})}function ma(){return q.useContext(Xl)!=null}function Wi(){return tt(ma(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Xl).location}var AE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(n){q.useContext(rr).static||q.useLayoutEffect(n)}function Jl(){let{isDataRoute:n}=q.useContext(Tr);return n?Jx():jx()}function jx(){tt(ma(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(pa),{basename:e,navigator:t}=q.useContext(rr),{matches:i}=q.useContext(Tr),{pathname:o}=Wi(),l=JSON.stringify(hm(i)),d=q.useRef(!1);return RE(()=>{d.current=!0}),q.useCallback((p,y={})=>{if(Fn(d.current,AE),!d.current)return;if(typeof p=="number"){t.go(p);return}let _=fm(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Kr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}q.createContext(null);function Zl(n,{relative:e}={}){let{matches:t}=q.useContext(Tr),{pathname:i}=Wi(),o=JSON.stringify(hm(t));return q.useMemo(()=>fm(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function Bx(n,e){return kE(n,e)}function kE(n,e,t,i){var K;tt(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(rr),{matches:l}=q.useContext(Tr),d=l[l.length-1],f=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let X=_&&_.path||"";bE(p,!_||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let I=Wi(),P;if(e){let X=typeof e=="string"?js(e):e;tt(y==="/"||((K=X.pathname)==null?void 0:K.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${X.pathname}" was given in the \`location\` prop.`),P=X}else P=I;let D=P.pathname||"/",M=D;if(y!=="/"){let X=y.replace(/^\//,"").split("/");M="/"+D.replace(/^\//,"").split("/").slice(X.length).join("/")}let W=TE(n,{pathname:M});Fn(_||W!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Fn(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=qx(W&&W.map(X=>Object.assign({},X,{params:Object.assign({},f,X.params),pathname:Kr([y,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?y:Kr([y,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),l,t,i);return e&&j?q.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},j):j}function zx(){let n=Xx(),e=Lx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:l},"ErrorBoundary")," or"," ",q.createElement("code",{style:l},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:o},t):null,d)}var $x=q.createElement(zx,null),Hx=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(Tr.Provider,{value:this.props.routeContext},q.createElement(pm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wx({routeContext:n,match:e,children:t}){let i=q.useContext(pa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Tr.Provider,{value:n},t)}function qx(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:I}=t,P=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||P){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let I,P=!1,D=null,M=null;t&&(I=l&&y.route.id?l[y.route.id]:void 0,D=y.route.errorElement||$x,d&&(f<0&&_===0?(bE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,M=null):f===_&&(P=!0,M=y.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,_+1)),j=()=>{let K;return I?K=D:P?K=M:y.route.Component?K=q.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=p,q.createElement(Wx,{match:y,routeContext:{outlet:p,matches:W,isDataRoute:t!=null},children:K})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?q.createElement(Hx,{location:t.location,revalidation:t.revalidation,component:D,error:I,children:j(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):j()},null)}function mm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gx(n){let e=q.useContext(pa);return tt(e,mm(n)),e}function Kx(n){let e=q.useContext(Ld);return tt(e,mm(n)),e}function Qx(n){let e=q.useContext(Tr);return tt(e,mm(n)),e}function gm(n){let e=Qx(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Yx(){return gm("useRouteId")}function Xx(){var i;let n=q.useContext(pm),e=Kx("useRouteError"),t=gm("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Jx(){let{router:n}=Gx("useNavigate"),e=gm("useNavigate"),t=q.useRef(!1);return RE(()=>{t.current=!0}),q.useCallback(async(o,l={})=>{Fn(t.current,AE),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var cw={};function bE(n,e,t){!e&&!cw[n]&&(cw[n]=!0,Fn(!1,t))}q.memo(Zx);function Zx({routes:n,future:e,state:t}){return kE(n,void 0,t,e)}function dw({to:n,replace:e,state:t,relative:i}){tt(ma(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(rr);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=q.useContext(Tr),{pathname:d}=Wi(),f=Jl(),p=fm(n,hm(l),d,i==="path"),y=JSON.stringify(p);return q.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:i})},[f,y,i,e,t]),null}function Uo(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eD({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){tt(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof t=="string"&&(t=js(t));let{pathname:p="/",search:y="",hash:_="",state:I=null,key:P="default"}=t,D=q.useMemo(()=>{let M=$i(p,d);return M==null?null:{location:{pathname:M,search:y,hash:_,state:I,key:P},navigationType:i}},[d,p,y,_,I,P,i]);return Fn(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:q.createElement(rr.Provider,{value:f},q.createElement(Xl.Provider,{children:e,value:D}))}function tD({children:n,location:e}){return Bx(np(n),e)}function np(n,e=[]){let t=[];return q.Children.forEach(n,(i,o)=>{if(!q.isValidElement(i))return;let l=[...e,o];if(i.type===q.Fragment){t.push.apply(t,np(i.props.children,l));return}tt(i.type===Uo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=np(i.props.children,l)),t.push(d)}),t}var Nc="get",Oc="application/x-www-form-urlencoded";function Vd(n){return n!=null&&typeof n.tagName=="string"}function nD(n){return Vd(n)&&n.tagName.toLowerCase()==="button"}function rD(n){return Vd(n)&&n.tagName.toLowerCase()==="form"}function iD(n){return Vd(n)&&n.tagName.toLowerCase()==="input"}function sD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oD(n,e){return n.button===0&&(!e||e==="_self")&&!sD(n)}var Ic=null;function aD(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch{Ic=!0}return Ic}var lD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kf(n){return n!=null&&!lD.has(n)?(Fn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oc}"`),null):n}function uD(n,e){let t,i,o,l,d;if(rD(n)){let f=n.getAttribute("action");i=f?$i(f,e):null,t=n.getAttribute("method")||Nc,o=kf(n.getAttribute("enctype"))||Oc,l=new FormData(n)}else if(nD(n)||iD(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?$i(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Nc,o=kf(n.getAttribute("formenctype"))||kf(f.getAttribute("enctype"))||Oc,l=new FormData(f,n),!aD()){let{name:y,type:_,value:I}=n;if(_==="image"){let P=y?`${y}.`:"";l.append(`${P}x`,"0"),l.append(`${P}y`,"0")}else y&&l.append(y,I)}}else{if(Vd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nc,i=null,o=Oc,d=n}return l&&o==="text/plain"&&(d=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:d}}function ym(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function cD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function hD(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await cD(l,t);return d.links?d.links():[]}return[]}));return gD(i.flat(1).filter(dD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function hw(n,e,t,i,o,l){let d=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>d(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var I;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(d(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let P=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function fD(n,e){return pD(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function pD(n){return[...new Set(n)]}function mD(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function gD(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(mD(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function yD(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vD(){let n=q.useContext(pa);return ym(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function wD(){let n=q.useContext(Ld);return ym(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vm=q.createContext(void 0);vm.displayName="FrameworkContext";function xE(){let n=q.useContext(vm);return ym(n,"You must render this element inside a <HydratedRouter> element"),n}function _D(n,e){let t=q.useContext(vm),[i,o]=q.useState(!1),[l,d]=q.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:I}=e,P=q.useRef(null);q.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let W=K=>{K.forEach(X=>{d(X.isIntersecting)})},j=new IntersectionObserver(W,{threshold:.5});return P.current&&j.observe(P.current),()=>{j.disconnect()}}},[n]),q.useEffect(()=>{if(i){let W=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(W)}}},[i]);let D=()=>{o(!0)},M=()=>{o(!1),d(!1)};return t?n!=="intent"?[l,P,{}]:[l,P,{onFocus:hl(f,D),onBlur:hl(p,M),onMouseEnter:hl(y,D),onMouseLeave:hl(_,M),onTouchStart:hl(I,D)}]:[!1,P,{}]}function hl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ED({page:n,...e}){let{router:t}=vD(),i=q.useMemo(()=>TE(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?q.createElement(ID,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function TD(n){let{manifest:e,routeModules:t}=xE(),[i,o]=q.useState([]);return q.useEffect(()=>{let l=!1;return hD(n,e,t).then(d=>{l||o(d)}),()=>{l=!0}},[n,e,t]),i}function ID({page:n,matches:e,...t}){let i=Wi(),{manifest:o,routeModules:l}=xE(),{loaderData:d,matches:f}=wD(),p=q.useMemo(()=>hw(n,e,f,o,i,"data"),[n,e,f,o,i]),y=q.useMemo(()=>hw(n,e,f,o,i,"assets"),[n,e,f,o,i]),_=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let D=new Set,M=!1;if(e.forEach(j=>{var X;let K=o.routes[j.route.id];!K||!K.hasLoader||(!p.some(ie=>ie.route.id===j.route.id)&&j.route.id in d&&((X=l[j.route.id])!=null&&X.shouldRevalidate)||K.hasClientLoader?M=!0:D.add(j.route.id))}),D.size===0)return[];let W=yD(n);return M&&D.size>0&&W.searchParams.set("_routes",e.filter(j=>D.has(j.route.id)).map(j=>j.route.id).join(",")),[W.pathname+W.search]},[d,i,o,p,e,n,l]),I=q.useMemo(()=>fD(y,o),[y,o]),P=TD(y);return q.createElement(q.Fragment,null,_.map(D=>q.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),I.map(D=>q.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),P.map(({key:D,link:M})=>q.createElement("link",{key:D,...M})))}function SD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DE&&(window.__reactRouterVersion="7.0.2")}catch{}function CD({basename:n,children:e,window:t}){let i=q.useRef();i.current==null&&(i.current=fx({window:t,v5Compat:!0}));let o=i.current,[l,d]=q.useState({action:o.action,location:o.location}),f=q.useCallback(p=>{q.startTransition(()=>d(p))},[d]);return q.useLayoutEffect(()=>o.listen(f),[o,f]),q.createElement(eD,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var NE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OE=q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:d,state:f,target:p,to:y,preventScrollReset:_,viewTransition:I,...P},D){let{basename:M}=q.useContext(rr),W=typeof y=="string"&&NE.test(y),j,K=!1;if(typeof y=="string"&&W&&(j=y,DE))try{let C=new URL(window.location.href),k=y.startsWith("//")?new URL(C.protocol+y):new URL(y),N=$i(k.pathname,M);k.origin===C.origin&&N!=null?y=N+k.search+k.hash:K=!0}catch{Fn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=Ux(y,{relative:o}),[ie,he,Pe]=_D(i,P),Se=RD(y,{replace:d,state:f,target:p,preventScrollReset:_,relative:o,viewTransition:I});function b(C){e&&e(C),C.defaultPrevented||Se(C)}let T=q.createElement("a",{...P,...Pe,href:j||X,onClick:K||l?e:b,ref:SD(D,he),target:p,"data-discover":!W&&t==="render"?"true":void 0});return ie&&!W?q.createElement(q.Fragment,null,T,q.createElement(ED,{page:X})):T});OE.displayName="Link";var Lc=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:d,viewTransition:f,children:p,...y},_){let I=Zl(d,{relative:y.relative}),P=Wi(),D=q.useContext(Ld),{navigator:M,basename:W}=q.useContext(rr),j=D!=null&&ND(I)&&f===!0,K=M.encodeLocation?M.encodeLocation(I).pathname:I.pathname,X=P.pathname,ie=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(X=X.toLowerCase(),ie=ie?ie.toLowerCase():null,K=K.toLowerCase()),ie&&W&&(ie=$i(ie,W)||ie);const he=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let Pe=X===K||!o&&X.startsWith(K)&&X.charAt(he)==="/",Se=ie!=null&&(ie===K||!o&&ie.startsWith(K)&&ie.charAt(K.length)==="/"),b={isActive:Pe,isPending:Se,isTransitioning:j},T=Pe?e:void 0,C;typeof i=="function"?C=i(b):C=[i,Pe?"active":null,Se?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(b):l;return q.createElement(OE,{...y,"aria-current":T,className:C,ref:_,style:k,to:d,viewTransition:f},typeof p=="function"?p(b):p)});Lc.displayName="NavLink";var PD=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:d=Nc,action:f,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:I,...P},D)=>{let M=xD(),W=DD(f,{relative:y}),j=d.toLowerCase()==="get"?"get":"post",K=typeof f=="string"&&NE.test(f),X=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let he=ie.nativeEvent.submitter,Pe=(he==null?void 0:he.getAttribute("formmethod"))||d;M(he||ie.currentTarget,{fetcherKey:e,method:Pe,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:I})};return q.createElement("form",{ref:D,method:j,action:W,onSubmit:i?p:X,...P,"data-discover":!K&&n==="render"?"true":void 0})});PD.displayName="Form";function AD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LE(n){let e=q.useContext(pa);return tt(e,AD(n)),e}function RD(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:d}={}){let f=Jl(),p=Wi(),y=Zl(n,{relative:l});return q.useCallback(_=>{if(oD(_,e)){_.preventDefault();let I=t!==void 0?t:Ol(p)===Ol(y);f(n,{replace:I,state:i,preventScrollReset:o,relative:l,viewTransition:d})}},[p,f,y,t,i,e,n,o,l,d])}var kD=0,bD=()=>`__${String(++kD)}__`;function xD(){let{router:n}=LE("useSubmit"),{basename:e}=q.useContext(rr),t=Yx();return q.useCallback(async(i,o={})=>{let{action:l,method:d,encType:f,formData:p,body:y}=uD(i,e);if(o.navigate===!1){let _=o.fetcherKey||bD();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function DD(n,{relative:e}={}){let{basename:t}=q.useContext(rr),i=q.useContext(Tr);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Zl(n||".",{relative:e})},d=Wi();if(n==null){l.search=d.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(I=>I).forEach(I=>f.append("index",I));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Kr([t,l.pathname])),Ol(l)}function ND(n,e={}){let t=q.useContext(PE);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=LE("useViewTransitionState"),o=Zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=$i(t.currentLocation.pathname,i)||t.currentLocation.pathname,d=$i(t.nextLocation.pathname,i)||t.nextLocation.pathname;return dd(o.pathname,d)!=null||dd(o.pathname,l)!=null}new TextEncoder;var VE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fw=Ss.createContext&&Ss.createContext(VE),OD=["attr","size","title"];function LD(n,e){if(n==null)return{};var t=VD(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function VD(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function hd(){return hd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hd.apply(this,arguments)}function pw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function fd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(t),!0).forEach(function(i){MD(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function MD(n,e,t){return e=FD(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FD(n){var e=UD(n,"string");return typeof e=="symbol"?e:e+""}function UD(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ME(n){return n&&n.map((e,t)=>Ss.createElement(e.tag,fd({key:t},e.attr),ME(e.child)))}function FE(n){return e=>Ss.createElement(jD,hd({attr:fd({},n.attr)},e),ME(n.child))}function jD(n){var e=t=>{var{attr:i,size:o,title:l}=n,d=LD(n,OD),f=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Ss.createElement("svg",hd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,d,{className:p,style:fd(fd({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ss.createElement("title",null,l),n.children)};return fw!==void 0?Ss.createElement(fw.Consumer,null,t=>e(t)):e(VE)}function rp(n){return FE({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"},child:[]}]})(n)}function ip(n){return FE({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},child:[]}]})(n)}const BD="mtess.sf@gmail.com",mw=n=>{const[e,t]=q.useState(""),[i,o]=q.useState(""),[l,d]=q.useState(!1),[f,p]=q.useState(!1),y=Jl(),_=async D=>{if(D.preventDefault(),n.checkAdmin&&e!==BD){As("Correo no autorizado para acceso de administrador");return}p(!0);try{const M=await ox(e,i);M.emailVerified?(na("Inicio de sesión exitoso"),y(n.targetRoute)):EE(M)}catch(M){As(M.message)}finally{p(!1)}},I=async()=>{try{const D=await lx();na(`Bienvenido ${D.displayName||D.email}`),y(n.targetRoute)}catch(D){As("Error al iniciar sesión con Google: "+D.message)}},P=()=>{d(!l)};return H.jsxs("form",{id:"loginForm",className:"LoginForm",onSubmit:_,children:[H.jsxs("div",{className:"input-container",children:[H.jsx("h2",{children:n.title}),H.jsx("input",{type:"email",id:"email",placeholder:"Correo electrónico",required:!0,value:e,onChange:D=>t(D.target.value),autoComplete:"on"}),H.jsxs("div",{className:"password-container",children:[H.jsx("input",{type:l?"text":"password",id:"password",placeholder:"Contraseña",required:!0,value:i,onChange:D=>o(D.target.value),autoComplete:"new-password"}),H.jsx("button",{type:"button",className:"show-password-button",onClick:P,children:l?H.jsx(rp,{}):H.jsx(ip,{})})]})]}),H.jsx("button",{className:"button",id:"loginButton",type:"submit",disabled:f,children:f?"Iniciando...":"Iniciar Sesión"}),H.jsxs("button",{type:"button",onClick:I,className:"button button_google",children:[H.jsx("img",{src:"./assets/google_logo.svg",alt:"Google logo"}),"Iniciar sesión con Google"]})]})},zD=()=>{const[n,e]=q.useState(""),[t,i]=q.useState(""),[o,l]=q.useState(!1),[d,f]=q.useState(""),p=Jl(),[y,_]=q.useState(!1),I=async D=>{if(D.preventDefault(),t!==d){As("Las contraseñas no coinciden");return}_(!0);try{const M=await sx(n,t);na(`Para completar el registro debes confirmar el correo enviado a ${n}`),await ua.signOut(),p("/")}catch(M){As(M.message)}finally{_(!1)}},P=()=>{l(!o)};return H.jsxs("form",{className:"RegisterForm",id:"registerForm",onSubmit:I,children:[H.jsxs("div",{className:"input-container",children:[H.jsx("h2",{children:"REGISTRAR NUEVO USUARIO"}),H.jsx("input",{type:"email",id:"registerEmail",placeholder:"Correo electrónico",autoComplete:"off",value:n,onChange:D=>e(D.target.value)}),H.jsxs("div",{className:"password-container",children:[H.jsx("input",{type:o?"text":"password",id:"registerPassword",placeholder:"Contraseña",autoComplete:"new-password",value:t,onChange:D=>i(D.target.value)}),H.jsx("button",{type:"button",className:"show-password-button",onClick:P,children:o?H.jsx(rp,{}):H.jsx(ip,{})})]}),H.jsxs("div",{className:"password-container",children:[H.jsx("input",{type:o?"text":"password",id:"confirmPassword",placeholder:"Confirmar Contraseña",autoComplete:"new-password",value:d,onChange:D=>f(D.target.value)}),H.jsx("button",{type:"button",className:"show-password-button",onClick:P,children:o?H.jsx(rp,{}):H.jsx(ip,{})})]})]}),H.jsx("button",{className:"button",id:"registerButton",type:"submit",disabled:y,children:y?"Registrando...":"Registrarse"})]})},$D=({element:n})=>{const{currentUser:e}=Yp();return e?e.emailVerified?n:(EE(e),H.jsx(dw,{to:"/"})):(ux("Debes iniciar sesión para acceder a esta página."),H.jsx(dw,{to:"/"}))},HD=()=>{const{currentUser:n}=Yp(),e=Jl(),t=async()=>{e("/"),await e2(ua),na("Sesión cerrada")};return H.jsx("nav",{children:H.jsx("ul",{children:n?n.emailVerified?H.jsx(H.Fragment,{children:H.jsx("li",{children:H.jsx("button",{onClick:t,children:"Cerrar sesión"})})}):H.jsxs(H.Fragment,{children:[H.jsx("li",{children:H.jsx(Lc,{to:"/",style:({isActive:i})=>({textDecoration:i?"underline":"none",textUnderlineOffset:"8px"}),children:"Verificar correo electrónico"})}),H.jsx("li",{children:H.jsx("button",{onClick:t,children:"Cerrar sesión"})})]}):H.jsxs(H.Fragment,{children:[H.jsx("li",{children:H.jsx(Lc,{to:"/",style:({isActive:i})=>({textDecoration:i?"underline":"none",textUnderlineOffset:"8px"}),children:"Iniciar sesión"})}),H.jsx("li",{children:H.jsx(Lc,{to:"/register",style:({isActive:i})=>({textDecoration:i?"underline":"none",textUnderlineOffset:"8px"}),children:"Registrarse"})})]})})})},WD=()=>H.jsx("section",{className:"List",children:H.jsx("h2",{children:"List"})}),qD=()=>H.jsxs("div",{className:"App",children:[H.jsx(JT,{}),H.jsxs("main",{children:[H.jsx(HD,{}),H.jsxs(tD,{children:[H.jsx(Uo,{path:"/",element:H.jsx(mw,{title:"INICIAR SESIÓN",targetRoute:"/form",checkAdmin:!1})}),H.jsx(Uo,{path:"/admin",element:H.jsx(mw,{title:"ACCESO DE ADMINISTRADOR",targetRoute:"/admin/list",checkAdmin:!0})}),H.jsx(Uo,{path:"/register",element:H.jsx(zD,{})}),H.jsx(Uo,{path:"/form",element:H.jsx($D,{element:H.jsx(dx,{})})}),H.jsx(Uo,{path:"/admin/list",element:H.jsx(WD,{})})]})]}),H.jsx(ZT,{})]});XT.createRoot(document.getElementById("root")).render(H.jsx(q.StrictMode,{children:H.jsx(pR,{children:H.jsx(CD,{children:H.jsx(qD,{})})})}));
