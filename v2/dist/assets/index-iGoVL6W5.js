(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var nf={exports:{}},il={},rf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function RT(){if(gy)return Re;gy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,H={};function B(D,G,fe){this.props=D,this.context=G,this.refs=H,this.updater=fe||L}B.prototype.isReactComponent={},B.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function K(){}K.prototype=B.prototype;function X(D,G,fe){this.props=D,this.context=G,this.refs=H,this.updater=fe||L}var ie=X.prototype=new K;ie.constructor=X,F(ie,B.prototype),ie.isPureReactComponent=!0;var he=Array.isArray,Ae=Object.prototype.hasOwnProperty,Se={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function T(D,G,fe){var ke,Pe={},Le=null,je=null;if(G!=null)for(ke in G.ref!==void 0&&(je=G.ref),G.key!==void 0&&(Le=""+G.key),G)Ae.call(G,ke)&&!b.hasOwnProperty(ke)&&(Pe[ke]=G[ke]);var ze=arguments.length-2;if(ze===1)Pe.children=fe;else if(1<ze){for(var Ke=Array(ze),St=0;St<ze;St++)Ke[St]=arguments[St+2];Pe.children=Ke}if(D&&D.defaultProps)for(ke in ze=D.defaultProps,ze)Pe[ke]===void 0&&(Pe[ke]=ze[ke]);return{$$typeof:n,type:D,key:Le,ref:je,props:Pe,_owner:Se.current}}function C(D,G){return{$$typeof:n,type:D.type,key:G,ref:D.ref,props:D.props,_owner:D._owner}}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function N(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(fe){return G[fe]})}var O=/\/+/g;function k(D,G){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):G.toString(36)}function at(D,G,fe,ke,Pe){var Le=typeof D;(Le==="undefined"||Le==="boolean")&&(D=null);var je=!1;if(D===null)je=!0;else switch(Le){case"string":case"number":je=!0;break;case"object":switch(D.$$typeof){case n:case e:je=!0}}if(je)return je=D,Pe=Pe(je),D=ke===""?"."+k(je,0):ke,he(Pe)?(fe="",D!=null&&(fe=D.replace(O,"$&/")+"/"),at(Pe,G,fe,"",function(St){return St})):Pe!=null&&(R(Pe)&&(Pe=C(Pe,fe+(!Pe.key||je&&je.key===Pe.key?"":(""+Pe.key).replace(O,"$&/")+"/")+D)),G.push(Pe)),1;if(je=0,ke=ke===""?".":ke+":",he(D))for(var ze=0;ze<D.length;ze++){Le=D[ze];var Ke=ke+k(Le,ze);je+=at(Le,G,fe,Ke,Pe)}else if(Ke=A(D),typeof Ke=="function")for(D=Ke.call(D),ze=0;!(Le=D.next()).done;)Le=Le.value,Ke=ke+k(Le,ze++),je+=at(Le,G,fe,Ke,Pe);else if(Le==="object")throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return je}function Ft(D,G,fe){if(D==null)return D;var ke=[],Pe=0;return at(D,ke,"","",function(Le){return G.call(fe,Le,Pe++)}),ke}function Ut(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(fe){(D._status===0||D._status===-1)&&(D._status=1,D._result=fe)},function(fe){(D._status===0||D._status===-1)&&(D._status=2,D._result=fe)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var qe={current:null},re={transition:null},pe={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:re,ReactCurrentOwner:Se};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Ft,forEach:function(D,G,fe){Ft(D,function(){G.apply(this,arguments)},fe)},count:function(D){var G=0;return Ft(D,function(){G++}),G},toArray:function(D){return Ft(D,function(G){return G})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=B,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=i,Re.Suspense=p,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Re.act=oe,Re.cloneElement=function(D,G,fe){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ke=F({},D.props),Pe=D.key,Le=D.ref,je=D._owner;if(G!=null){if(G.ref!==void 0&&(Le=G.ref,je=Se.current),G.key!==void 0&&(Pe=""+G.key),D.type&&D.type.defaultProps)var ze=D.type.defaultProps;for(Ke in G)Ae.call(G,Ke)&&!b.hasOwnProperty(Ke)&&(ke[Ke]=G[Ke]===void 0&&ze!==void 0?ze[Ke]:G[Ke])}var Ke=arguments.length-2;if(Ke===1)ke.children=fe;else if(1<Ke){ze=Array(Ke);for(var St=0;St<Ke;St++)ze[St]=arguments[St+2];ke.children=ze}return{$$typeof:n,type:D.type,key:Pe,ref:Le,props:ke,_owner:je}},Re.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:l,_context:D},D.Consumer=D},Re.createElement=T,Re.createFactory=function(D){var G=T.bind(null,D);return G.type=D,G},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:f,render:D}},Re.isValidElement=R,Re.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:Ut}},Re.memo=function(D,G){return{$$typeof:y,type:D,compare:G===void 0?null:G}},Re.startTransition=function(D){var G=re.transition;re.transition={};try{D()}finally{re.transition=G}},Re.unstable_act=oe,Re.useCallback=function(D,G){return qe.current.useCallback(D,G)},Re.useContext=function(D){return qe.current.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D){return qe.current.useDeferredValue(D)},Re.useEffect=function(D,G){return qe.current.useEffect(D,G)},Re.useId=function(){return qe.current.useId()},Re.useImperativeHandle=function(D,G,fe){return qe.current.useImperativeHandle(D,G,fe)},Re.useInsertionEffect=function(D,G){return qe.current.useInsertionEffect(D,G)},Re.useLayoutEffect=function(D,G){return qe.current.useLayoutEffect(D,G)},Re.useMemo=function(D,G){return qe.current.useMemo(D,G)},Re.useReducer=function(D,G,fe){return qe.current.useReducer(D,G,fe)},Re.useRef=function(D){return qe.current.useRef(D)},Re.useState=function(D){return qe.current.useState(D)},Re.useSyncExternalStore=function(D,G,fe){return qe.current.useSyncExternalStore(D,G,fe)},Re.useTransition=function(){return qe.current.useTransition()},Re.version="18.3.1",Re}var yy;function Yf(){return yy||(yy=1,rf.exports=RT()),rf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function bT(){if(vy)return il;vy=1;var n=Yf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,y){var _,S={},A=null,L=null;y!==void 0&&(A=""+y),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(L=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(S[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)S[_]===void 0&&(S[_]=p[_]);return{$$typeof:e,type:f,key:A,ref:L,props:S,_owner:o.current}}return il.Fragment=t,il.jsx=d,il.jsxs=d,il}var wy;function xT(){return wy||(wy=1,nf.exports=bT()),nf.exports}var Q=xT(),q=Yf(),uc={},sf={exports:{}},an={},of={exports:{}},af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function NT(){return _y||(_y=1,function(n){function e(re,pe){var oe=re.length;re.push(pe);e:for(;0<oe;){var D=oe-1>>>1,G=re[D];if(0<o(G,pe))re[D]=pe,re[oe]=G,oe=D;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var pe=re[0],oe=re.pop();if(oe!==pe){re[0]=oe;e:for(var D=0,G=re.length,fe=G>>>1;D<fe;){var ke=2*(D+1)-1,Pe=re[ke],Le=ke+1,je=re[Le];if(0>o(Pe,oe))Le<G&&0>o(je,Pe)?(re[D]=je,re[Le]=oe,D=Le):(re[D]=Pe,re[ke]=oe,D=ke);else if(Le<G&&0>o(je,oe))re[D]=je,re[Le]=oe,D=Le;else break e}}return pe}function o(re,pe){var oe=re.sortIndex-pe.sortIndex;return oe!==0?oe:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var p=[],y=[],_=1,S=null,A=3,L=!1,F=!1,H=!1,B=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(re){for(var pe=t(y);pe!==null;){if(pe.callback===null)i(y);else if(pe.startTime<=re)i(y),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(y)}}function he(re){if(H=!1,ie(re),!F)if(t(p)!==null)F=!0,Ut(Ae);else{var pe=t(y);pe!==null&&qe(he,pe.startTime-re)}}function Ae(re,pe){F=!1,H&&(H=!1,K(T),T=-1),L=!0;var oe=A;try{for(ie(pe),S=t(p);S!==null&&(!(S.expirationTime>pe)||re&&!N());){var D=S.callback;if(typeof D=="function"){S.callback=null,A=S.priorityLevel;var G=D(S.expirationTime<=pe);pe=n.unstable_now(),typeof G=="function"?S.callback=G:S===t(p)&&i(p),ie(pe)}else i(p);S=t(p)}if(S!==null)var fe=!0;else{var ke=t(y);ke!==null&&qe(he,ke.startTime-pe),fe=!1}return fe}finally{S=null,A=oe,L=!1}}var Se=!1,b=null,T=-1,C=5,R=-1;function N(){return!(n.unstable_now()-R<C)}function O(){if(b!==null){var re=n.unstable_now();R=re;var pe=!0;try{pe=b(!0,re)}finally{pe?k():(Se=!1,b=null)}}else Se=!1}var k;if(typeof X=="function")k=function(){X(O)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,Ft=at.port2;at.port1.onmessage=O,k=function(){Ft.postMessage(null)}}else k=function(){B(O,0)};function Ut(re){b=re,Se||(Se=!0,k())}function qe(re,pe){T=B(function(){re(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){F||L||(F=!0,Ut(Ae))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(A){case 1:case 2:case 3:var pe=3;break;default:pe=A}var oe=A;A=pe;try{return re()}finally{A=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=A;A=re;try{return pe()}finally{A=oe}},n.unstable_scheduleCallback=function(re,pe,oe){var D=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?D+oe:D):oe=D,re){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,re={id:_++,callback:pe,priorityLevel:re,startTime:oe,expirationTime:G,sortIndex:-1},oe>D?(re.sortIndex=oe,e(y,re),t(p)===null&&re===t(y)&&(H?(K(T),T=-1):H=!0,qe(he,oe-D))):(re.sortIndex=G,e(p,re),F||L||(F=!0,Ut(Ae))),re},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(re){var pe=A;return function(){var oe=A;A=pe;try{return re.apply(this,arguments)}finally{A=oe}}}}(af)),af}var Ey;function DT(){return Ey||(Ey=1,of.exports=NT()),of.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function LT(){if(Ty)return an;Ty=1;var n=Yf(),e=DT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){d(r,s),d(r+"Capture",s)}function d(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function A(r){return p.call(S,r)?!0:p.call(_,r)?!1:y.test(r)?S[r]=!0:(_[r]=!0,!1)}function L(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function F(r,s,a,c){if(s===null||typeof s>"u"||L(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function H(r,s,a,c,h,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){B[r]=new H(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];B[s]=new H(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){B[r]=new H(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){B[r]=new H(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){B[r]=new H(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){B[r]=new H(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){B[r]=new H(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){B[r]=new H(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){B[r]=new H(r,5,!1,r.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(K,X);B[s]=new H(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(K,X);B[s]=new H(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(K,X);B[s]=new H(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){B[r]=new H(r,1,!1,r.toLowerCase(),null,!1,!1)}),B.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){B[r]=new H(r,1,!1,r.toLowerCase(),null,!0,!0)});function ie(r,s,a,c){var h=B.hasOwnProperty(s)?B[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,a,h,c)&&(a=null),c||h===null?A(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?r.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var he=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ae=Symbol.for("react.element"),Se=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),Ft=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),qe=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,D;function G(r){if(D===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+r}var fe=!1;function ke(r,s){if(!r||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(j){var c=j}Reflect.construct(r,[],s)}else{try{s.call()}catch(j){c=j}r.call(s.prototype)}else{try{throw Error()}catch(j){c=j}r()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var h=j.stack.split(`
`),g=c.stack.split(`
`),w=h.length-1,I=g.length-1;1<=w&&0<=I&&h[w]!==g[I];)I--;for(;1<=w&&0<=I;w--,I--)if(h[w]!==g[I]){if(w!==1||I!==1)do if(w--,I--,0>I||h[w]!==g[I]){var P=`
`+h[w].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=w&&0<=I);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?G(r):""}function Pe(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=ke(r.type,!1),r;case 11:return r=ke(r.type.render,!1),r;case 1:return r=ke(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case Se:return"Portal";case C:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case at:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case R:return(r._context.displayName||"Context")+".Provider";case O:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ft:return s=r.displayName||null,s!==null?s:Le(r.type)||"Memo";case Ut:s=r._payload,r=r._init;try{return Le(r(s))}catch{}}return null}function je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(r){var s=Ke(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ir(r){r._valueTracker||(r._valueTracker=St(r))}function Fs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Ke(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function ti(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function qi(r,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Us(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=ze(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ca(r,s){s=s.checked,s!=null&&ie(r,"checked",s,!1)}function da(r,s){ca(r,s);var a=ze(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Bs(r,s.type,a):s.hasOwnProperty("defaultValue")&&Bs(r,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Gl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Bs(r,s,a){(s!=="number"||ti(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Sr=Array.isArray;function Cr(r,s,a,c){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function ha(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function js(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Sr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ze(a)}}function zs(r,s){var a=ze(s.value),c=ze(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function fa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function gt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?gt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ar,pa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,h)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ar.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ni(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ki=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(r){Ki.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Wi[s]=Wi[r]})});function ma(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Wi.hasOwnProperty(r)&&Wi[r]?(""+s).trim():s+"px"}function ga(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=ma(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,h):r[a]=h}}var ya=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(r,s){if(s){if(ya[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function wa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gi=null;function $s(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Hs=null,Sn=null,nr=null;function qs(r){if(r=$a(r)){if(typeof Hs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Su(s),Hs(r.stateNode,r.type,s))}}function rr(r){Sn?nr?nr.push(r):nr=[r]:Sn=r}function _a(){if(Sn){var r=Sn,s=nr;if(nr=Sn=null,qs(r),s)for(r=0;r<s.length;r++)qs(s[r])}}function Qi(r,s){return r(s)}function Ea(){}var kr=!1;function Ta(r,s,a){if(kr)return r(s,a);kr=!0;try{return Qi(r,s,a)}finally{kr=!1,(Sn!==null||nr!==null)&&(Ea(),_a())}}function lt(r,s){var a=r.stateNode;if(a===null)return null;var c=Su(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ws=!1;if(f)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Ws=!1}function Yi(r,s,a,c,h,g,w,I,P){var j=Array.prototype.slice.call(arguments,3);try{s.apply(a,j)}catch(J){this.onError(J)}}var Xi=!1,Ks=null,Un=!1,Ia=null,bd={onError:function(r){Xi=!0,Ks=r}};function Gs(r,s,a,c,h,g,w,I,P){Xi=!1,Ks=null,Yi.apply(bd,arguments)}function Ql(r,s,a,c,h,g,w,I,P){if(Gs.apply(this,arguments),Xi){if(Xi){var j=Ks;Xi=!1,Ks=null}else throw Error(t(198));Un||(Un=!0,Ia=j)}}function Bn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ji(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function jn(r){if(Bn(r)!==r)throw Error(t(188))}function Yl(r){var s=r.alternate;if(!s){if(s=Bn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var h=a.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===a)return jn(h),r;if(g===c)return jn(h),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=h,c=g;else{for(var w=!1,I=h.child;I;){if(I===a){w=!0,a=h,c=g;break}if(I===c){w=!0,c=h,a=g;break}I=I.sibling}if(!w){for(I=g.child;I;){if(I===a){w=!0,a=g,c=h;break}if(I===c){w=!0,c=g,a=h;break}I=I.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Sa(r){return r=Yl(r),r!==null?Qs(r):null}function Qs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Qs(r);if(s!==null)return s;r=r.sibling}return null}var Ys=e.unstable_scheduleCallback,Ca=e.unstable_cancelCallback,Xl=e.unstable_shouldYield,xd=e.unstable_requestPaint,Ge=e.unstable_now,Jl=e.unstable_getCurrentPriorityLevel,Zi=e.unstable_ImmediatePriority,ri=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,Aa=e.unstable_LowPriority,Zl=e.unstable_IdlePriority,es=null,fn=null;function eu(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(es,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:nu,ka=Math.log,tu=Math.LN2;function nu(r){return r>>>=0,r===0?32:31-(ka(r)/tu|0)|0}var Xs=64,Js=4194304;function ii(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ts(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,h=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var I=w&~h;I!==0?c=ii(I):(g&=w,g!==0&&(c=ii(g)))}else w=a&~h,w!==0?c=ii(w):g!==0&&(c=ii(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&h)&&(h=c&-c,g=s&-s,h>=g||h===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Qt(s),h=1<<a,c|=r[a],s&=~h;return c}function Nd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Qt(g),I=1<<w,P=h[w];P===-1?(!(I&a)||I&c)&&(h[w]=Nd(I,s)):P<=s&&(r.expiredLanes|=I),g&=~I}}function pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ns(){var r=Xs;return Xs<<=1,!(Xs&4194240)&&(Xs=64),r}function si(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function oi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=a}function We(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-Qt(a),g=1<<h;s[h]=0,c[h]=-1,r[h]=-1,a&=~g}}function ai(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Qt(a),h=1<<c;h&s|r[c]&s&&(r[c]|=s),a&=~h}}var Ne=0;function li(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var ru,Zs,iu,su,ou,Pa=!1,ir=[],xt=null,zn=null,$n=null,ui=new Map,An=new Map,sr=[],Dd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(r,s){switch(r){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":ui.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(s.pointerId)}}function Zt(r,s,a,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=$a(s),s!==null&&Zs(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Ld(r,s,a,c,h){switch(s){case"focusin":return xt=Zt(xt,r,s,a,c,h),!0;case"dragenter":return zn=Zt(zn,r,s,a,c,h),!0;case"mouseover":return $n=Zt($n,r,s,a,c,h),!0;case"pointerover":var g=h.pointerId;return ui.set(g,Zt(ui.get(g)||null,r,s,a,c,h)),!0;case"gotpointercapture":return g=h.pointerId,An.set(g,Zt(An.get(g)||null,r,s,a,c,h)),!0}return!1}function lu(r){var s=as(r.target);if(s!==null){var a=Bn(s);if(a!==null){if(s=a.tag,s===13){if(s=Ji(a),s!==null){r.blockedOn=s,ou(r.priority,function(){iu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=eo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Gi=c,a.target.dispatchEvent(c),Gi=null}else return s=$a(a),s!==null&&Zs(s),r.blockedOn=a,!1;s.shift()}return!0}function rs(r,s,a){Rr(r)&&a.delete(s)}function uu(){Pa=!1,xt!==null&&Rr(xt)&&(xt=null),zn!==null&&Rr(zn)&&(zn=null),$n!==null&&Rr($n)&&($n=null),ui.forEach(rs),An.forEach(rs)}function Hn(r,s){r.blockedOn===s&&(r.blockedOn=null,Pa||(Pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uu)))}function qn(r){function s(h){return Hn(h,r)}if(0<ir.length){Hn(ir[0],r);for(var a=1;a<ir.length;a++){var c=ir[a];c.blockedOn===r&&(c.blockedOn=null)}}for(xt!==null&&Hn(xt,r),zn!==null&&Hn(zn,r),$n!==null&&Hn($n,r),ui.forEach(s),An.forEach(s),a=0;a<sr.length;a++)c=sr[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)lu(a),a.blockedOn===null&&sr.shift()}var br=he.ReactCurrentBatchConfig,ci=!0;function Ze(r,s,a,c){var h=Ne,g=br.transition;br.transition=null;try{Ne=1,Ra(r,s,a,c)}finally{Ne=h,br.transition=g}}function Od(r,s,a,c){var h=Ne,g=br.transition;br.transition=null;try{Ne=4,Ra(r,s,a,c)}finally{Ne=h,br.transition=g}}function Ra(r,s,a,c){if(ci){var h=eo(r,s,a,c);if(h===null)Wd(r,s,c,is,a),au(r,c);else if(Ld(h,r,s,a,c))c.stopPropagation();else if(au(r,c),s&4&&-1<Dd.indexOf(r)){for(;h!==null;){var g=$a(h);if(g!==null&&ru(g),g=eo(r,s,a,c),g===null&&Wd(r,s,c,is,a),g===h)break;h=g}h!==null&&c.stopPropagation()}else Wd(r,s,c,null,a)}}var is=null;function eo(r,s,a,c){if(is=null,r=$s(c),r=as(r),r!==null)if(s=Bn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ji(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return is=r,null}function ba(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jl()){case Zi:return 1;case ri:return 4;case Cn:case Aa:return 16;case Zl:return 536870912;default:return 16}default:return 16}}var mn=null,to=null,en=null;function xa(){if(en)return en;var r,s=to,a=s.length,c,h="value"in mn?mn.value:mn.textContent,g=h.length;for(r=0;r<a&&s[r]===h[r];r++);var w=a-r;for(c=1;c<=w&&s[a-c]===h[g-c];c++);return en=h.slice(r,1<c?1-c:void 0)}function no(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function or(){return!0}function Na(){return!1}function Nt(r){function s(a,c,h,g,w){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?or:Na,this.isPropagationStopped=Na,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=Nt(Wn),ar=oe({},Wn,{view:0,detail:0}),Vd=Nt(ar),io,xr,di,ss=oe({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==di&&(di&&r.type==="mousemove"?(io=r.screenX-di.screenX,xr=r.screenY-di.screenY):xr=io=0,di=r),io)},movementY:function(r){return"movementY"in r?r.movementY:xr}}),so=Nt(ss),Da=oe({},ss,{dataTransfer:0}),cu=Nt(Da),oo=oe({},ar,{relatedTarget:0}),ao=Nt(oo),du=oe({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Nt(du),hu=oe({},Wn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fu=Nt(hu),pu=oe({},Wn,{data:0}),La=Nt(pu),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=mu[r])?!!s[r]:!1}function lr(){return gu}var u=oe({},ar,{key:function(r){if(r.key){var s=lo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=no(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(r){return r.type==="keypress"?no(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?no(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Nt(u),v=oe({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Nt(v),V=oe({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),z=Nt(V),ne=oe({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Nt(ne),vt=oe({},ss,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=Nt(vt),Ct=[9,13,27,32],ft=f&&"CompositionEvent"in window,kn=null;f&&"documentMode"in document&&(kn=document.documentMode);var gn=f&&"TextEvent"in window&&!kn,os=f&&(!ft||kn&&8<kn&&11>=kn),uo=" ",cm=!1;function dm(r,s){switch(r){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var co=!1;function AE(r,s){switch(r){case"compositionend":return hm(s);case"keypress":return s.which!==32?null:(cm=!0,uo);case"textInput":return r=s.data,r===uo&&cm?null:r;default:return null}}function kE(r,s){if(co)return r==="compositionend"||!ft&&dm(r,s)?(r=xa(),en=to=mn=null,co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return os&&s.locale!=="ko"?null:s.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!PE[r.type]:s==="textarea"}function pm(r,s,a,c){rr(c),s=Eu(s,"onChange"),0<s.length&&(a=new ro("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Oa=null,Va=null;function RE(r){Nm(r,0)}function yu(r){var s=go(r);if(Fs(s))return r}function bE(r,s){if(r==="change")return s}var mm=!1;if(f){var Md;if(f){var Fd="oninput"in document;if(!Fd){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Fd=typeof gm.oninput=="function"}Md=Fd}else Md=!1;mm=Md&&(!document.documentMode||9<document.documentMode)}function ym(){Oa&&(Oa.detachEvent("onpropertychange",vm),Va=Oa=null)}function vm(r){if(r.propertyName==="value"&&yu(Va)){var s=[];pm(s,Va,r,$s(r)),Ta(RE,s)}}function xE(r,s,a){r==="focusin"?(ym(),Oa=s,Va=a,Oa.attachEvent("onpropertychange",vm)):r==="focusout"&&ym()}function NE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yu(Va)}function DE(r,s){if(r==="click")return yu(s)}function LE(r,s){if(r==="input"||r==="change")return yu(s)}function OE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Kn=typeof Object.is=="function"?Object.is:OE;function Ma(r,s){if(Kn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!p.call(s,h)||!Kn(r[h],s[h]))return!1}return!0}function wm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _m(r,s){var a=wm(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wm(a)}}function Em(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Em(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Tm(){for(var r=window,s=ti();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ti(r.document)}return s}function Ud(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function VE(r){var s=Tm(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Em(a.ownerDocument.documentElement,a)){if(c!==null&&Ud(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!r.extend&&g>c&&(h=c,c=g,g=h),h=_m(a,g);var w=_m(a,c);h&&w&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ME=f&&"documentMode"in document&&11>=document.documentMode,ho=null,Bd=null,Fa=null,jd=!1;function Im(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jd||ho==null||ho!==ti(c)||(c=ho,"selectionStart"in c&&Ud(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Fa&&Ma(Fa,c)||(Fa=c,c=Eu(Bd,"onSelect"),0<c.length&&(s=new ro("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=ho)))}function vu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var fo={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},zd={},Sm={};f&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function wu(r){if(zd[r])return zd[r];if(!fo[r])return r;var s=fo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Sm)return zd[r]=s[a];return r}var Cm=wu("animationend"),Am=wu("animationiteration"),km=wu("animationstart"),Pm=wu("transitionend"),Rm=new Map,bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,s){Rm.set(r,s),l(s,[r])}for(var $d=0;$d<bm.length;$d++){var Hd=bm[$d],FE=Hd.toLowerCase(),UE=Hd[0].toUpperCase()+Hd.slice(1);hi(FE,"on"+UE)}hi(Cm,"onAnimationEnd"),hi(Am,"onAnimationIteration"),hi(km,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Pm,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function xm(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,Ql(c,s,void 0,r),r.currentTarget=null}function Nm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var I=c[w],P=I.instance,j=I.currentTarget;if(I=I.listener,P!==g&&h.isPropagationStopped())break e;xm(h,I,j),g=P}else for(w=0;w<c.length;w++){if(I=c[w],P=I.instance,j=I.currentTarget,I=I.listener,P!==g&&h.isPropagationStopped())break e;xm(h,I,j),g=P}}}if(Un)throw r=Ia,Un=!1,Ia=null,r}function Xe(r,s){var a=s[Jd];a===void 0&&(a=s[Jd]=new Set);var c=r+"__bubble";a.has(c)||(Dm(s,r,2,!1),a.add(c))}function qd(r,s,a){var c=0;s&&(c|=4),Dm(a,r,c,s)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Ba(r){if(!r[_u]){r[_u]=!0,i.forEach(function(a){a!=="selectionchange"&&(BE.has(a)||qd(a,!1,r),qd(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[_u]||(s[_u]=!0,qd("selectionchange",!1,s))}}function Dm(r,s,a,c){switch(ba(s)){case 1:var h=Ze;break;case 4:h=Od;break;default:h=Ra}a=h.bind(null,s,a,r),h=void 0,!Ws||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function Wd(r,s,a,c,h){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var I=c.stateNode.containerInfo;if(I===h||I.nodeType===8&&I.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;w=w.return}for(;I!==null;){if(w=as(I),w===null)return;if(P=w.tag,P===5||P===6){c=g=w;continue e}I=I.parentNode}}c=c.return}Ta(function(){var j=g,J=$s(a),Z=[];e:{var Y=Rm.get(r);if(Y!==void 0){var se=ro,ue=r;switch(r){case"keypress":if(no(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ue="focus",se=ao;break;case"focusout":ue="blur",se=ao;break;case"beforeblur":case"afterblur":se=ao;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=so;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=z;break;case Cm:case Am:case km:se=Nr;break;case Pm:se=He;break;case"scroll":se=Vd;break;case"wheel":se=Oe;break;case"copy":case"cut":case"paste":se=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var ce=(s&4)!==0,ut=!ce&&r==="scroll",M=ce?Y!==null?Y+"Capture":null:Y;ce=[];for(var x=j,U;x!==null;){U=x;var te=U.stateNode;if(U.tag===5&&te!==null&&(U=te,M!==null&&(te=lt(x,M),te!=null&&ce.push(ja(x,te,U)))),ut)break;x=x.return}0<ce.length&&(Y=new se(Y,ue,null,a,J),Z.push({event:Y,listeners:ce}))}}if(!(s&7)){e:{if(Y=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",Y&&a!==Gi&&(ue=a.relatedTarget||a.fromElement)&&(as(ue)||ue[Dr]))break e;if((se||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=j,ue=ue?as(ue):null,ue!==null&&(ut=Bn(ue),ue!==ut||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=j),se!==ue)){if(ce=so,te="onMouseLeave",M="onMouseEnter",x="mouse",(r==="pointerout"||r==="pointerover")&&(ce=E,te="onPointerLeave",M="onPointerEnter",x="pointer"),ut=se==null?Y:go(se),U=ue==null?Y:go(ue),Y=new ce(te,x+"leave",se,a,J),Y.target=ut,Y.relatedTarget=U,te=null,as(J)===j&&(ce=new ce(M,x+"enter",ue,a,J),ce.target=U,ce.relatedTarget=ut,te=ce),ut=te,se&&ue)t:{for(ce=se,M=ue,x=0,U=ce;U;U=po(U))x++;for(U=0,te=M;te;te=po(te))U++;for(;0<x-U;)ce=po(ce),x--;for(;0<U-x;)M=po(M),U--;for(;x--;){if(ce===M||M!==null&&ce===M.alternate)break t;ce=po(ce),M=po(M)}ce=null}else ce=null;se!==null&&Lm(Z,Y,se,ce,!1),ue!==null&&ut!==null&&Lm(Z,ut,ue,ce,!0)}}e:{if(Y=j?go(j):window,se=Y.nodeName&&Y.nodeName.toLowerCase(),se==="select"||se==="input"&&Y.type==="file")var de=bE;else if(fm(Y))if(mm)de=LE;else{de=NE;var me=xE}else(se=Y.nodeName)&&se.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(de=DE);if(de&&(de=de(r,j))){pm(Z,de,a,J);break e}me&&me(r,Y,j),r==="focusout"&&(me=Y._wrapperState)&&me.controlled&&Y.type==="number"&&Bs(Y,"number",Y.value)}switch(me=j?go(j):window,r){case"focusin":(fm(me)||me.contentEditable==="true")&&(ho=me,Bd=j,Fa=null);break;case"focusout":Fa=Bd=ho=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,Im(Z,a,J);break;case"selectionchange":if(ME)break;case"keydown":case"keyup":Im(Z,a,J)}var ge;if(ft)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else co?dm(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(os&&a.locale!=="ko"&&(co||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&co&&(ge=xa()):(mn=J,to="value"in mn?mn.value:mn.textContent,co=!0)),me=Eu(j,Ee),0<me.length&&(Ee=new La(Ee,r,null,a,J),Z.push({event:Ee,listeners:me}),ge?Ee.data=ge:(ge=hm(a),ge!==null&&(Ee.data=ge)))),(ge=gn?AE(r,a):kE(r,a))&&(j=Eu(j,"onBeforeInput"),0<j.length&&(J=new La("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:j}),J.data=ge))}Nm(Z,s)})}function ja(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Eu(r,s){for(var a=s+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=lt(r,a),g!=null&&c.unshift(ja(r,g,h)),g=lt(r,s),g!=null&&c.push(ja(r,g,h))),r=r.return}return c}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Lm(r,s,a,c,h){for(var g=s._reactName,w=[];a!==null&&a!==c;){var I=a,P=I.alternate,j=I.stateNode;if(P!==null&&P===c)break;I.tag===5&&j!==null&&(I=j,h?(P=lt(a,g),P!=null&&w.unshift(ja(a,P,I))):h||(P=lt(a,g),P!=null&&w.push(ja(a,P,I)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var jE=/\r\n?/g,zE=/\u0000|\uFFFD/g;function Om(r){return(typeof r=="string"?r:""+r).replace(jE,`
`).replace(zE,"")}function Tu(r,s,a){if(s=Om(s),Om(r)!==s&&a)throw Error(t(425))}function Iu(){}var Kd=null,Gd=null;function Qd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yd=typeof setTimeout=="function"?setTimeout:void 0,$E=typeof clearTimeout=="function"?clearTimeout:void 0,Vm=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof Vm<"u"?function(r){return Vm.resolve(null).then(r).catch(qE)}:Yd;function qE(r){setTimeout(function(){throw r})}function Xd(r,s){var a=s,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){r.removeChild(h),qn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);qn(s)}function fi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Mm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var mo=Math.random().toString(36).slice(2),ur="__reactFiber$"+mo,za="__reactProps$"+mo,Dr="__reactContainer$"+mo,Jd="__reactEvents$"+mo,WE="__reactListeners$"+mo,KE="__reactHandles$"+mo;function as(r){var s=r[ur];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Dr]||a[ur]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Mm(r);r!==null;){if(a=r[ur])return a;r=Mm(r)}return s}r=a,a=r.parentNode}return null}function $a(r){return r=r[ur]||r[Dr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function go(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Su(r){return r[za]||null}var Zd=[],yo=-1;function pi(r){return{current:r}}function Je(r){0>yo||(r.current=Zd[yo],Zd[yo]=null,yo--)}function Qe(r,s){yo++,Zd[yo]=r.current,r.current=s}var mi={},Bt=pi(mi),tn=pi(!1),ls=mi;function vo(r,s){var a=r.type.contextTypes;if(!a)return mi;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in a)h[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function nn(r){return r=r.childContextTypes,r!=null}function Cu(){Je(tn),Je(Bt)}function Fm(r,s,a){if(Bt.current!==mi)throw Error(t(168));Qe(Bt,s),Qe(tn,a)}function Um(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(t(108,je(r)||"Unknown",h));return oe({},a,c)}function Au(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||mi,ls=Bt.current,Qe(Bt,r),Qe(tn,tn.current),!0}function Bm(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Um(r,s,ls),c.__reactInternalMemoizedMergedChildContext=r,Je(tn),Je(Bt),Qe(Bt,r)):Je(tn),Qe(tn,a)}var Lr=null,ku=!1,eh=!1;function jm(r){Lr===null?Lr=[r]:Lr.push(r)}function GE(r){ku=!0,jm(r)}function gi(){if(!eh&&Lr!==null){eh=!0;var r=0,s=Ne;try{var a=Lr;for(Ne=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Lr=null,ku=!1}catch(h){throw Lr!==null&&(Lr=Lr.slice(r+1)),Ys(Zi,gi),h}finally{Ne=s,eh=!1}}return null}var wo=[],_o=0,Pu=null,Ru=0,Pn=[],Rn=0,us=null,Or=1,Vr="";function cs(r,s){wo[_o++]=Ru,wo[_o++]=Pu,Pu=r,Ru=s}function zm(r,s,a){Pn[Rn++]=Or,Pn[Rn++]=Vr,Pn[Rn++]=us,us=r;var c=Or;r=Vr;var h=32-Qt(c)-1;c&=~(1<<h),a+=1;var g=32-Qt(s)+h;if(30<g){var w=h-h%5;g=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Or=1<<32-Qt(s)+h|a<<h|c,Vr=g+r}else Or=1<<g|a<<h|c,Vr=r}function th(r){r.return!==null&&(cs(r,1),zm(r,1,0))}function nh(r){for(;r===Pu;)Pu=wo[--_o],wo[_o]=null,Ru=wo[--_o],wo[_o]=null;for(;r===us;)us=Pn[--Rn],Pn[Rn]=null,Vr=Pn[--Rn],Pn[Rn]=null,Or=Pn[--Rn],Pn[Rn]=null}var yn=null,vn=null,et=!1,Gn=null;function $m(r,s){var a=Dn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Hm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,yn=r,vn=fi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,yn=r,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=us!==null?{id:Or,overflow:Vr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Dn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,yn=r,vn=null,!0):!1;default:return!1}}function rh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ih(r){if(et){var s=vn;if(s){var a=s;if(!Hm(r,s)){if(rh(r))throw Error(t(418));s=fi(a.nextSibling);var c=yn;s&&Hm(r,s)?$m(c,a):(r.flags=r.flags&-4097|2,et=!1,yn=r)}}else{if(rh(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,yn=r}}}function qm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function bu(r){if(r!==yn)return!1;if(!et)return qm(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Qd(r.type,r.memoizedProps)),s&&(s=vn)){if(rh(r))throw Wm(),Error(t(418));for(;s;)$m(r,s),s=fi(s.nextSibling)}if(qm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){vn=fi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}vn=null}}else vn=yn?fi(r.stateNode.nextSibling):null;return!0}function Wm(){for(var r=vn;r;)r=fi(r.nextSibling)}function Eo(){vn=yn=null,et=!1}function sh(r){Gn===null?Gn=[r]:Gn.push(r)}var QE=he.ReactCurrentBatchConfig;function Ha(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var h=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var I=h.refs;w===null?delete I[g]:I[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function xu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Km(r){var s=r._init;return s(r._payload)}function Gm(r){function s(M,x){if(r){var U=M.deletions;U===null?(M.deletions=[x],M.flags|=16):U.push(x)}}function a(M,x){if(!r)return null;for(;x!==null;)s(M,x),x=x.sibling;return null}function c(M,x){for(M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function h(M,x){return M=Si(M,x),M.index=0,M.sibling=null,M}function g(M,x,U){return M.index=U,r?(U=M.alternate,U!==null?(U=U.index,U<x?(M.flags|=2,x):U):(M.flags|=2,x)):(M.flags|=1048576,x)}function w(M){return r&&M.alternate===null&&(M.flags|=2),M}function I(M,x,U,te){return x===null||x.tag!==6?(x=Yh(U,M.mode,te),x.return=M,x):(x=h(x,U),x.return=M,x)}function P(M,x,U,te){var de=U.type;return de===b?J(M,x,U.props.children,te,U.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ut&&Km(de)===x.type)?(te=h(x,U.props),te.ref=Ha(M,x,U),te.return=M,te):(te=tc(U.type,U.key,U.props,null,M.mode,te),te.ref=Ha(M,x,U),te.return=M,te)}function j(M,x,U,te){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=Xh(U,M.mode,te),x.return=M,x):(x=h(x,U.children||[]),x.return=M,x)}function J(M,x,U,te,de){return x===null||x.tag!==7?(x=vs(U,M.mode,te,de),x.return=M,x):(x=h(x,U),x.return=M,x)}function Z(M,x,U){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Yh(""+x,M.mode,U),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ae:return U=tc(x.type,x.key,x.props,null,M.mode,U),U.ref=Ha(M,null,x),U.return=M,U;case Se:return x=Xh(x,M.mode,U),x.return=M,x;case Ut:var te=x._init;return Z(M,te(x._payload),U)}if(Sr(x)||pe(x))return x=vs(x,M.mode,U,null),x.return=M,x;xu(M,x)}return null}function Y(M,x,U,te){var de=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return de!==null?null:I(M,x,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ae:return U.key===de?P(M,x,U,te):null;case Se:return U.key===de?j(M,x,U,te):null;case Ut:return de=U._init,Y(M,x,de(U._payload),te)}if(Sr(U)||pe(U))return de!==null?null:J(M,x,U,te,null);xu(M,U)}return null}function se(M,x,U,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return M=M.get(U)||null,I(x,M,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Ae:return M=M.get(te.key===null?U:te.key)||null,P(x,M,te,de);case Se:return M=M.get(te.key===null?U:te.key)||null,j(x,M,te,de);case Ut:var me=te._init;return se(M,x,U,me(te._payload),de)}if(Sr(te)||pe(te))return M=M.get(U)||null,J(x,M,te,de,null);xu(x,te)}return null}function ue(M,x,U,te){for(var de=null,me=null,ge=x,Ee=x=0,Pt=null;ge!==null&&Ee<U.length;Ee++){ge.index>Ee?(Pt=ge,ge=null):Pt=ge.sibling;var Ue=Y(M,ge,U[Ee],te);if(Ue===null){ge===null&&(ge=Pt);break}r&&ge&&Ue.alternate===null&&s(M,ge),x=g(Ue,x,Ee),me===null?de=Ue:me.sibling=Ue,me=Ue,ge=Pt}if(Ee===U.length)return a(M,ge),et&&cs(M,Ee),de;if(ge===null){for(;Ee<U.length;Ee++)ge=Z(M,U[Ee],te),ge!==null&&(x=g(ge,x,Ee),me===null?de=ge:me.sibling=ge,me=ge);return et&&cs(M,Ee),de}for(ge=c(M,ge);Ee<U.length;Ee++)Pt=se(ge,M,Ee,U[Ee],te),Pt!==null&&(r&&Pt.alternate!==null&&ge.delete(Pt.key===null?Ee:Pt.key),x=g(Pt,x,Ee),me===null?de=Pt:me.sibling=Pt,me=Pt);return r&&ge.forEach(function(Ci){return s(M,Ci)}),et&&cs(M,Ee),de}function ce(M,x,U,te){var de=pe(U);if(typeof de!="function")throw Error(t(150));if(U=de.call(U),U==null)throw Error(t(151));for(var me=de=null,ge=x,Ee=x=0,Pt=null,Ue=U.next();ge!==null&&!Ue.done;Ee++,Ue=U.next()){ge.index>Ee?(Pt=ge,ge=null):Pt=ge.sibling;var Ci=Y(M,ge,Ue.value,te);if(Ci===null){ge===null&&(ge=Pt);break}r&&ge&&Ci.alternate===null&&s(M,ge),x=g(Ci,x,Ee),me===null?de=Ci:me.sibling=Ci,me=Ci,ge=Pt}if(Ue.done)return a(M,ge),et&&cs(M,Ee),de;if(ge===null){for(;!Ue.done;Ee++,Ue=U.next())Ue=Z(M,Ue.value,te),Ue!==null&&(x=g(Ue,x,Ee),me===null?de=Ue:me.sibling=Ue,me=Ue);return et&&cs(M,Ee),de}for(ge=c(M,ge);!Ue.done;Ee++,Ue=U.next())Ue=se(ge,M,Ee,Ue.value,te),Ue!==null&&(r&&Ue.alternate!==null&&ge.delete(Ue.key===null?Ee:Ue.key),x=g(Ue,x,Ee),me===null?de=Ue:me.sibling=Ue,me=Ue);return r&&ge.forEach(function(PT){return s(M,PT)}),et&&cs(M,Ee),de}function ut(M,x,U,te){if(typeof U=="object"&&U!==null&&U.type===b&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ae:e:{for(var de=U.key,me=x;me!==null;){if(me.key===de){if(de=U.type,de===b){if(me.tag===7){a(M,me.sibling),x=h(me,U.props.children),x.return=M,M=x;break e}}else if(me.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ut&&Km(de)===me.type){a(M,me.sibling),x=h(me,U.props),x.ref=Ha(M,me,U),x.return=M,M=x;break e}a(M,me);break}else s(M,me);me=me.sibling}U.type===b?(x=vs(U.props.children,M.mode,te,U.key),x.return=M,M=x):(te=tc(U.type,U.key,U.props,null,M.mode,te),te.ref=Ha(M,x,U),te.return=M,M=te)}return w(M);case Se:e:{for(me=U.key;x!==null;){if(x.key===me)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(M,x.sibling),x=h(x,U.children||[]),x.return=M,M=x;break e}else{a(M,x);break}else s(M,x);x=x.sibling}x=Xh(U,M.mode,te),x.return=M,M=x}return w(M);case Ut:return me=U._init,ut(M,x,me(U._payload),te)}if(Sr(U))return ue(M,x,U,te);if(pe(U))return ce(M,x,U,te);xu(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,x!==null&&x.tag===6?(a(M,x.sibling),x=h(x,U),x.return=M,M=x):(a(M,x),x=Yh(U,M.mode,te),x.return=M,M=x),w(M)):a(M,x)}return ut}var To=Gm(!0),Qm=Gm(!1),Nu=pi(null),Du=null,Io=null,oh=null;function ah(){oh=Io=Du=null}function lh(r){var s=Nu.current;Je(Nu),r._currentValue=s}function uh(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function So(r,s){Du=r,oh=Io=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(rn=!0),r.firstContext=null)}function bn(r){var s=r._currentValue;if(oh!==r)if(r={context:r,memoizedValue:s,next:null},Io===null){if(Du===null)throw Error(t(308));Io=r,Du.dependencies={lanes:0,firstContext:r}}else Io=Io.next=r;return s}var ds=null;function ch(r){ds===null?ds=[r]:ds.push(r)}function Ym(r,s,a,c){var h=s.interleaved;return h===null?(a.next=a,ch(s)):(a.next=h.next,h.next=a),s.interleaved=a,Mr(r,c)}function Mr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var yi=!1;function dh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function vi(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Fe&2){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,Mr(r,a)}return h=c.interleaved,h===null?(s.next=s,ch(c)):(s.next=h.next,h.next=s),c.interleaved=s,Mr(r,a)}function Lu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ai(r,a)}}function Jm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?h=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?h=g=s:g=g.next=s}else h=g=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Ou(r,s,a,c){var h=r.updateQueue;yi=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var P=I,j=P.next;P.next=null,w===null?g=j:w.next=j,w=P;var J=r.alternate;J!==null&&(J=J.updateQueue,I=J.lastBaseUpdate,I!==w&&(I===null?J.firstBaseUpdate=j:I.next=j,J.lastBaseUpdate=P))}if(g!==null){var Z=h.baseState;w=0,J=j=P=null,I=g;do{var Y=I.lane,se=I.eventTime;if((c&Y)===Y){J!==null&&(J=J.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ue=r,ce=I;switch(Y=s,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Z=ue.call(se,Z,Y);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Y=typeof ue=="function"?ue.call(se,Z,Y):ue,Y==null)break e;Z=oe({},Z,Y);break e;case 2:yi=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,Y=h.effects,Y===null?h.effects=[I]:Y.push(I))}else se={eventTime:se,lane:Y,tag:I.tag,payload:I.payload,callback:I.callback,next:null},J===null?(j=J=se,P=Z):J=J.next=se,w|=Y;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;Y=I,I=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);if(J===null&&(P=Z),h.baseState=P,h.firstBaseUpdate=j,h.lastBaseUpdate=J,s=h.shared.interleaved,s!==null){h=s;do w|=h.lane,h=h.next;while(h!==s)}else g===null&&(h.shared.lanes=0);ps|=w,r.lanes=w,r.memoizedState=Z}}function Zm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(t(191,h));h.call(c)}}}var qa={},cr=pi(qa),Wa=pi(qa),Ka=pi(qa);function hs(r){if(r===qa)throw Error(t(174));return r}function hh(r,s){switch(Qe(Ka,s),Qe(Wa,r),Qe(cr,qa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}Je(cr),Qe(cr,s)}function Co(){Je(cr),Je(Wa),Je(Ka)}function eg(r){hs(Ka.current);var s=hs(cr.current),a=yt(s,r.type);s!==a&&(Qe(Wa,r),Qe(cr,a))}function fh(r){Wa.current===r&&(Je(cr),Je(Wa))}var nt=pi(0);function Vu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ph=[];function mh(){for(var r=0;r<ph.length;r++)ph[r]._workInProgressVersionPrimary=null;ph.length=0}var Mu=he.ReactCurrentDispatcher,gh=he.ReactCurrentBatchConfig,fs=0,rt=null,wt=null,At=null,Fu=!1,Ga=!1,Qa=0,YE=0;function jt(){throw Error(t(321))}function yh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Kn(r[a],s[a]))return!1;return!0}function vh(r,s,a,c,h,g){if(fs=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Mu.current=r===null||r.memoizedState===null?eT:tT,r=a(c,h),Ga){g=0;do{if(Ga=!1,Qa=0,25<=g)throw Error(t(301));g+=1,At=wt=null,s.updateQueue=null,Mu.current=nT,r=a(c,h)}while(Ga)}if(Mu.current=ju,s=wt!==null&&wt.next!==null,fs=0,At=wt=rt=null,Fu=!1,s)throw Error(t(300));return r}function wh(){var r=Qa!==0;return Qa=0,r}function dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=r:At=At.next=r,At}function xn(){if(wt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=At===null?rt.memoizedState:At.next;if(s!==null)At=s,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?rt.memoizedState=At=r:At=At.next=r}return At}function Ya(r,s){return typeof s=="function"?s(r):s}function _h(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=wt,h=c.baseQueue,g=a.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}c.baseQueue=h=g,a.pending=null}if(h!==null){g=h.next,c=c.baseState;var I=w=null,P=null,j=g;do{var J=j.lane;if((fs&J)===J)P!==null&&(P=P.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:r(c,j.action);else{var Z={lane:J,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};P===null?(I=P=Z,w=c):P=P.next=Z,rt.lanes|=J,ps|=J}j=j.next}while(j!==null&&j!==g);P===null?w=c:P.next=I,Kn(c,s.memoizedState)||(rn=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=P,a.lastRenderedState=c}if(r=a.interleaved,r!==null){h=r;do g=h.lane,rt.lanes|=g,ps|=g,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Eh(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,g=s.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do g=r(g,w.action),w=w.next;while(w!==h);Kn(g,s.memoizedState)||(rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function tg(){}function ng(r,s){var a=rt,c=xn(),h=s(),g=!Kn(c.memoizedState,h);if(g&&(c.memoizedState=h,rn=!0),c=c.queue,Th(sg.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,Xa(9,ig.bind(null,a,c,h,s),void 0,null),kt===null)throw Error(t(349));fs&30||rg(a,s,h)}return h}function rg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function ig(r,s,a,c){s.value=a,s.getSnapshot=c,og(s)&&ag(r)}function sg(r,s,a){return a(function(){og(s)&&ag(r)})}function og(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Kn(r,a)}catch{return!0}}function ag(r){var s=Mr(r,1);s!==null&&Jn(s,r,1,-1)}function lg(r){var s=dr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:r},s.queue=r,r=r.dispatch=ZE.bind(null,rt,r),[s.memoizedState,r]}function Xa(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function ug(){return xn().memoizedState}function Uu(r,s,a,c){var h=dr();rt.flags|=r,h.memoizedState=Xa(1|s,a,void 0,c===void 0?null:c)}function Bu(r,s,a,c){var h=xn();c=c===void 0?null:c;var g=void 0;if(wt!==null){var w=wt.memoizedState;if(g=w.destroy,c!==null&&yh(c,w.deps)){h.memoizedState=Xa(s,a,g,c);return}}rt.flags|=r,h.memoizedState=Xa(1|s,a,g,c)}function cg(r,s){return Uu(8390656,8,r,s)}function Th(r,s){return Bu(2048,8,r,s)}function dg(r,s){return Bu(4,2,r,s)}function hg(r,s){return Bu(4,4,r,s)}function fg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function pg(r,s,a){return a=a!=null?a.concat([r]):null,Bu(4,4,fg.bind(null,s,r),a)}function Ih(){}function mg(r,s){var a=xn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&yh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function gg(r,s){var a=xn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&yh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function yg(r,s,a){return fs&21?(Kn(a,s)||(a=ns(),rt.lanes|=a,ps|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a)}function XE(r,s){var a=Ne;Ne=a!==0&&4>a?a:4,r(!0);var c=gh.transition;gh.transition={};try{r(!1),s()}finally{Ne=a,gh.transition=c}}function vg(){return xn().memoizedState}function JE(r,s,a){var c=Ti(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},wg(r))_g(s,a);else if(a=Ym(r,s,a,c),a!==null){var h=Jt();Jn(a,r,c,h),Eg(a,s,c)}}function ZE(r,s,a){var c=Ti(r),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(wg(r))_g(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,I=g(w,a);if(h.hasEagerState=!0,h.eagerState=I,Kn(I,w)){var P=s.interleaved;P===null?(h.next=h,ch(s)):(h.next=P.next,P.next=h),s.interleaved=h;return}}catch{}finally{}a=Ym(r,s,h,c),a!==null&&(h=Jt(),Jn(a,r,c,h),Eg(a,s,c))}}function wg(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function _g(r,s){Ga=Fu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Eg(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ai(r,a)}}var ju={readContext:bn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},eT={readContext:bn,useCallback:function(r,s){return dr().memoizedState=[r,s===void 0?null:s],r},useContext:bn,useEffect:cg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Uu(4194308,4,fg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Uu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Uu(4,2,r,s)},useMemo:function(r,s){var a=dr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=dr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=JE.bind(null,rt,r),[c.memoizedState,r]},useRef:function(r){var s=dr();return r={current:r},s.memoizedState=r},useState:lg,useDebugValue:Ih,useDeferredValue:function(r){return dr().memoizedState=r},useTransition:function(){var r=lg(!1),s=r[0];return r=XE.bind(null,r[1]),dr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=rt,h=dr();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),kt===null)throw Error(t(349));fs&30||rg(c,s,a)}h.memoizedState=a;var g={value:a,getSnapshot:s};return h.queue=g,cg(sg.bind(null,c,g,r),[r]),c.flags|=2048,Xa(9,ig.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=dr(),s=kt.identifierPrefix;if(et){var a=Vr,c=Or;a=(c&~(1<<32-Qt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Qa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=YE++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},tT={readContext:bn,useCallback:mg,useContext:bn,useEffect:Th,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:_h,useRef:ug,useState:function(){return _h(Ya)},useDebugValue:Ih,useDeferredValue:function(r){var s=xn();return yg(s,wt.memoizedState,r)},useTransition:function(){var r=_h(Ya)[0],s=xn().memoizedState;return[r,s]},useMutableSource:tg,useSyncExternalStore:ng,useId:vg,unstable_isNewReconciler:!1},nT={readContext:bn,useCallback:mg,useContext:bn,useEffect:Th,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:Eh,useRef:ug,useState:function(){return Eh(Ya)},useDebugValue:Ih,useDeferredValue:function(r){var s=xn();return wt===null?s.memoizedState=r:yg(s,wt.memoizedState,r)},useTransition:function(){var r=Eh(Ya)[0],s=xn().memoizedState;return[r,s]},useMutableSource:tg,useSyncExternalStore:ng,useId:vg,unstable_isNewReconciler:!1};function Qn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Sh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:oe({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var zu={isMounted:function(r){return(r=r._reactInternals)?Bn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=Jt(),h=Ti(r),g=Fr(c,h);g.payload=s,a!=null&&(g.callback=a),s=vi(r,g,h),s!==null&&(Jn(s,r,h,c),Lu(s,r,h))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=Jt(),h=Ti(r),g=Fr(c,h);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=vi(r,g,h),s!==null&&(Jn(s,r,h,c),Lu(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Jt(),c=Ti(r),h=Fr(a,c);h.tag=2,s!=null&&(h.callback=s),s=vi(r,h,c),s!==null&&(Jn(s,r,c,a),Lu(s,r,c))}};function Tg(r,s,a,c,h,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!Ma(a,c)||!Ma(h,g):!0}function Ig(r,s,a){var c=!1,h=mi,g=s.contextType;return typeof g=="object"&&g!==null?g=bn(g):(h=nn(s)?ls:Bt.current,c=s.contextTypes,g=(c=c!=null)?vo(r,h):mi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=zu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=g),s}function Sg(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&zu.enqueueReplaceState(s,s.state,null)}function Ch(r,s,a,c){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},dh(r);var g=s.contextType;typeof g=="object"&&g!==null?h.context=bn(g):(g=nn(s)?ls:Bt.current,h.context=vo(r,g)),h.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sh(r,s,g,a),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&zu.enqueueReplaceState(h,h.state,null),Ou(r,a,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function Ao(r,s){try{var a="",c=s;do a+=Pe(c),c=c.return;while(c);var h=a}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:h,digest:null}}function Ah(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function kh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var rT=typeof WeakMap=="function"?WeakMap:Map;function Cg(r,s,a){a=Fr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Qu||(Qu=!0,zh=c),kh(r,s)},a}function Ag(r,s,a){a=Fr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){kh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){kh(r,s),typeof c!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function kg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new rT;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),r=yT.bind(null,r,s,a),s.then(r,r))}function Pg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Rg(r,s,a,c,h){return r.mode&1?(r.flags|=65536,r.lanes=h,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Fr(-1,1),s.tag=2,vi(a,s,1))),a.lanes|=1),r)}var iT=he.ReactCurrentOwner,rn=!1;function Xt(r,s,a,c){s.child=r===null?Qm(s,null,a,c):To(s,r.child,a,c)}function bg(r,s,a,c,h){a=a.render;var g=s.ref;return So(s,h),c=vh(r,s,a,c,g,h),a=wh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Ur(r,s,h)):(et&&a&&th(s),s.flags|=1,Xt(r,s,c,h),s.child)}function xg(r,s,a,c,h){if(r===null){var g=a.type;return typeof g=="function"&&!Qh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Ng(r,s,g,c,h)):(r=tc(a.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&h)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ma,a(w,c)&&r.ref===s.ref)return Ur(r,s,h)}return s.flags|=1,r=Si(g,c),r.ref=s.ref,r.return=s,s.child=r}function Ng(r,s,a,c,h){if(r!==null){var g=r.memoizedProps;if(Ma(g,c)&&r.ref===s.ref)if(rn=!1,s.pendingProps=c=g,(r.lanes&h)!==0)r.flags&131072&&(rn=!0);else return s.lanes=r.lanes,Ur(r,s,h)}return Ph(r,s,a,c,h)}function Dg(r,s,a){var c=s.pendingProps,h=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Po,wn),wn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Qe(Po,wn),wn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Qe(Po,wn),wn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Qe(Po,wn),wn|=c;return Xt(r,s,h,a),s.child}function Lg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Ph(r,s,a,c,h){var g=nn(a)?ls:Bt.current;return g=vo(s,g),So(s,h),a=vh(r,s,a,c,g,h),c=wh(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Ur(r,s,h)):(et&&c&&th(s),s.flags|=1,Xt(r,s,a,h),s.child)}function Og(r,s,a,c,h){if(nn(a)){var g=!0;Au(s)}else g=!1;if(So(s,h),s.stateNode===null)Hu(r,s),Ig(s,a,c),Ch(s,a,c,h),c=!0;else if(r===null){var w=s.stateNode,I=s.memoizedProps;w.props=I;var P=w.context,j=a.contextType;typeof j=="object"&&j!==null?j=bn(j):(j=nn(a)?ls:Bt.current,j=vo(s,j));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==c||P!==j)&&Sg(s,w,c,j),yi=!1;var Y=s.memoizedState;w.state=Y,Ou(s,c,w,h),P=s.memoizedState,I!==c||Y!==P||tn.current||yi?(typeof J=="function"&&(Sh(s,a,J,c),P=s.memoizedState),(I=yi||Tg(s,a,I,c,Y,P,j))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),w.props=c,w.state=P,w.context=j,c=I):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,Xm(r,s),I=s.memoizedProps,j=s.type===s.elementType?I:Qn(s.type,I),w.props=j,Z=s.pendingProps,Y=w.context,P=a.contextType,typeof P=="object"&&P!==null?P=bn(P):(P=nn(a)?ls:Bt.current,P=vo(s,P));var se=a.getDerivedStateFromProps;(J=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==Z||Y!==P)&&Sg(s,w,c,P),yi=!1,Y=s.memoizedState,w.state=Y,Ou(s,c,w,h);var ue=s.memoizedState;I!==Z||Y!==ue||tn.current||yi?(typeof se=="function"&&(Sh(s,a,se,c),ue=s.memoizedState),(j=yi||Tg(s,a,j,c,Y,ue,P)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ue,P),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ue,P)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ue),w.props=c,w.state=ue,w.context=P,c=j):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),c=!1)}return Rh(r,s,a,c,g,h)}function Rh(r,s,a,c,h,g){Lg(r,s);var w=(s.flags&128)!==0;if(!c&&!w)return h&&Bm(s,a,!1),Ur(r,s,g);c=s.stateNode,iT.current=s;var I=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&w?(s.child=To(s,r.child,null,g),s.child=To(s,null,I,g)):Xt(r,s,I,g),s.memoizedState=c.state,h&&Bm(s,a,!0),s.child}function Vg(r){var s=r.stateNode;s.pendingContext?Fm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Fm(r,s.context,!1),hh(r,s.containerInfo)}function Mg(r,s,a,c,h){return Eo(),sh(h),s.flags|=256,Xt(r,s,a,c),s.child}var bh={dehydrated:null,treeContext:null,retryLane:0};function xh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fg(r,s,a){var c=s.pendingProps,h=nt.current,g=!1,w=(s.flags&128)!==0,I;if((I=w)||(I=r!==null&&r.memoizedState===null?!1:(h&2)!==0),I?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Qe(nt,h&1),r===null)return ih(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=c.children,r=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=nc(w,c,0,null),r=vs(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=xh(a),s.memoizedState=bh,r):Nh(s,w));if(h=r.memoizedState,h!==null&&(I=h.dehydrated,I!==null))return sT(r,s,w,c,I,h,a);if(g){g=c.fallback,w=s.mode,h=r.child,I=h.sibling;var P={mode:"hidden",children:c.children};return!(w&1)&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=P,s.deletions=null):(c=Si(h,P),c.subtreeFlags=h.subtreeFlags&14680064),I!==null?g=Si(I,g):(g=vs(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=r.child.memoizedState,w=w===null?xh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=bh,c}return g=r.child,r=g.sibling,c=Si(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function Nh(r,s){return s=nc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function $u(r,s,a,c){return c!==null&&sh(c),To(s,r.child,null,a),r=Nh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function sT(r,s,a,c,h,g,w){if(a)return s.flags&256?(s.flags&=-257,c=Ah(Error(t(422))),$u(r,s,w,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,h=s.mode,c=nc({mode:"visible",children:c.children},h,0,null),g=vs(g,h,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&To(s,r.child,null,w),s.child.memoizedState=xh(w),s.memoizedState=bh,g);if(!(s.mode&1))return $u(r,s,w,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var I=c.dgst;return c=I,g=Error(t(419)),c=Ah(g,c,void 0),$u(r,s,w,c)}if(I=(w&r.childLanes)!==0,rn||I){if(c=kt,c!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|w)?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,Mr(r,h),Jn(c,r,h,-1))}return Gh(),c=Ah(Error(t(421))),$u(r,s,w,c)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=vT.bind(null,r),h._reactRetry=s,null):(r=g.treeContext,vn=fi(h.nextSibling),yn=s,et=!0,Gn=null,r!==null&&(Pn[Rn++]=Or,Pn[Rn++]=Vr,Pn[Rn++]=us,Or=r.id,Vr=r.overflow,us=s),s=Nh(s,c.children),s.flags|=4096,s)}function Ug(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),uh(r.return,s,a)}function Dh(r,s,a,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=h)}function Bg(r,s,a){var c=s.pendingProps,h=c.revealOrder,g=c.tail;if(Xt(r,s,c.children,a),c=nt.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ug(r,a,s);else if(r.tag===19)Ug(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Qe(nt,c),!(s.mode&1))s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&Vu(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Dh(s,!1,h,a,g);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Vu(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}Dh(s,!0,a,null,g);break;case"together":Dh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ur(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ps|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Si(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Si(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function oT(r,s,a){switch(s.tag){case 3:Vg(s),Eo();break;case 5:eg(s);break;case 1:nn(s.type)&&Au(s);break;case 4:hh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;Qe(Nu,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Qe(nt,nt.current&1),s.flags|=128,null):a&s.child.childLanes?Fg(r,s,a):(Qe(nt,nt.current&1),r=Ur(r,s,a),r!==null?r.sibling:null);Qe(nt,nt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return Bg(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(nt,nt.current),c)break;return null;case 22:case 23:return s.lanes=0,Dg(r,s,a)}return Ur(r,s,a)}var jg,Lh,zg,$g;jg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Lh=function(){},zg=function(r,s,a,c){var h=r.memoizedProps;if(h!==c){r=s.stateNode,hs(cr.current);var g=null;switch(a){case"input":h=qi(r,h),c=qi(r,c),g=[];break;case"select":h=oe({},h,{value:void 0}),c=oe({},c,{value:void 0}),g=[];break;case"textarea":h=ha(r,h),c=ha(r,c),g=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Iu)}va(a,c);var w;a=null;for(j in h)if(!c.hasOwnProperty(j)&&h.hasOwnProperty(j)&&h[j]!=null)if(j==="style"){var I=h[j];for(w in I)I.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?g||(g=[]):(g=g||[]).push(j,null));for(j in c){var P=c[j];if(I=h!=null?h[j]:void 0,c.hasOwnProperty(j)&&P!==I&&(P!=null||I!=null))if(j==="style")if(I){for(w in I)!I.hasOwnProperty(w)||P&&P.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in P)P.hasOwnProperty(w)&&I[w]!==P[w]&&(a||(a={}),a[w]=P[w])}else a||(g||(g=[]),g.push(j,a)),a=P;else j==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(g=g||[]).push(j,P)):j==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(j,""+P):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(o.hasOwnProperty(j)?(P!=null&&j==="onScroll"&&Xe("scroll",r),g||I===P||(g=[])):(g=g||[]).push(j,P))}a&&(g=g||[]).push("style",a);var j=g;(s.updateQueue=j)&&(s.flags|=4)}},$g=function(r,s,a,c){a!==c&&(s.flags|=4)};function Ja(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function zt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function aT(r,s,a){var c=s.pendingProps;switch(nh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return nn(s.type)&&Cu(),zt(s),null;case 3:return c=s.stateNode,Co(),Je(tn),Je(Bt),mh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(bu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Gn!==null&&(qh(Gn),Gn=null))),Lh(r,s),zt(s),null;case 5:fh(s);var h=hs(Ka.current);if(a=s.type,r!==null&&s.stateNode!=null)zg(r,s,a,c,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return zt(s),null}if(r=hs(cr.current),bu(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[ur]=s,c[za]=g,r=(s.mode&1)!==0,a){case"dialog":Xe("cancel",c),Xe("close",c);break;case"iframe":case"object":case"embed":Xe("load",c);break;case"video":case"audio":for(h=0;h<Ua.length;h++)Xe(Ua[h],c);break;case"source":Xe("error",c);break;case"img":case"image":case"link":Xe("error",c),Xe("load",c);break;case"details":Xe("toggle",c);break;case"input":Us(c,g),Xe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Xe("invalid",c);break;case"textarea":js(c,g),Xe("invalid",c)}va(a,g),h=null;for(var w in g)if(g.hasOwnProperty(w)){var I=g[w];w==="children"?typeof I=="string"?c.textContent!==I&&(g.suppressHydrationWarning!==!0&&Tu(c.textContent,I,r),h=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(g.suppressHydrationWarning!==!0&&Tu(c.textContent,I,r),h=["children",""+I]):o.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&Xe("scroll",c)}switch(a){case"input":Ir(c),Gl(c,g,!0);break;case"textarea":Ir(c),fa(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Iu)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(a,{is:c.is}):(r=w.createElement(a),a==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,a),r[ur]=s,r[za]=c,jg(r,s,!1,!1),s.stateNode=r;e:{switch(w=wa(a,c),a){case"dialog":Xe("cancel",r),Xe("close",r),h=c;break;case"iframe":case"object":case"embed":Xe("load",r),h=c;break;case"video":case"audio":for(h=0;h<Ua.length;h++)Xe(Ua[h],r);h=c;break;case"source":Xe("error",r),h=c;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),h=c;break;case"details":Xe("toggle",r),h=c;break;case"input":Us(r,c),h=qi(r,c),Xe("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=oe({},c,{value:void 0}),Xe("invalid",r);break;case"textarea":js(r,c),h=ha(r,c),Xe("invalid",r);break;default:h=c}va(a,h),I=h;for(g in I)if(I.hasOwnProperty(g)){var P=I[g];g==="style"?ga(r,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&pa(r,P)):g==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&ni(r,P):typeof P=="number"&&ni(r,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?P!=null&&g==="onScroll"&&Xe("scroll",r):P!=null&&ie(r,g,P,w))}switch(a){case"input":Ir(r),Gl(r,c,!1);break;case"textarea":Ir(r),fa(r);break;case"option":c.value!=null&&r.setAttribute("value",""+ze(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?Cr(r,!!c.multiple,g,!1):c.defaultValue!=null&&Cr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=Iu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zt(s),null;case 6:if(r&&s.stateNode!=null)$g(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=hs(Ka.current),hs(cr.current),bu(s)){if(c=s.stateNode,a=s.memoizedProps,c[ur]=s,(g=c.nodeValue!==a)&&(r=yn,r!==null))switch(r.tag){case 3:Tu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Tu(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[ur]=s,s.stateNode=c}return zt(s),null;case 13:if(Je(nt),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&vn!==null&&s.mode&1&&!(s.flags&128))Wm(),Eo(),s.flags|=98560,g=!1;else if(g=bu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ur]=s}else Eo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;zt(s),g=!1}else Gn!==null&&(qh(Gn),Gn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||nt.current&1?_t===0&&(_t=3):Gh())),s.updateQueue!==null&&(s.flags|=4),zt(s),null);case 4:return Co(),Lh(r,s),r===null&&Ba(s.stateNode.containerInfo),zt(s),null;case 10:return lh(s.type._context),zt(s),null;case 17:return nn(s.type)&&Cu(),zt(s),null;case 19:if(Je(nt),g=s.memoizedState,g===null)return zt(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)Ja(g,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Vu(r),w!==null){for(s.flags|=128,Ja(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Qe(nt,nt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ge()>Ro&&(s.flags|=128,c=!0,Ja(g,!1),s.lanes=4194304)}else{if(!c)if(r=Vu(w),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ja(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!et)return zt(s),null}else 2*Ge()-g.renderingStartTime>Ro&&a!==1073741824&&(s.flags|=128,c=!0,Ja(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ge(),s.sibling=null,a=nt.current,Qe(nt,c?a&1|2:a&1),s):(zt(s),null);case 22:case 23:return Kh(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?wn&1073741824&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function lT(r,s){switch(nh(s),s.tag){case 1:return nn(s.type)&&Cu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Co(),Je(tn),Je(Bt),mh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return fh(s),null;case 13:if(Je(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Eo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(nt),null;case 4:return Co(),null;case 10:return lh(s.type._context),null;case 22:case 23:return Kh(),null;case 24:return null;default:return null}}var qu=!1,$t=!1,uT=typeof WeakSet=="function"?WeakSet:Set,le=null;function ko(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(r,s,c)}else a.current=null}function Oh(r,s,a){try{a()}catch(c){st(r,s,c)}}var Hg=!1;function cT(r,s){if(Kd=ci,r=Tm(),Ud(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,I=-1,P=-1,j=0,J=0,Z=r,Y=null;t:for(;;){for(var se;Z!==a||h!==0&&Z.nodeType!==3||(I=w+h),Z!==g||c!==0&&Z.nodeType!==3||(P=w+c),Z.nodeType===3&&(w+=Z.nodeValue.length),(se=Z.firstChild)!==null;)Y=Z,Z=se;for(;;){if(Z===r)break t;if(Y===a&&++j===h&&(I=w),Y===g&&++J===c&&(P=w),(se=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=se}a=I===-1||P===-1?null:{start:I,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:r,selectionRange:a},ci=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var ue=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,ut=ue.memoizedState,M=s.stateNode,x=M.getSnapshotBeforeUpdate(s.elementType===s.type?ce:Qn(s.type,ce),ut);M.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){st(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return ue=Hg,Hg=!1,ue}function Za(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var g=h.destroy;h.destroy=void 0,g!==void 0&&Oh(s,a,g)}h=h.next}while(h!==c)}}function Wu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Vh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function qg(r){var s=r.alternate;s!==null&&(r.alternate=null,qg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ur],delete s[za],delete s[Jd],delete s[WE],delete s[KE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Wg(r){return r.tag===5||r.tag===3||r.tag===4}function Kg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Wg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Mh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Iu));else if(c!==4&&(r=r.child,r!==null))for(Mh(r,s,a),r=r.sibling;r!==null;)Mh(r,s,a),r=r.sibling}function Fh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Fh(r,s,a),r=r.sibling;r!==null;)Fh(r,s,a),r=r.sibling}var Dt=null,Yn=!1;function wi(r,s,a){for(a=a.child;a!==null;)Gg(r,s,a),a=a.sibling}function Gg(r,s,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(es,a)}catch{}switch(a.tag){case 5:$t||ko(a,s);case 6:var c=Dt,h=Yn;Dt=null,wi(r,s,a),Dt=c,Yn=h,Dt!==null&&(Yn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(Yn?(r=Dt,a=a.stateNode,r.nodeType===8?Xd(r.parentNode,a):r.nodeType===1&&Xd(r,a),qn(r)):Xd(Dt,a.stateNode));break;case 4:c=Dt,h=Yn,Dt=a.stateNode.containerInfo,Yn=!0,wi(r,s,a),Dt=c,Yn=h;break;case 0:case 11:case 14:case 15:if(!$t&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var g=h,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Oh(a,s,w),h=h.next}while(h!==c)}wi(r,s,a);break;case 1:if(!$t&&(ko(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){st(a,s,I)}wi(r,s,a);break;case 21:wi(r,s,a);break;case 22:a.mode&1?($t=(c=$t)||a.memoizedState!==null,wi(r,s,a),$t=c):wi(r,s,a);break;default:wi(r,s,a)}}function Qg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new uT),s.forEach(function(c){var h=wT.bind(null,r,c);a.has(c)||(a.add(c),c.then(h,h))})}}function Xn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var g=r,w=s,I=w;e:for(;I!==null;){switch(I.tag){case 5:Dt=I.stateNode,Yn=!1;break e;case 3:Dt=I.stateNode.containerInfo,Yn=!0;break e;case 4:Dt=I.stateNode.containerInfo,Yn=!0;break e}I=I.return}if(Dt===null)throw Error(t(160));Gg(g,w,h),Dt=null,Yn=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(j){st(h,s,j)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Yg(s,r),s=s.sibling}function Yg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xn(s,r),hr(r),c&4){try{Za(3,r,r.return),Wu(3,r)}catch(ce){st(r,r.return,ce)}try{Za(5,r,r.return)}catch(ce){st(r,r.return,ce)}}break;case 1:Xn(s,r),hr(r),c&512&&a!==null&&ko(a,a.return);break;case 5:if(Xn(s,r),hr(r),c&512&&a!==null&&ko(a,a.return),r.flags&32){var h=r.stateNode;try{ni(h,"")}catch(ce){st(r,r.return,ce)}}if(c&4&&(h=r.stateNode,h!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,I=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{I==="input"&&g.type==="radio"&&g.name!=null&&ca(h,g),wa(I,w);var j=wa(I,g);for(w=0;w<P.length;w+=2){var J=P[w],Z=P[w+1];J==="style"?ga(h,Z):J==="dangerouslySetInnerHTML"?pa(h,Z):J==="children"?ni(h,Z):ie(h,J,Z,j)}switch(I){case"input":da(h,g);break;case"textarea":zs(h,g);break;case"select":var Y=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?Cr(h,!!g.multiple,se,!1):Y!==!!g.multiple&&(g.defaultValue!=null?Cr(h,!!g.multiple,g.defaultValue,!0):Cr(h,!!g.multiple,g.multiple?[]:"",!1))}h[za]=g}catch(ce){st(r,r.return,ce)}}break;case 6:if(Xn(s,r),hr(r),c&4){if(r.stateNode===null)throw Error(t(162));h=r.stateNode,g=r.memoizedProps;try{h.nodeValue=g}catch(ce){st(r,r.return,ce)}}break;case 3:if(Xn(s,r),hr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{qn(s.containerInfo)}catch(ce){st(r,r.return,ce)}break;case 4:Xn(s,r),hr(r);break;case 13:Xn(s,r),hr(r),h=r.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(jh=Ge())),c&4&&Qg(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?($t=(j=$t)||J,Xn(s,r),$t=j):Xn(s,r),hr(r),c&8192){if(j=r.memoizedState!==null,(r.stateNode.isHidden=j)&&!J&&r.mode&1)for(le=r,J=r.child;J!==null;){for(Z=le=J;le!==null;){switch(Y=le,se=Y.child,Y.tag){case 0:case 11:case 14:case 15:Za(4,Y,Y.return);break;case 1:ko(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Y,a=Y.return;try{s=c,ue.props=s.memoizedProps,ue.state=s.memoizedState,ue.componentWillUnmount()}catch(ce){st(c,a,ce)}}break;case 5:ko(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Zg(Z);continue}}se!==null?(se.return=Y,le=se):Zg(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{h=Z.stateNode,j?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(I=Z.stateNode,P=Z.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=ma("display",w))}catch(ce){st(r,r.return,ce)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=j?"":Z.memoizedProps}catch(ce){st(r,r.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Xn(s,r),hr(r),c&4&&Qg(r);break;case 21:break;default:Xn(s,r),hr(r)}}function hr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Wg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(ni(h,""),c.flags&=-33);var g=Kg(r);Fh(r,g,h);break;case 3:case 4:var w=c.stateNode.containerInfo,I=Kg(r);Mh(r,I,w);break;default:throw Error(t(161))}}catch(P){st(r,r.return,P)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function dT(r,s,a){le=r,Xg(r)}function Xg(r,s,a){for(var c=(r.mode&1)!==0;le!==null;){var h=le,g=h.child;if(h.tag===22&&c){var w=h.memoizedState!==null||qu;if(!w){var I=h.alternate,P=I!==null&&I.memoizedState!==null||$t;I=qu;var j=$t;if(qu=w,($t=P)&&!j)for(le=h;le!==null;)w=le,P=w.child,w.tag===22&&w.memoizedState!==null?ey(h):P!==null?(P.return=w,le=P):ey(h);for(;g!==null;)le=g,Xg(g),g=g.sibling;le=h,qu=I,$t=j}Jg(r)}else h.subtreeFlags&8772&&g!==null?(g.return=h,le=g):Jg(r)}}function Jg(r){for(;le!==null;){var s=le;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:$t||Wu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!$t)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:Qn(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Zm(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Zm(s,w,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var j=s.alternate;if(j!==null){var J=j.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&qn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||s.flags&512&&Vh(s)}catch(Y){st(s,s.return,Y)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function Zg(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function ey(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Wu(4,s)}catch(P){st(s,a,P)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(P){st(s,h,P)}}var g=s.return;try{Vh(s)}catch(P){st(s,g,P)}break;case 5:var w=s.return;try{Vh(s)}catch(P){st(s,w,P)}}}catch(P){st(s,s.return,P)}if(s===r){le=null;break}var I=s.sibling;if(I!==null){I.return=s.return,le=I;break}le=s.return}}var hT=Math.ceil,Ku=he.ReactCurrentDispatcher,Uh=he.ReactCurrentOwner,Nn=he.ReactCurrentBatchConfig,Fe=0,kt=null,pt=null,Lt=0,wn=0,Po=pi(0),_t=0,el=null,ps=0,Gu=0,Bh=0,tl=null,sn=null,jh=0,Ro=1/0,Br=null,Qu=!1,zh=null,_i=null,Yu=!1,Ei=null,Xu=0,nl=0,$h=null,Ju=-1,Zu=0;function Jt(){return Fe&6?Ge():Ju!==-1?Ju:Ju=Ge()}function Ti(r){return r.mode&1?Fe&2&&Lt!==0?Lt&-Lt:QE.transition!==null?(Zu===0&&(Zu=ns()),Zu):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:ba(r.type)),r):1}function Jn(r,s,a,c){if(50<nl)throw nl=0,$h=null,Error(t(185));oi(r,a,c),(!(Fe&2)||r!==kt)&&(r===kt&&(!(Fe&2)&&(Gu|=a),_t===4&&Ii(r,Lt)),on(r,c),a===1&&Fe===0&&!(s.mode&1)&&(Ro=Ge()+500,ku&&gi()))}function on(r,s){var a=r.callbackNode;Pr(r,s);var c=ts(r,r===kt?Lt:0);if(c===0)a!==null&&Ca(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Ca(a),s===1)r.tag===0?GE(ny.bind(null,r)):jm(ny.bind(null,r)),HE(function(){!(Fe&6)&&gi()}),a=null;else{switch(li(c)){case 1:a=Zi;break;case 4:a=ri;break;case 16:a=Cn;break;case 536870912:a=Zl;break;default:a=Cn}a=cy(a,ty.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function ty(r,s){if(Ju=-1,Zu=0,Fe&6)throw Error(t(327));var a=r.callbackNode;if(bo()&&r.callbackNode!==a)return null;var c=ts(r,r===kt?Lt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=ec(r,c);else{s=c;var h=Fe;Fe|=2;var g=iy();(kt!==r||Lt!==s)&&(Br=null,Ro=Ge()+500,gs(r,s));do try{mT();break}catch(I){ry(r,I)}while(!0);ah(),Ku.current=g,Fe=h,pt!==null?s=0:(kt=null,Lt=0,s=_t)}if(s!==0){if(s===2&&(h=pn(r),h!==0&&(c=h,s=Hh(r,h))),s===1)throw a=el,gs(r,0),Ii(r,c),on(r,Ge()),a;if(s===6)Ii(r,c);else{if(h=r.current.alternate,!(c&30)&&!fT(h)&&(s=ec(r,c),s===2&&(g=pn(r),g!==0&&(c=g,s=Hh(r,g))),s===1))throw a=el,gs(r,0),Ii(r,c),on(r,Ge()),a;switch(r.finishedWork=h,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:ys(r,sn,Br);break;case 3:if(Ii(r,c),(c&130023424)===c&&(s=jh+500-Ge(),10<s)){if(ts(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){Jt(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=Yd(ys.bind(null,r,sn,Br),s);break}ys(r,sn,Br);break;case 4:if(Ii(r,c),(c&4194240)===c)break;for(s=r.eventTimes,h=-1;0<c;){var w=31-Qt(c);g=1<<w,w=s[w],w>h&&(h=w),c&=~g}if(c=h,c=Ge()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*hT(c/1960))-c,10<c){r.timeoutHandle=Yd(ys.bind(null,r,sn,Br),c);break}ys(r,sn,Br);break;case 5:ys(r,sn,Br);break;default:throw Error(t(329))}}}return on(r,Ge()),r.callbackNode===a?ty.bind(null,r):null}function Hh(r,s){var a=tl;return r.current.memoizedState.isDehydrated&&(gs(r,s).flags|=256),r=ec(r,s),r!==2&&(s=sn,sn=a,s!==null&&qh(s)),r}function qh(r){sn===null?sn=r:sn.push.apply(sn,r)}function fT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],g=h.getSnapshot;h=h.value;try{if(!Kn(g(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ii(r,s){for(s&=~Bh,s&=~Gu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Qt(s),c=1<<a;r[a]=-1,s&=~c}}function ny(r){if(Fe&6)throw Error(t(327));bo();var s=ts(r,0);if(!(s&1))return on(r,Ge()),null;var a=ec(r,s);if(r.tag!==0&&a===2){var c=pn(r);c!==0&&(s=c,a=Hh(r,c))}if(a===1)throw a=el,gs(r,0),Ii(r,s),on(r,Ge()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ys(r,sn,Br),on(r,Ge()),null}function Wh(r,s){var a=Fe;Fe|=1;try{return r(s)}finally{Fe=a,Fe===0&&(Ro=Ge()+500,ku&&gi())}}function ms(r){Ei!==null&&Ei.tag===0&&!(Fe&6)&&bo();var s=Fe;Fe|=1;var a=Nn.transition,c=Ne;try{if(Nn.transition=null,Ne=1,r)return r()}finally{Ne=c,Nn.transition=a,Fe=s,!(Fe&6)&&gi()}}function Kh(){wn=Po.current,Je(Po)}function gs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,$E(a)),pt!==null)for(a=pt.return;a!==null;){var c=a;switch(nh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Cu();break;case 3:Co(),Je(tn),Je(Bt),mh();break;case 5:fh(c);break;case 4:Co();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:lh(c.type._context);break;case 22:case 23:Kh()}a=a.return}if(kt=r,pt=r=Si(r.current,null),Lt=wn=s,_t=0,el=null,Bh=Gu=ps=0,sn=tl=null,ds!==null){for(s=0;s<ds.length;s++)if(a=ds[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=h,c.next=w}a.pending=c}ds=null}return r}function ry(r,s){do{var a=pt;try{if(ah(),Mu.current=ju,Fu){for(var c=rt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Fu=!1}if(fs=0,At=wt=rt=null,Ga=!1,Qa=0,Uh.current=null,a===null||a.return===null){_t=1,el=s,pt=null;break}e:{var g=r,w=a.return,I=a,P=s;if(s=Lt,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var j=P,J=I,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Pg(w);if(se!==null){se.flags&=-257,Rg(se,w,I,g,s),se.mode&1&&kg(g,j,s),s=se,P=j;var ue=s.updateQueue;if(ue===null){var ce=new Set;ce.add(P),s.updateQueue=ce}else ue.add(P);break e}else{if(!(s&1)){kg(g,j,s),Gh();break e}P=Error(t(426))}}else if(et&&I.mode&1){var ut=Pg(w);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Rg(ut,w,I,g,s),sh(Ao(P,I));break e}}g=P=Ao(P,I),_t!==4&&(_t=2),tl===null?tl=[g]:tl.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var M=Cg(g,P,s);Jm(g,M);break e;case 1:I=P;var x=g.type,U=g.stateNode;if(!(g.flags&128)&&(typeof x.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(_i===null||!_i.has(U)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=Ag(g,I,s);Jm(g,te);break e}}g=g.return}while(g!==null)}oy(a)}catch(de){s=de,pt===a&&a!==null&&(pt=a=a.return);continue}break}while(!0)}function iy(){var r=Ku.current;return Ku.current=ju,r===null?ju:r}function Gh(){(_t===0||_t===3||_t===2)&&(_t=4),kt===null||!(ps&268435455)&&!(Gu&268435455)||Ii(kt,Lt)}function ec(r,s){var a=Fe;Fe|=2;var c=iy();(kt!==r||Lt!==s)&&(Br=null,gs(r,s));do try{pT();break}catch(h){ry(r,h)}while(!0);if(ah(),Fe=a,Ku.current=c,pt!==null)throw Error(t(261));return kt=null,Lt=0,_t}function pT(){for(;pt!==null;)sy(pt)}function mT(){for(;pt!==null&&!Xl();)sy(pt)}function sy(r){var s=uy(r.alternate,r,wn);r.memoizedProps=r.pendingProps,s===null?oy(r):pt=s,Uh.current=null}function oy(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=lT(a,s),a!==null){a.flags&=32767,pt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,pt=null;return}}else if(a=aT(a,s,wn),a!==null){pt=a;return}if(s=s.sibling,s!==null){pt=s;return}pt=s=r}while(s!==null);_t===0&&(_t=5)}function ys(r,s,a){var c=Ne,h=Nn.transition;try{Nn.transition=null,Ne=1,gT(r,s,a,c)}finally{Nn.transition=h,Ne=c}return null}function gT(r,s,a,c){do bo();while(Ei!==null);if(Fe&6)throw Error(t(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(We(r,g),r===kt&&(pt=kt=null,Lt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Yu||(Yu=!0,cy(Cn,function(){return bo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Nn.transition,Nn.transition=null;var w=Ne;Ne=1;var I=Fe;Fe|=4,Uh.current=null,cT(r,a),Yg(a,r),VE(Gd),ci=!!Kd,Gd=Kd=null,r.current=a,dT(a),xd(),Fe=I,Ne=w,Nn.transition=g}else r.current=a;if(Yu&&(Yu=!1,Ei=r,Xu=h),g=r.pendingLanes,g===0&&(_i=null),eu(a.stateNode),on(r,Ge()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(Qu)throw Qu=!1,r=zh,zh=null,r;return Xu&1&&r.tag!==0&&bo(),g=r.pendingLanes,g&1?r===$h?nl++:(nl=0,$h=r):nl=0,gi(),null}function bo(){if(Ei!==null){var r=li(Xu),s=Nn.transition,a=Ne;try{if(Nn.transition=null,Ne=16>r?16:r,Ei===null)var c=!1;else{if(r=Ei,Ei=null,Xu=0,Fe&6)throw Error(t(331));var h=Fe;for(Fe|=4,le=r.current;le!==null;){var g=le,w=g.child;if(le.flags&16){var I=g.deletions;if(I!==null){for(var P=0;P<I.length;P++){var j=I[P];for(le=j;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:Za(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,le=Z;else for(;le!==null;){J=le;var Y=J.sibling,se=J.return;if(qg(J),J===j){le=null;break}if(Y!==null){Y.return=se,le=Y;break}le=se}}}var ue=g.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var ut=ce.sibling;ce.sibling=null,ce=ut}while(ce!==null)}}le=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,le=w;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Za(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,le=M;break e}le=g.return}}var x=r.current;for(le=x;le!==null;){w=le;var U=w.child;if(w.subtreeFlags&2064&&U!==null)U.return=w,le=U;else e:for(w=x;le!==null;){if(I=le,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Wu(9,I)}}catch(de){st(I,I.return,de)}if(I===w){le=null;break e}var te=I.sibling;if(te!==null){te.return=I.return,le=te;break e}le=I.return}}if(Fe=h,gi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(es,r)}catch{}c=!0}return c}finally{Ne=a,Nn.transition=s}}return!1}function ay(r,s,a){s=Ao(a,s),s=Cg(r,s,1),r=vi(r,s,1),s=Jt(),r!==null&&(oi(r,1,s),on(r,s))}function st(r,s,a){if(r.tag===3)ay(r,r,a);else for(;s!==null;){if(s.tag===3){ay(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_i===null||!_i.has(c))){r=Ao(a,r),r=Ag(s,r,1),s=vi(s,r,1),r=Jt(),s!==null&&(oi(s,1,r),on(s,r));break}}s=s.return}}function yT(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=Jt(),r.pingedLanes|=r.suspendedLanes&a,kt===r&&(Lt&a)===a&&(_t===4||_t===3&&(Lt&130023424)===Lt&&500>Ge()-jh?gs(r,0):Bh|=a),on(r,s)}function ly(r,s){s===0&&(r.mode&1?(s=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):s=1);var a=Jt();r=Mr(r,s),r!==null&&(oi(r,s,a),on(r,a))}function vT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),ly(r,a)}function wT(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),ly(r,a)}var uy;uy=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return rn=!1,oT(r,s,a);rn=!!(r.flags&131072)}else rn=!1,et&&s.flags&1048576&&zm(s,Ru,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Hu(r,s),r=s.pendingProps;var h=vo(s,Bt.current);So(s,a),h=vh(null,s,c,r,h,a);var g=wh();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(c)?(g=!0,Au(s)):g=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,dh(s),h.updater=zu,s.stateNode=h,h._reactInternals=s,Ch(s,c,r,a),s=Rh(null,s,c,!0,g,a)):(s.tag=0,et&&g&&th(s),Xt(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Hu(r,s),r=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=ET(c),r=Qn(c,r),h){case 0:s=Ph(null,s,c,r,a);break e;case 1:s=Og(null,s,c,r,a);break e;case 11:s=bg(null,s,c,r,a);break e;case 14:s=xg(null,s,c,Qn(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Qn(c,h),Ph(r,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Qn(c,h),Og(r,s,c,h,a);case 3:e:{if(Vg(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,h=g.element,Xm(r,s),Ou(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){h=Ao(Error(t(423)),s),s=Mg(r,s,c,a,h);break e}else if(c!==h){h=Ao(Error(t(424)),s),s=Mg(r,s,c,a,h);break e}else for(vn=fi(s.stateNode.containerInfo.firstChild),yn=s,et=!0,Gn=null,a=Qm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Eo(),c===h){s=Ur(r,s,a);break e}Xt(r,s,c,a)}s=s.child}return s;case 5:return eg(s),r===null&&ih(s),c=s.type,h=s.pendingProps,g=r!==null?r.memoizedProps:null,w=h.children,Qd(c,h)?w=null:g!==null&&Qd(c,g)&&(s.flags|=32),Lg(r,s),Xt(r,s,w,a),s.child;case 6:return r===null&&ih(s),null;case 13:return Fg(r,s,a);case 4:return hh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=To(s,null,c,a):Xt(r,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Qn(c,h),bg(r,s,c,h,a);case 7:return Xt(r,s,s.pendingProps,a),s.child;case 8:return Xt(r,s,s.pendingProps.children,a),s.child;case 12:return Xt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,g=s.memoizedProps,w=h.value,Qe(Nu,c._currentValue),c._currentValue=w,g!==null)if(Kn(g.value,w)){if(g.children===h.children&&!tn.current){s=Ur(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var I=g.dependencies;if(I!==null){w=g.child;for(var P=I.firstContext;P!==null;){if(P.context===c){if(g.tag===1){P=Fr(-1,a&-a),P.tag=2;var j=g.updateQueue;if(j!==null){j=j.shared;var J=j.pending;J===null?P.next=P:(P.next=J.next,J.next=P),j.pending=P}}g.lanes|=a,P=g.alternate,P!==null&&(P.lanes|=a),uh(g.return,a,s),I.lanes|=a;break}P=P.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,I=w.alternate,I!==null&&(I.lanes|=a),uh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Xt(r,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,So(s,a),h=bn(h),c=c(h),s.flags|=1,Xt(r,s,c,a),s.child;case 14:return c=s.type,h=Qn(c,s.pendingProps),h=Qn(c.type,h),xg(r,s,c,h,a);case 15:return Ng(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Qn(c,h),Hu(r,s),s.tag=1,nn(c)?(r=!0,Au(s)):r=!1,So(s,a),Ig(s,c,h),Ch(s,c,h,a),Rh(null,s,c,!0,r,a);case 19:return Bg(r,s,a);case 22:return Dg(r,s,a)}throw Error(t(156,s.tag))};function cy(r,s){return Ys(r,s)}function _T(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(r,s,a,c){return new _T(r,s,a,c)}function Qh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ET(r){if(typeof r=="function")return Qh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===Ft)return 14}return 2}function Si(r,s){var a=r.alternate;return a===null?(a=Dn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function tc(r,s,a,c,h,g){var w=2;if(c=r,typeof r=="function")Qh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case b:return vs(a.children,h,g,s);case T:w=8,h|=8;break;case C:return r=Dn(12,a,s,h|2),r.elementType=C,r.lanes=g,r;case k:return r=Dn(13,a,s,h),r.elementType=k,r.lanes=g,r;case at:return r=Dn(19,a,s,h),r.elementType=at,r.lanes=g,r;case qe:return nc(a,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:w=10;break e;case N:w=9;break e;case O:w=11;break e;case Ft:w=14;break e;case Ut:w=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Dn(w,a,s,h),s.elementType=r,s.type=c,s.lanes=g,s}function vs(r,s,a,c){return r=Dn(7,r,c,s),r.lanes=a,r}function nc(r,s,a,c){return r=Dn(22,r,c,s),r.elementType=qe,r.lanes=a,r.stateNode={isHidden:!1},r}function Yh(r,s,a){return r=Dn(6,r,null,s),r.lanes=a,r}function Xh(r,s,a){return s=Dn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function TT(r,s,a,c,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=si(0),this.expirationTimes=si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Jh(r,s,a,c,h,g,w,I,P){return r=new TT(r,s,a,I,P),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Dn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},dh(g),r}function IT(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function dy(r){if(!r)return mi;r=r._reactInternals;e:{if(Bn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(nn(a))return Um(r,a,s)}return s}function hy(r,s,a,c,h,g,w,I,P){return r=Jh(a,c,!0,r,h,g,w,I,P),r.context=dy(null),a=r.current,c=Jt(),h=Ti(a),g=Fr(c,h),g.callback=s??null,vi(a,g,h),r.current.lanes=h,oi(r,h,c),on(r,c),r}function rc(r,s,a,c){var h=s.current,g=Jt(),w=Ti(h);return a=dy(a),s.context===null?s.context=a:s.pendingContext=a,s=Fr(g,w),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=vi(h,s,w),r!==null&&(Jn(r,h,w,g),Lu(r,h,w)),w}function ic(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function fy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Zh(r,s){fy(r,s),(r=r.alternate)&&fy(r,s)}function ST(){return null}var py=typeof reportError=="function"?reportError:function(r){console.error(r)};function ef(r){this._internalRoot=r}sc.prototype.render=ef.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));rc(r,s,null,null)},sc.prototype.unmount=ef.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ms(function(){rc(null,r,null,null)}),s[Dr]=null}};function sc(r){this._internalRoot=r}sc.prototype.unstable_scheduleHydration=function(r){if(r){var s=su();r={blockedOn:null,target:r,priority:s};for(var a=0;a<sr.length&&s!==0&&s<sr[a].priority;a++);sr.splice(a,0,r),a===0&&lu(r)}};function tf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function oc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function my(){}function CT(r,s,a,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var j=ic(w);g.call(j)}}var w=hy(s,c,r,0,null,!1,!1,"",my);return r._reactRootContainer=w,r[Dr]=w.current,Ba(r.nodeType===8?r.parentNode:r),ms(),w}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var I=c;c=function(){var j=ic(P);I.call(j)}}var P=Jh(r,0,!1,null,null,!1,!1,"",my);return r._reactRootContainer=P,r[Dr]=P.current,Ba(r.nodeType===8?r.parentNode:r),ms(function(){rc(s,P,a,c)}),P}function ac(r,s,a,c,h){var g=a._reactRootContainer;if(g){var w=g;if(typeof h=="function"){var I=h;h=function(){var P=ic(w);I.call(P)}}rc(s,w,r,h)}else w=CT(a,s,r,h,c);return ic(w)}ru=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ii(s.pendingLanes);a!==0&&(ai(s,a|1),on(s,Ge()),!(Fe&6)&&(Ro=Ge()+500,gi()))}break;case 13:ms(function(){var c=Mr(r,1);if(c!==null){var h=Jt();Jn(c,r,1,h)}}),Zh(r,1)}},Zs=function(r){if(r.tag===13){var s=Mr(r,134217728);if(s!==null){var a=Jt();Jn(s,r,134217728,a)}Zh(r,134217728)}},iu=function(r){if(r.tag===13){var s=Ti(r),a=Mr(r,s);if(a!==null){var c=Jt();Jn(a,r,s,c)}Zh(r,s)}},su=function(){return Ne},ou=function(r,s){var a=Ne;try{return Ne=r,s()}finally{Ne=a}},Hs=function(r,s,a){switch(s){case"input":if(da(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var h=Su(c);if(!h)throw Error(t(90));Fs(c),da(c,h)}}}break;case"textarea":zs(r,a);break;case"select":s=a.value,s!=null&&Cr(r,!!a.multiple,s,!1)}},Qi=Wh,Ea=ms;var AT={usingClientEntryPoint:!1,Events:[$a,go,Su,rr,_a,Wh]},rl={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kT={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Sa(r),r===null?null:r.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||ST,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{es=lc.inject(kT),fn=lc}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AT,an.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tf(s))throw Error(t(200));return IT(r,s,null,a)},an.createRoot=function(r,s){if(!tf(r))throw Error(t(299));var a=!1,c="",h=py;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Jh(r,1,!1,null,null,a,!1,c,h),r[Dr]=s.current,Ba(r.nodeType===8?r.parentNode:r),new ef(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Sa(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return ms(r)},an.hydrate=function(r,s,a){if(!oc(s))throw Error(t(200));return ac(null,r,s,!0,a)},an.hydrateRoot=function(r,s,a){if(!tf(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,h=!1,g="",w=py;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=hy(s,null,r,1,a??null,h,!1,g,w),r[Dr]=s.current,Ba(r),c)for(r=0;r<c.length;r++)a=c[r],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new sc(s)},an.render=function(r,s,a){if(!oc(s))throw Error(t(200));return ac(null,r,s,!1,a)},an.unmountComponentAtNode=function(r){if(!oc(r))throw Error(t(40));return r._reactRootContainer?(ms(function(){ac(null,null,r,!1,function(){r._reactRootContainer=null,r[Dr]=null})}),!0):!1},an.unstable_batchedUpdates=Wh,an.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!oc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ac(r,s,a,!1,c)},an.version="18.3.1-next-f1338f8080-20240426",an}var Iy;function OT(){if(Iy)return sf.exports;Iy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sf.exports=LT(),sf.exports}var Sy;function VT(){if(Sy)return uc;Sy=1;var n=OT();return uc.createRoot=n.createRoot,uc.hydrateRoot=n.hydrateRoot,uc}var MT=VT();const FT=()=>Q.jsxs("header",{className:"Header",children:[Q.jsx("img",{src:"./assets/impulsa_blanco.svg",alt:"Logo de Impulsa"}),Q.jsx("h1",{children:"Formulario de Presentación de Proyecto"})]}),UT=()=>Q.jsx("footer",{className:"Footer",children:Q.jsx("img",{src:"./assets/sf_blanco.svg",alt:"Provincia de Santa Fe"})}),_n=n=>Q.jsxs("div",{className:"form-group",children:[Q.jsx("label",{children:n.label}),Q.jsx("input",{className:"input",type:n.text,name:n.name,defaultValue:n.defaultValue})]});var Cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},BT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],d=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(d&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],d=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],d=o+1<n.length,f=d?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,S=(l&3)<<4|f>>4;let A=(f&15)<<2|y>>6,L=y&63;p||(L=64,d||(A=64)),i.push(t[_],t[S],t[A],t[L])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||S==null)throw new jT;const A=l<<2|f>>4;if(i.push(A),y!==64){const L=f<<4&240|y>>2;if(i.push(L),S!==64){const F=y<<6&192|S;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zT=function(n){const e=iw(n);return sw.encodeByteArray(e,!0)},xc=function(n){return zT(n).replace(/\./g,"")},ow=function(n){try{return sw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=()=>$T().__FIREBASE_DEFAULTS__,qT=()=>{if(typeof process>"u"||typeof Cy>"u")return;const n=Cy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},WT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ow(n[1]);return e&&JSON.parse(e)},sd=()=>{try{return HT()||qT()||WT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aw=n=>{var e,t;return(t=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},KT=n=>{const e=aw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},lw=()=>{var n;return(n=sd())===null||n===void 0?void 0:n.config},uw=n=>{var e;return(e=sd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xc(JSON.stringify(t)),xc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function XT(){var n;const e=(n=sd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tI(){const n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nI(){return!XT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rI(){try{return typeof indexedDB=="object"}catch{return!1}}function iI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="FirebaseError";class Jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=sI,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?oI(l,i):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new Jr(o,f,i)}}function oI(n,e){return n.replace(aI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const aI=/\{\$([^}]+)}/g;function lI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],d=e[o];if(Ay(l)&&Ay(d)){if(!Nc(l,d))return!1}else if(l!==d)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Ay(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function al(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function ll(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uI(n,e){const t=new cI(n,e);return t.subscribe.bind(t)}class cI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");dI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=lf),o.error===void 0&&(o.error=lf),o.complete===void 0&&(o.complete=lf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class Ss{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new GT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pI(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&d.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const d=this.instances.get(o);return d&&e(d,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fI(n){return n===_s?void 0:n}function pI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(be||(be={}));const gI={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},yI=be.INFO,vI={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},wI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=vI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xf{constructor(e){this.name=e,this._logLevel=yI,this._logHandler=wI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const _I=(n,e)=>e.some(t=>n instanceof t);let ky,Py;function EI(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TI(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cw=new WeakMap,If=new WeakMap,dw=new WeakMap,uf=new WeakMap,Jf=new WeakMap;function II(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(Li(n.result)),o()},d=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&cw.set(t,n)}).catch(()=>{}),Jf.set(e,n),e}function SI(n){if(If.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});If.set(n,e)}let Sf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return If.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Li(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CI(n){Sf=n(Sf)}function AI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(cf(this),e,...t);return dw.set(i,e.sort?e.sort():[e]),Li(i)}:TI().includes(n)?function(...e){return n.apply(cf(this),e),Li(cw.get(this))}:function(...e){return Li(n.apply(cf(this),e))}}function kI(n){return typeof n=="function"?AI(n):(n instanceof IDBTransaction&&SI(n),_I(n,EI())?new Proxy(n,Sf):n)}function Li(n){if(n instanceof IDBRequest)return II(n);if(uf.has(n))return uf.get(n);const e=kI(n);return e!==n&&(uf.set(n,e),Jf.set(e,n)),e}const cf=n=>Jf.get(n);function PI(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const d=indexedDB.open(n,e),f=Li(d);return i&&d.addEventListener("upgradeneeded",p=>{i(Li(d.result),p.oldVersion,p.newVersion,Li(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const RI=["get","getKey","getAll","getAllKeys","count"],bI=["put","add","delete","clear"],df=new Map;function Ry(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(df.get(e))return df.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=bI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||RI.includes(t)))return;const l=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return df.set(e,l),l}CI(n=>({...n,get:(e,t,i)=>Ry(e,t)||n.get(e,t,i),has:(e,t)=>!!Ry(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function NI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cf="@firebase/app",by="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Xf("@firebase/app"),DI="@firebase/app-compat",LI="@firebase/analytics-compat",OI="@firebase/analytics",VI="@firebase/app-check-compat",MI="@firebase/app-check",FI="@firebase/auth",UI="@firebase/auth-compat",BI="@firebase/database",jI="@firebase/data-connect",zI="@firebase/database-compat",$I="@firebase/functions",HI="@firebase/functions-compat",qI="@firebase/installations",WI="@firebase/installations-compat",KI="@firebase/messaging",GI="@firebase/messaging-compat",QI="@firebase/performance",YI="@firebase/performance-compat",XI="@firebase/remote-config",JI="@firebase/remote-config-compat",ZI="@firebase/storage",e1="@firebase/storage-compat",t1="@firebase/firestore",n1="@firebase/vertexai",r1="@firebase/firestore-compat",i1="firebase",s1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="[DEFAULT]",o1={[Cf]:"fire-core",[DI]:"fire-core-compat",[OI]:"fire-analytics",[LI]:"fire-analytics-compat",[MI]:"fire-app-check",[VI]:"fire-app-check-compat",[FI]:"fire-auth",[UI]:"fire-auth-compat",[BI]:"fire-rtdb",[jI]:"fire-data-connect",[zI]:"fire-rtdb-compat",[$I]:"fire-fn",[HI]:"fire-fn-compat",[qI]:"fire-iid",[WI]:"fire-iid-compat",[KI]:"fire-fcm",[GI]:"fire-fcm-compat",[QI]:"fire-perf",[YI]:"fire-perf-compat",[XI]:"fire-rc",[JI]:"fire-rc-compat",[ZI]:"fire-gcs",[e1]:"fire-gcs-compat",[t1]:"fire-fst",[r1]:"fire-fst-compat",[n1]:"fire-vertex","fire-js":"fire-js",[i1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,a1=new Map,kf=new Map;function xy(n,e){try{n.container.addComponent(e)}catch(t){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zo(n){const e=n.name;if(kf.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;kf.set(e,n);for(const t of Dc.values())xy(t,n);for(const t of a1.values())xy(t,n);return!0}function Zf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new Rl("app","Firebase",l1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=s1;function hw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Af,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Oi.create("bad-app-name",{appName:String(o)});if(t||(t=lw()),!t)throw Oi.create("no-options");const l=Dc.get(o);if(l){if(Nc(t,l.options)&&Nc(i,l.config))return l;throw Oi.create("duplicate-app",{appName:o})}const d=new mI(o);for(const p of kf.values())d.addComponent(p);const f=new u1(t,i,d);return Dc.set(o,f),f}function fw(n=Af){const e=Dc.get(n);if(!e&&n===Af&&lw())return hw();if(!e)throw Oi.create("no-app",{appName:n});return e}function Vi(n,e,t){var i;let o=(i=o1[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(f.join(" "));return}zo(new Ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebase-heartbeat-database",d1=1,yl="firebase-heartbeat-store";let hf=null;function pw(){return hf||(hf=PI(c1,d1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Oi.create("idb-open",{originalErrorMessage:n.message})})),hf}async function h1(n){try{const t=(await pw()).transaction(yl),i=await t.objectStore(yl).get(mw(n));return await t.done,i}catch(e){if(e instanceof Jr)Gr.warn(e.message);else{const t=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(t.message)}}}async function Ny(n,e){try{const i=(await pw()).transaction(yl,"readwrite");await i.objectStore(yl).put(e,mw(n)),await i.done}catch(t){if(t instanceof Jr)Gr.warn(t.message);else{const i=Oi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(i.message)}}}function mw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=1024,p1=30*24*60*60*1e3;class m1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new y1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Dy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const f=new Date(d.date).valueOf();return Date.now()-f<=p1}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Gr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dy(),{heartbeatsToSend:i,unsentEntries:o}=g1(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Gr.warn(t),""}}}function Dy(){return new Date().toISOString().substring(0,10)}function g1(n,e=f1){const t=[];let i=n.slice();for(const o of n){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),Ly(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ly(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class y1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rI()?iI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await h1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ly(n){return xc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n){zo(new Ss("platform-logger",e=>new xI(e),"PRIVATE")),zo(new Ss("heartbeat",e=>new m1(e),"PRIVATE")),Vi(Cf,by,n),Vi(Cf,by,"esm2017"),Vi("fire-js","")}v1("");var w1="firebase",_1="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(w1,_1,"app");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,gw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function C(){}C.prototype=T.prototype,b.D=T.prototype,b.prototype=new C,b.prototype.constructor=b,b.C=function(R,N,O){for(var k=Array(arguments.length-2),at=2;at<arguments.length;at++)k[at-2]=arguments[at];return T.prototype[N].apply(R,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,T,C){C||(C=0);var R=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)R[N]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(N=0;16>N;++N)R[N]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=b.g[0],C=b.g[1],N=b.g[2];var O=b.g[3],k=T+(O^C&(N^O))+R[0]+3614090360&4294967295;T=C+(k<<7&4294967295|k>>>25),k=O+(N^T&(C^N))+R[1]+3905402710&4294967295,O=T+(k<<12&4294967295|k>>>20),k=N+(C^O&(T^C))+R[2]+606105819&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(T^N&(O^T))+R[3]+3250441966&4294967295,C=N+(k<<22&4294967295|k>>>10),k=T+(O^C&(N^O))+R[4]+4118548399&4294967295,T=C+(k<<7&4294967295|k>>>25),k=O+(N^T&(C^N))+R[5]+1200080426&4294967295,O=T+(k<<12&4294967295|k>>>20),k=N+(C^O&(T^C))+R[6]+2821735955&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(T^N&(O^T))+R[7]+4249261313&4294967295,C=N+(k<<22&4294967295|k>>>10),k=T+(O^C&(N^O))+R[8]+1770035416&4294967295,T=C+(k<<7&4294967295|k>>>25),k=O+(N^T&(C^N))+R[9]+2336552879&4294967295,O=T+(k<<12&4294967295|k>>>20),k=N+(C^O&(T^C))+R[10]+4294925233&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(T^N&(O^T))+R[11]+2304563134&4294967295,C=N+(k<<22&4294967295|k>>>10),k=T+(O^C&(N^O))+R[12]+1804603682&4294967295,T=C+(k<<7&4294967295|k>>>25),k=O+(N^T&(C^N))+R[13]+4254626195&4294967295,O=T+(k<<12&4294967295|k>>>20),k=N+(C^O&(T^C))+R[14]+2792965006&4294967295,N=O+(k<<17&4294967295|k>>>15),k=C+(T^N&(O^T))+R[15]+1236535329&4294967295,C=N+(k<<22&4294967295|k>>>10),k=T+(N^O&(C^N))+R[1]+4129170786&4294967295,T=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(T^C))+R[6]+3225465664&4294967295,O=T+(k<<9&4294967295|k>>>23),k=N+(T^C&(O^T))+R[11]+643717713&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^T&(N^O))+R[0]+3921069994&4294967295,C=N+(k<<20&4294967295|k>>>12),k=T+(N^O&(C^N))+R[5]+3593408605&4294967295,T=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(T^C))+R[10]+38016083&4294967295,O=T+(k<<9&4294967295|k>>>23),k=N+(T^C&(O^T))+R[15]+3634488961&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^T&(N^O))+R[4]+3889429448&4294967295,C=N+(k<<20&4294967295|k>>>12),k=T+(N^O&(C^N))+R[9]+568446438&4294967295,T=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(T^C))+R[14]+3275163606&4294967295,O=T+(k<<9&4294967295|k>>>23),k=N+(T^C&(O^T))+R[3]+4107603335&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^T&(N^O))+R[8]+1163531501&4294967295,C=N+(k<<20&4294967295|k>>>12),k=T+(N^O&(C^N))+R[13]+2850285829&4294967295,T=C+(k<<5&4294967295|k>>>27),k=O+(C^N&(T^C))+R[2]+4243563512&4294967295,O=T+(k<<9&4294967295|k>>>23),k=N+(T^C&(O^T))+R[7]+1735328473&4294967295,N=O+(k<<14&4294967295|k>>>18),k=C+(O^T&(N^O))+R[12]+2368359562&4294967295,C=N+(k<<20&4294967295|k>>>12),k=T+(C^N^O)+R[5]+4294588738&4294967295,T=C+(k<<4&4294967295|k>>>28),k=O+(T^C^N)+R[8]+2272392833&4294967295,O=T+(k<<11&4294967295|k>>>21),k=N+(O^T^C)+R[11]+1839030562&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^T)+R[14]+4259657740&4294967295,C=N+(k<<23&4294967295|k>>>9),k=T+(C^N^O)+R[1]+2763975236&4294967295,T=C+(k<<4&4294967295|k>>>28),k=O+(T^C^N)+R[4]+1272893353&4294967295,O=T+(k<<11&4294967295|k>>>21),k=N+(O^T^C)+R[7]+4139469664&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^T)+R[10]+3200236656&4294967295,C=N+(k<<23&4294967295|k>>>9),k=T+(C^N^O)+R[13]+681279174&4294967295,T=C+(k<<4&4294967295|k>>>28),k=O+(T^C^N)+R[0]+3936430074&4294967295,O=T+(k<<11&4294967295|k>>>21),k=N+(O^T^C)+R[3]+3572445317&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^T)+R[6]+76029189&4294967295,C=N+(k<<23&4294967295|k>>>9),k=T+(C^N^O)+R[9]+3654602809&4294967295,T=C+(k<<4&4294967295|k>>>28),k=O+(T^C^N)+R[12]+3873151461&4294967295,O=T+(k<<11&4294967295|k>>>21),k=N+(O^T^C)+R[15]+530742520&4294967295,N=O+(k<<16&4294967295|k>>>16),k=C+(N^O^T)+R[2]+3299628645&4294967295,C=N+(k<<23&4294967295|k>>>9),k=T+(N^(C|~O))+R[0]+4096336452&4294967295,T=C+(k<<6&4294967295|k>>>26),k=O+(C^(T|~N))+R[7]+1126891415&4294967295,O=T+(k<<10&4294967295|k>>>22),k=N+(T^(O|~C))+R[14]+2878612391&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~T))+R[5]+4237533241&4294967295,C=N+(k<<21&4294967295|k>>>11),k=T+(N^(C|~O))+R[12]+1700485571&4294967295,T=C+(k<<6&4294967295|k>>>26),k=O+(C^(T|~N))+R[3]+2399980690&4294967295,O=T+(k<<10&4294967295|k>>>22),k=N+(T^(O|~C))+R[10]+4293915773&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~T))+R[1]+2240044497&4294967295,C=N+(k<<21&4294967295|k>>>11),k=T+(N^(C|~O))+R[8]+1873313359&4294967295,T=C+(k<<6&4294967295|k>>>26),k=O+(C^(T|~N))+R[15]+4264355552&4294967295,O=T+(k<<10&4294967295|k>>>22),k=N+(T^(O|~C))+R[6]+2734768916&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~T))+R[13]+1309151649&4294967295,C=N+(k<<21&4294967295|k>>>11),k=T+(N^(C|~O))+R[4]+4149444226&4294967295,T=C+(k<<6&4294967295|k>>>26),k=O+(C^(T|~N))+R[11]+3174756917&4294967295,O=T+(k<<10&4294967295|k>>>22),k=N+(T^(O|~C))+R[2]+718787259&4294967295,N=O+(k<<15&4294967295|k>>>17),k=C+(O^(N|~T))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+O&4294967295}i.prototype.u=function(b,T){T===void 0&&(T=b.length);for(var C=T-this.blockSize,R=this.B,N=this.h,O=0;O<T;){if(N==0)for(;O<=C;)o(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<T;)if(R[N++]=b.charCodeAt(O++),N==this.blockSize){o(this,R),N=0;break}}else for(;O<T;)if(R[N++]=b[O++],N==this.blockSize){o(this,R),N=0;break}}this.h=N,this.o+=T},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;var C=8*this.o;for(T=b.length-8;T<b.length;++T)b[T]=C&255,C/=256;for(this.u(b),b=Array(16),T=C=0;4>T;++T)for(var R=0;32>R;R+=8)b[C++]=this.g[T]>>>R&255;return b};function l(b,T){var C=f;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=T(b)}function d(b,T){this.h=T;for(var C=[],R=!0,N=b.length-1;0<=N;N--){var O=b[N]|0;R&&O==T||(C[N]=O,R=!1)}this.g=C}var f={};function p(b){return-128<=b&&128>b?l(b,function(T){return new d([T|0],0>T?-1:0)}):new d([b|0],0>b?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return S;if(0>b)return B(y(-b));for(var T=[],C=1,R=0;b>=C;R++)T[R]=b/C|0,C*=4294967296;return new d(T,0)}function _(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return B(_(b.substring(1),T));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(T,8)),R=S,N=0;N<b.length;N+=8){var O=Math.min(8,b.length-N),k=parseInt(b.substring(N,N+O),T);8>O?(O=y(Math.pow(T,O)),R=R.j(O).add(y(k))):(R=R.j(C),R=R.add(y(k)))}return R}var S=p(0),A=p(1),L=p(16777216);n=d.prototype,n.m=function(){if(H(this))return-B(this).m();for(var b=0,T=1,C=0;C<this.g.length;C++){var R=this.i(C);b+=(0<=R?R:4294967296+R)*T,T*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(F(this))return"0";if(H(this))return"-"+B(this).toString(b);for(var T=y(Math.pow(b,6)),C=this,R="";;){var N=he(C,T).g;C=K(C,N.j(T));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(b);if(C=N,F(C))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function F(b){if(b.h!=0)return!1;for(var T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function H(b){return b.h==-1}n.l=function(b){return b=K(this,b),H(b)?-1:F(b)?0:1};function B(b){for(var T=b.g.length,C=[],R=0;R<T;R++)C[R]=~b.g[R];return new d(C,~b.h).add(A)}n.abs=function(){return H(this)?B(this):this},n.add=function(b){for(var T=Math.max(this.g.length,b.g.length),C=[],R=0,N=0;N<=T;N++){var O=R+(this.i(N)&65535)+(b.i(N)&65535),k=(O>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);R=k>>>16,O&=65535,k&=65535,C[N]=k<<16|O}return new d(C,C[C.length-1]&-2147483648?-1:0)};function K(b,T){return b.add(B(T))}n.j=function(b){if(F(this)||F(b))return S;if(H(this))return H(b)?B(this).j(B(b)):B(B(this).j(b));if(H(b))return B(this.j(B(b)));if(0>this.l(L)&&0>b.l(L))return y(this.m()*b.m());for(var T=this.g.length+b.g.length,C=[],R=0;R<2*T;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<b.g.length;N++){var O=this.i(R)>>>16,k=this.i(R)&65535,at=b.i(N)>>>16,Ft=b.i(N)&65535;C[2*R+2*N]+=k*Ft,X(C,2*R+2*N),C[2*R+2*N+1]+=O*Ft,X(C,2*R+2*N+1),C[2*R+2*N+1]+=k*at,X(C,2*R+2*N+1),C[2*R+2*N+2]+=O*at,X(C,2*R+2*N+2)}for(R=0;R<T;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=T;R<2*T;R++)C[R]=0;return new d(C,0)};function X(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function ie(b,T){this.g=b,this.h=T}function he(b,T){if(F(T))throw Error("division by zero");if(F(b))return new ie(S,S);if(H(b))return T=he(B(b),T),new ie(B(T.g),B(T.h));if(H(T))return T=he(b,B(T)),new ie(B(T.g),T.h);if(30<b.g.length){if(H(b)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var C=A,R=T;0>=R.l(b);)C=Ae(C),R=Ae(R);var N=Se(C,1),O=Se(R,1);for(R=Se(R,2),C=Se(C,2);!F(R);){var k=O.add(R);0>=k.l(b)&&(N=N.add(C),O=k),R=Se(R,1),C=Se(C,1)}return T=K(b,N.j(T)),new ie(N,T)}for(N=S;0<=b.l(T);){for(C=Math.max(1,Math.floor(b.m()/T.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=y(C),k=O.j(T);H(k)||0<k.l(b);)C-=R,O=y(C),k=O.j(T);F(O)&&(O=A),N=N.add(O),b=K(b,k)}return new ie(N,b)}n.A=function(b){return he(this,b).h},n.and=function(b){for(var T=Math.max(this.g.length,b.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)&b.i(R);return new d(C,this.h&b.h)},n.or=function(b){for(var T=Math.max(this.g.length,b.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)|b.i(R);return new d(C,this.h|b.h)},n.xor=function(b){for(var T=Math.max(this.g.length,b.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)^b.i(R);return new d(C,this.h^b.h)};function Ae(b){for(var T=b.g.length+1,C=[],R=0;R<T;R++)C[R]=b.i(R)<<1|b.i(R-1)>>>31;return new d(C,b.h)}function Se(b,T){var C=T>>5;T%=32;for(var R=b.g.length-C,N=[],O=0;O<R;O++)N[O]=0<T?b.i(O+C)>>>T|b.i(O+C+1)<<32-T:b.i(O+C);return new d(N,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,gw=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=_,Ts=d}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yw,ul,vw,vc,Pf,ww,_w,Ew;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var V=u[E];if(!(V in v))break e;v=v[V]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,V={next:function(){if(!E&&v<u.length){var z=v++;return{value:m(z,u[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),u.apply(m,V)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,A.apply(null,arguments)}function L(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function F(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,V,z){for(var ne=Array(arguments.length-2),He=2;He<arguments.length;He++)ne[He-2]=arguments[He];return m.prototype[V].apply(E,ne)}}function H(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function B(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const V=u.length||0,z=E.length||0;u.length=V+z;for(let ne=0;ne<z;ne++)u[V+ne]=E[ne]}else u.push(E)}}class K{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var Ae=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Se(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function b(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function T(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,m){let v,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(v in E)u[v]=E[v];for(let z=0;z<C.length;z++)v=C[z],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function N(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function O(u){f.setTimeout(()=>{throw u},0)}function k(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,v){const E=Ft.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Ft=new K(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,re=!1,pe=new at,oe=()=>{const u=f.Promise.resolve(void 0);qe=()=>{u.then(D)}};var D=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){O(v)}var m=Ft;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function Pe(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ae){e:{try{he(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}F(Pe,fe);var Le={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Ke(u,m,v,E,V){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=V,this.key=++ze,this.da=this.fa=!1}function St(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ir(u){this.src=u,this.g={},this.h=0}Ir.prototype.add=function(u,m,v,E,V){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var ne=ti(u,m,E,V);return-1<ne?(m=u[ne],v||(m.fa=!1)):(m=new Ke(m,this.src,z,!!E,V),m.fa=v,u.push(m)),m};function Fs(u,m){var v=m.type;if(v in u.g){var E=u.g[v],V=Array.prototype.indexOf.call(E,m,void 0),z;(z=0<=V)&&Array.prototype.splice.call(E,V,1),z&&(St(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ti(u,m,v,E){for(var V=0;V<u.length;++V){var z=u[V];if(!z.da&&z.listener==m&&z.capture==!!v&&z.ha==E)return V}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),Us={};function ca(u,m,v,E,V){if(Array.isArray(m)){for(var z=0;z<m.length;z++)ca(u,m[z],v,E,V);return null}return v=fa(v),u&&u[je]?u.K(m,v,y(E)?!!E.capture:!!E,V):da(u,m,v,!1,E,V)}function da(u,m,v,E,V,z){if(!m)throw Error("Invalid event type");var ne=y(V)?!!V.capture:!!V,He=js(u);if(He||(u[qi]=He=new Ir(u)),v=He.add(m,v,E,ne,z),v.proxy)return v;if(E=Gl(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)ke||(V=ne),V===void 0&&(V=!1),u.addEventListener(m.toString(),E,V);else if(u.attachEvent)u.attachEvent(Cr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Gl(){function u(v){return m.call(u.src,u.listener,v)}const m=ha;return u}function Bs(u,m,v,E,V){if(Array.isArray(m))for(var z=0;z<m.length;z++)Bs(u,m[z],v,E,V);else E=y(E)?!!E.capture:!!E,v=fa(v),u&&u[je]?(u=u.i,m=String(m).toString(),m in u.g&&(z=u.g[m],v=ti(z,v,E,V),-1<v&&(St(z[v]),Array.prototype.splice.call(z,v,1),z.length==0&&(delete u.g[m],u.h--)))):u&&(u=js(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ti(m,v,E,V)),(v=-1<u?m[u]:null)&&Sr(v))}function Sr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[je])Fs(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(Cr(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=js(m))?(Fs(v,u),v.h==0&&(v.src=null,m[qi]=null)):St(u)}}}function Cr(u){return u in Us?Us[u]:Us[u]="on"+u}function ha(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&Sr(u),u=v.call(E,m)}return u}function js(u){return u=u[qi],u instanceof Ir?u:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function fa(u){return typeof u=="function"?u:(u[zs]||(u[zs]=function(m){return u.handleEvent(m)}),u[zs])}function gt(){G.call(this),this.i=new Ir(this),this.M=this,this.F=null}F(gt,G),gt.prototype[je]=!0,gt.prototype.removeEventListener=function(u,m,v,E){Bs(this,u,m,v,E)};function yt(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var V=m;m=new fe(E,u),R(m,V)}if(V=!0,v)for(var z=v.length-1;0<=z;z--){var ne=m.g=v[z];V=Ar(ne,E,!0,m)&&V}if(ne=m.g=u,V=Ar(ne,E,!0,m)&&V,V=Ar(ne,E,!1,m)&&V,v)for(z=0;z<v.length;z++)ne=m.g=v[z],V=Ar(ne,E,!1,m)&&V}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)St(v[E]);delete u.g[m],u.h--}}this.F=null},gt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},gt.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Ar(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,z=0;z<m.length;++z){var ne=m[z];if(ne&&!ne.da&&ne.capture==v){var He=ne.listener,vt=ne.ha||ne.src;ne.fa&&Fs(u.i,ne),V=He.call(vt,E)!==!1&&V}}return V&&!E.defaultPrevented}function pa(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function ni(u){u.g=pa(()=>{u.g=null,u.i&&(u.i=!1,ni(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wi extends G{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(u){G.call(this),this.h=u,this.g={}}F(Ki,G);var ma=[];function ga(u){Se(u.g,function(m,v){this.g.hasOwnProperty(v)&&Sr(m)},u),u.g={}}Ki.prototype.N=function(){Ki.aa.N.call(this),ga(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=f.JSON.stringify,va=f.JSON.parse,wa=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Gi(){}Gi.prototype.h=null;function $s(u){return u.h||(u.h=u.i())}function Hs(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){fe.call(this,"d")}F(nr,fe);function qs(){fe.call(this,"c")}F(qs,fe);var rr={},_a=null;function Qi(){return _a=_a||new gt}rr.La="serverreachability";function Ea(u){fe.call(this,rr.La,u)}F(Ea,fe);function kr(u){const m=Qi();yt(m,new Ea(m))}rr.STAT_EVENT="statevent";function Ta(u,m){fe.call(this,rr.STAT_EVENT,u),this.stat=m}F(Ta,fe);function lt(u){const m=Qi();yt(m,new Ta(m,u))}rr.Ma="timingevent";function Ws(u,m){fe.call(this,rr.Ma,u),this.size=m}F(Ws,fe);function Fn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Yi(){this.g=!0}Yi.prototype.xa=function(){this.g=!1};function Xi(u,m,v,E,V,z){u.info(function(){if(u.g)if(z)for(var ne="",He=z.split("&"),vt=0;vt<He.length;vt++){var Oe=He[vt].split("=");if(1<Oe.length){var Ct=Oe[0];Oe=Oe[1];var ft=Ct.split("_");ne=2<=ft.length&&ft[1]=="type"?ne+(Ct+"="+Oe+"&"):ne+(Ct+"=redacted&")}}else ne=null;else ne=z;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+m+`
`+v+`
`+ne})}function Ks(u,m,v,E,V,z,ne){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+m+`
`+v+`
`+z+" "+ne})}function Un(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bd(u,v)+(E?" "+E:"")})}function Ia(u,m){u.info(function(){return"TIMEOUT: "+m})}Yi.prototype.info=function(){};function bd(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ne=1;ne<V.length;ne++)V[ne]=""}}}}return ya(v)}catch{return m}}var Gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ql={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function Ji(){}F(Ji,Gi),Ji.prototype.g=function(){return new XMLHttpRequest},Ji.prototype.i=function(){return{}},Bn=new Ji;function jn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yl}function Yl(){this.i=null,this.g="",this.h=!1}var Sa={},Qs={};function Ys(u,m,v){u.L=1,u.v=ai(pn(m)),u.m=v,u.P=!0,Ca(u,null)}function Ca(u,m){u.F=Date.now(),Ge(u),u.A=pn(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),ui(v.i,"t",E),u.C=0,v=u.j.J,u.h=new Yl,u.g=pu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Wi(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(ma[0]=V.toString()),V=ma);for(var z=0;z<V.length;z++){var ne=ca(v,V[z],E||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),kr(),Xi(u.i,u.u,u.A,u.l,u.R,u.m)}jn.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)e:{const ft=en(this.g);var m=this.g.Ba();const kn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||xa(this.g)))){this.J||ft!=4||m==7||(m==8||0>=kn?kr(3):kr(2)),Zi(this);var v=this.g.Z();this.X=v;t:if(Xl(this)){var E=xa(this.g);u="";var V=E.length,z=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),ri(this);var ne="";break t}this.h.i=new f.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(z&&m==V-1)});E.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,Ks(this.i,this.u,this.A,this.l,this.R,ft,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,vt=this.g;if((He=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(He)){var Oe=He;break t}}Oe=null}if(v=Oe)Un(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,v);else{this.o=!1,this.s=3,lt(12),Cn(this),ri(this);break e}}if(this.P){v=!0;let gn;for(;!this.J&&this.C<ne.length;)if(gn=xd(this,ne),gn==Qs){ft==4&&(this.s=4,lt(14),v=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Sa){this.s=4,lt(15),Un(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else Un(this.i,this.l,gn,null),Aa(this,gn);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||ne.length!=0||this.h.h||(this.s=1,lt(16),v=!1),this.o=this.o&&v,!v)Un(this.i,this.l,ne,"[Invalid Chunked Response]"),Cn(this),ri(this);else if(0<ne.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Da(Ct),Ct.M=!0,lt(11))}}else Un(this.i,this.l,ne,null),Aa(this,ne);ft==4&&Cn(this),this.o&&!this.J&&(ft==4?ao(this.j,this):(this.o=!1,Ge(this)))}else no(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Cn(this),ri(this)}}}catch{}finally{}};function Xl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xd(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?Qs:(v=Number(m.substring(v,E)),isNaN(v)?Sa:(E+=1,E+v>m.length?Qs:(m=m.slice(E,E+v),u.C=E+v,m)))}jn.prototype.cancel=function(){this.J=!0,Cn(this)};function Ge(u){u.S=Date.now()+u.I,Jl(u,u.I)}function Jl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Fn(A(u.ba,u),m)}function Zi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ia(this.i,this.A),this.L!=2&&(kr(),lt(17)),Cn(this),this.s=2,ri(this)):Jl(this,this.S-u)};function ri(u){u.j.G==0||u.J||ao(u.j,u)}function Cn(u){Zi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ga(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Aa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Qt(v.h,u))){if(!u.K&&Qt(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)oo(v),Wn(v);else break e;so(v),lt(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=Fn(A(v.Za,v),6e3));if(1>=eu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Nr(v,11)}else if((u.K||v.g==u)&&oo(v),!X(m))for(V=v.Da.g.parse(m),m=0;m<V.length;m++){let Oe=V[m];if(v.T=Oe[0],Oe=Oe[1],v.G==2)if(Oe[0]=="c"){v.K=Oe[1],v.ia=Oe[2];const Ct=Oe[3];Ct!=null&&(v.la=Ct,v.j.info("VER="+v.la));const ft=Oe[4];ft!=null&&(v.Aa=ft,v.j.info("SVER="+v.Aa));const kn=Oe[5];kn!=null&&typeof kn=="number"&&0<kn&&(E=1.5*kn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const gn=u.g;if(gn){const os=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var z=E.h;z.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ka(z,z.h),z.h=null))}if(E.D){const uo=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(E.ya=uo,We(E.I,E.D,uo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ne=u;if(E.qa=fu(E,E.J?E.ia:null,E.W),ne.K){tu(E.h,ne);var He=ne,vt=E.L;vt&&(He.I=vt),He.B&&(Zi(He),Ge(He)),E.g=ne}else ss(E);0<v.i.length&&ar(v)}else Oe[0]!="stop"&&Oe[0]!="close"||Nr(v,7);else v.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Nr(v,7):Nt(v):Oe[0]!="noop"&&v.l&&v.l.ta(Oe),v.v=0)}}kr(4)}catch{}}var Zl=class{constructor(u,m){this.g=u,this.map=m}};function es(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function eu(u){return u.h?1:u.g?u.g.size:0}function Qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ka(u,m){u.g?u.g.add(m):u.h=m}function tu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}es.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return H(u.i)}function Xs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function Js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function ii(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Js(u),E=Xs(u),V=E.length,z=0;z<V;z++)m.call(void 0,E[z],v&&v[z],u)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nd(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),V=null;if(0<=E){var z=u[v].substring(0,E);V=u[v].substring(E+1)}else z=u[v];m(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Pr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Pr){this.h=u.h,ns(this,u.j),this.o=u.o,this.g=u.g,si(this,u.s),this.l=u.l;var m=u.i,v=new ir;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),oi(this,v),this.m=u.m}else u&&(m=String(u).match(ts))?(this.h=!1,ns(this,m[1]||"",!0),this.o=Ne(m[2]||""),this.g=Ne(m[3]||"",!0),si(this,m[4]),this.l=Ne(m[5]||"",!0),oi(this,m[6]||"",!0),this.m=Ne(m[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}Pr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(li(m,Zs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(li(m,Zs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(li(v,v.charAt(0)=="/"?su:iu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",li(v,Pa)),u.join("")};function pn(u){return new Pr(u)}function ns(u,m,v){u.j=v?Ne(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function si(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function oi(u,m,v){m instanceof ir?(u.i=m,sr(u.i,u.h)):(v||(m=li(m,ou)),u.i=new ir(m,u.h))}function We(u,m,v){u.i.set(m,v)}function ai(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ne(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function li(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ru),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ru(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,iu=/[#\?:]/g,su=/[#\?]/g,ou=/[#\?@]/g,Pa=/#/g;function ir(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xt(u){u.g||(u.g=new Map,u.h=0,u.i&&Nd(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=ir.prototype,n.add=function(u,m){xt(this),this.i=null,u=An(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function zn(u,m){xt(u),m=An(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $n(u,m){return xt(u),m=An(u,m),u.g.has(m)}n.forEach=function(u,m){xt(this),this.g.forEach(function(v,E){v.forEach(function(V){u.call(m,V,E,this)},this)},this)},n.na=function(){xt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const V=u[E];for(let z=0;z<V.length;z++)v.push(m[E])}return v},n.V=function(u){xt(this);let m=[];if(typeof u=="string")$n(this,u)&&(m=m.concat(this.g.get(An(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return xt(this),this.i=null,u=An(this,u),$n(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ui(u,m,v){zn(u,m),0<v.length&&(u.i=null,u.g.set(An(u,m),H(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const z=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var V=z;ne[E]!==""&&(V+="="+encodeURIComponent(String(ne[E]))),u.push(V)}}return this.i=u.join("&")};function An(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sr(u,m){m&&!u.j&&(xt(u),u.i=null,u.g.forEach(function(v,E){var V=E.toLowerCase();E!=V&&(zn(this,E),ui(this,V,v))},u)),u.j=m}function Dd(u,m){const v=new Yi;if(f.Image){const E=new Image;E.onload=L(Zt,v,"TestLoadImage: loaded",!0,m,E),E.onerror=L(Zt,v,"TestLoadImage: error",!1,m,E),E.onabort=L(Zt,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=L(Zt,v,"TestLoadImage: timeout",!1,m,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function au(u,m){const v=new Yi,E=new AbortController,V=setTimeout(()=>{E.abort(),Zt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(z=>{clearTimeout(V),z.ok?Zt(v,"TestPingServer: ok",!0,m):Zt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),Zt(v,"TestPingServer: error",!1,m)})}function Zt(u,m,v,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(v)}catch{}}function Ld(){this.g=new wa}function lu(u,m,v){const E=v||"";try{ii(u,function(V,z){let ne=V;y(V)&&(ne=ya(V)),m.push(E+z+"="+encodeURIComponent(ne))})}catch(V){throw m.push(E+"type="+encodeURIComponent("_badmap")),V}}function Rr(u){this.l=u.Ub||null,this.j=u.eb||!1}F(Rr,Gi),Rr.prototype.g=function(){return new rs(this.l,this.j)},Rr.prototype.i=function(u){return function(){return u}}({});function rs(u,m){gt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(rs,gt),n=rs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,qn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):qn(this),this.readyState==3&&uu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},n.Qa=function(u){this.g&&(this.response=u,Hn(this))},n.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,qn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function br(u){let m="";return Se(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function ci(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=br(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):We(u,m,v))}function Ze(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Ze,gt);var Od=/^https?$/i,Ra=["POST","PUT"];n=Ze.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?$s(this.o):$s(Bn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){is(this,z);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)v.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())v.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(z=>z.toLowerCase()=="content-type"),V=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ra,m,void 0))||E||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ne]of v)this.g.setRequestHeader(z,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{to(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){is(this,z)}};function is(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,eo(u),mn(u)}function eo(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},n.bb=function(){ba(this)};function ba(u){if(u.h&&typeof d<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)pa(u.Ea,0,u);else if(yt(u,"readystatechange"),en(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ne===0){var V=String(u.D).match(ts)[1]||null;!V&&f.self&&f.self.location&&(V=f.self.location.protocol.slice(0,-1)),E=!Od.test(V?V.toLowerCase():"")}v=E}if(v)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var z=2<en(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",eo(u)}}finally{mn(u)}}}}function mn(u,m){if(u.g){to(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||yt(u,"ready");try{v.onreadystatechange=E}catch{}}}function to(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),va(m)}};function xa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function no(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(X(u[E]))continue;var v=N(u[E]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const z=m[V]||[];m[V]=z,z.push(v)}b(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Na(u){this.Aa=0,this.i=[],this.j=new Yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,u),this.cb=or("retryDelaySeedMs",1e4,u),this.Wa=or("forwardChannelMaxRetries",2,u),this.wa=or("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new es(u&&u.concurrentRequestLimit),this.Da=new Ld,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Na.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){lt(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=fu(this,null,this.W),ar(this)};function Nt(u){if(ro(u),u.G==3){var m=u.U++,v=pn(u.I);if(We(v,"SID",u.K),We(v,"RID",m),We(v,"TYPE","terminate"),xr(u,v),m=new jn(u,u.j,m),m.L=2,m.v=ai(pn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=pu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ge(m)}hu(u)}function Wn(u){u.g&&(Da(u),u.g.cancel(),u.g=null)}function ro(u){Wn(u),u.u&&(f.clearTimeout(u.u),u.u=null),oo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ar(u){if(!fn(u.h)&&!u.s){u.s=!0;var m=u.Ga;qe||oe(),re||(qe(),re=!0),pe.add(m,u),u.B=0}}function Vd(u,m){return eu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Fn(A(u.Ga,u,m),du(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new jn(this,this.j,u);let z=this.o;if(this.S&&(z?(z=T(z),R(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=di(this,V,m),v=pn(this.I),We(v,"RID",u),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),xr(this,v),z&&(this.O?m="headers="+encodeURIComponent(String(br(z)))+"&"+m:this.m&&ci(v,this.m,z)),ka(this.h,V),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",m),We(v,"SID","null"),V.T=!0,Ys(V,v,null)):Ys(V,v,m),this.G=2}}else this.G==3&&(u?io(this,u):this.i.length==0||fn(this.h)||io(this))};function io(u,m){var v;m?v=m.l:v=u.U++;const E=pn(u.I);We(E,"SID",u.K),We(E,"RID",v),We(E,"AID",u.T),xr(u,E),u.m&&u.o&&ci(E,u.m,u.o),v=new jn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=di(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ka(u.h,v),Ys(v,E,m)}function xr(u,m){u.H&&Se(u.H,function(v,E){We(m,E,v)}),u.l&&ii({},function(v,E){We(m,E,v)})}function di(u,m,v){v=Math.min(u.i.length,v);var E=u.l?A(u.l.Na,u.l,u):null;e:{var V=u.i;let z=-1;for(;;){const ne=["count="+v];z==-1?0<v?(z=V[0].g,ne.push("ofs="+z)):z=0:ne.push("ofs="+z);let He=!0;for(let vt=0;vt<v;vt++){let Oe=V[vt].g;const Ct=V[vt].map;if(Oe-=z,0>Oe)z=Math.max(0,V[vt].g-100),He=!1;else try{lu(Ct,ne,"req"+Oe+"_")}catch{E&&E(Ct)}}if(He){E=ne.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function ss(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;qe||oe(),re||(qe(),re=!0),pe.add(m,u),u.v=0}}function so(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Fn(A(u.Fa,u),du(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Fn(A(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Wn(this),cu(this))};function Da(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function cu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=pn(u.qa);We(m,"RID","rpc"),We(m,"SID",u.K),We(m,"AID",u.T),We(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(m,"TO",u.ja),We(m,"TYPE","xmlhttp"),xr(u,m),u.m&&u.o&&ci(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ai(pn(m)),v.m=null,v.P=!0,Ca(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Wn(this),so(this),lt(19))};function oo(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function ao(u,m){var v=null;if(u.g==m){oo(u),Da(u),u.g=null;var E=2}else if(Qt(u.h,m))v=m.D,tu(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var V=u.B;E=Qi(),yt(E,new Ws(E,v)),ar(u)}else ss(u);else if(V=m.s,V==3||V==0&&0<m.X||!(E==1&&Vd(u,m)||E==2&&so(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),V){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function du(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Nr(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),E=u.Xa;const V=!E;E=new Pr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ns(E,"https"),ai(E),V?Dd(E.toString(),v):au(E.toString(),v)}else lt(2);u.G=0,u.l&&u.l.sa(m),hu(u),ro(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function hu(u){if(u.G=0,u.ka=[],u.l){const m=nu(u.h);(m.length!=0||u.i.length!=0)&&(B(u.ka,m),B(u.ka,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.ra()}}function fu(u,m,v){var E=v instanceof Pr?pn(v):new Pr(v);if(E.g!="")m&&(E.g=m+"."+E.g),si(E,E.s);else{var V=f.location;E=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var z=new Pr(null);E&&ns(z,E),m&&(z.g=m),V&&si(z,V),v&&(z.l=v),E=z}return v=u.D,m=u.ya,v&&m&&We(E,v,m),We(E,"VER",u.la),xr(u,E),E}function pu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ze(new Rr({eb:v})):new Ze(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function La(){}n=La.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lo(){}lo.prototype.g=function(u,m){return new Yt(u,m)};function Yt(u,m){gt.call(this),this.g=new Na(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!X(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!X(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new lr(this)}F(Yt,gt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Nt(this.g)},Yt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ya(u),u=v);m.i.push(new Zl(m.Ya++,u)),m.G==3&&ar(m)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Yt.aa.N.call(this)};function mu(u){nr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(mu,nr);function gu(){qs.call(this),this.status=1}F(gu,qs);function lr(u){this.g=u}F(lr,La),lr.prototype.ua=function(){yt(this.g,"a")},lr.prototype.ta=function(u){yt(this.g,new mu(u))},lr.prototype.sa=function(u){yt(this.g,new gu)},lr.prototype.ra=function(){yt(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,Ew=function(){return new lo},_w=function(){return Qi()},ww=rr,Pf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,vc=Gs,Ql.COMPLETE="complete",vw=Ql,Hs.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,ul=Hs,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,yw=Ze}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const Vy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Xf("@firebase/firestore");function xo(){return Cs.logLevel}function ae(n,...e){if(Cs.logLevel<=be.DEBUG){const t=e.map(ep);Cs.debug(`Firestore (${Zo}): ${n}`,...t)}}function Qr(n,...e){if(Cs.logLevel<=be.ERROR){const t=e.map(ep);Cs.error(`Firestore (${Zo}): ${n}`,...t)}}function $o(n,...e){if(Cs.logLevel<=be.WARN){const t=e.map(ep);Cs.warn(`Firestore (${Zo}): ${n}`,...t)}}function ep(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function $e(n,e){n||Te()}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class T1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class I1{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string"),new Tw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new qt(e)}}class S1{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class C1{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new S1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){$e(this.o===void 0);const i=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new A1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=P1(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function De(n,e){return n<e?-1:n>e?1:0}function Ho(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Tt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Tt(0,0))}static max(){return new Ie(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return vl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ot extends vl{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const R1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends vl{construct(e,t,i){return new Vt(e,t,i)}static isValidIdentifier(e){return R1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ve(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ve(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(d=!d,o++):f!=="."||d?(i+=f,o++):(l(),o++)}if(l(),d)throw new ve(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ot.fromString(e))}static fromName(e){return new we(ot.fromString(e).popFirst(5))}static empty(){return new we(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ot(e.slice()))}}function b1(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new Tt(t+1,0):new Tt(t,i));return new Fi(o,we.empty(),e)}function x1(n){return new Fi(n.readTime,n.key,-1)}class Fi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Fi(Ie.min(),we.empty(),-1)}static max(){return new Fi(Ie.max(),we.empty(),-1)}}function N1(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==D1)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,i)=>{t(e)})}static reject(e){return new W((t,i)=>{i(e)})}static waitFor(e){return new W((t,i)=>{let o=0,l=0,d=!1;e.forEach(f=>{++o,f.next(()=>{++l,d&&l===o&&t()},p=>i(p))}),d=!0,l===o&&t()})}static or(e){let t=W.resolve(!1);for(const i of e)t=t.next(o=>o?W.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new W((i,o)=>{const l=e.length,d=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{d[y]=_,++f,f===l&&i(d)},_=>o(_))}})}static doWhile(e,t){return new W((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function O1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}od.oe=-1;function ad(n){return n==null}function Lc(n){return n===0&&1/n==-1/0}function V1(n){return typeof n=="number"&&Number.isInteger(n)&&!Lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=My(e)),e=F1(n.get(t),e);return My(e)}function F1(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function My(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Sw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dc(this.root,e,this.comparator,!0)}}class dc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(e){return new Uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new It(Vt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Cw("Invalid base64 string: "+l):l}}(e);return new Mt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const U1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(n){if($e(!!n),typeof n=="string"){let e=0;const t=U1.exec(n);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bi(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ld(n){const e=n.mapValue.fields.__previous_value__;return tp(e)?ld(e):e}function wl(n){const e=Ui(n.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,t,i,o,l,d,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class _l{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ji(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tp(n)?4:z1(n)?9007199254740991:j1(n)?10:11:Te()}function wr(n,e){if(n===e)return!0;const t=ji(n);if(t!==ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wl(n).isEqual(wl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Ui(o.timestampValue),f=Ui(l.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Bi(o.bytesValue).isEqual(Bi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return dt(o.geoPointValue.latitude)===dt(l.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return dt(o.integerValue)===dt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=dt(o.doubleValue),f=dt(l.doubleValue);return d===f?Lc(d)===Lc(f):isNaN(d)&&isNaN(f)}return!1}(n,e);case 9:return Ho(n.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(o,l){const d=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Fy(d)!==Fy(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(f[p]===void 0||!wr(d[p],f[p])))return!1;return!0}(n,e);default:return Te()}}function El(n,e){return(n.values||[]).find(t=>wr(t,e))!==void 0}function qo(n,e){if(n===e)return 0;const t=ji(n),i=ji(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(l,d){const f=dt(l.integerValue||l.doubleValue),p=dt(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return By(n.timestampValue,e.timestampValue);case 4:return By(wl(n),wl(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(l,d){const f=Bi(l),p=Bi(d);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const f=l.split("/"),p=d.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=De(f[y],p[y]);if(_!==0)return _}return De(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const f=De(dt(l.latitude),dt(d.latitude));return f!==0?f:De(dt(l.longitude),dt(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jy(n.arrayValue,e.arrayValue);case 10:return function(l,d){var f,p,y,_;const S=l.fields||{},A=d.fields||{},L=(f=S.value)===null||f===void 0?void 0:f.arrayValue,F=(p=A.value)===null||p===void 0?void 0:p.arrayValue,H=De(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0);return H!==0?H:jy(L,F)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===hc.mapValue&&d===hc.mapValue)return 0;if(l===hc.mapValue)return 1;if(d===hc.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=d.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let S=0;S<p.length&&S<_.length;++S){const A=De(p[S],_[S]);if(A!==0)return A;const L=qo(f[p[S]],y[_[S]]);if(L!==0)return L}return De(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Te()}}function By(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Ui(n),i=Ui(e),o=De(t.seconds,i.seconds);return o!==0?o:De(t.nanos,i.nanos)}function jy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=qo(t[o],i[o]);if(l)return l}return De(t.length,i.length)}function Wo(n){return Rf(n)}function Rf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ui(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Bi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Rf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of i)l?l=!1:o+=",",o+=`${d}:${Rf(t.fields[d])}`;return o+"}"}(n.mapValue):Te()}function wc(n){switch(ji(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ld(n);return e?16+wc(e):16;case 5:return 2*n.stringValue.length;case 6:return Bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+wc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return bs(i.fields,(l,d)=>{o+=l.length+wc(d)}),o}(n.mapValue);default:throw Te()}}function bf(n){return!!n&&"integerValue"in n}function np(n){return!!n&&"arrayValue"in n}function zy(n){return!!n&&"nullValue"in n}function $y(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _c(n){return!!n&&"mapValue"in n}function j1(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function hl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=hl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function z1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!_c(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(t)}setAll(e){let t=Vt.emptyPath(),i={},o=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}d?i[f.lastSegment()]=hl(d):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());_c(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];_c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){bs(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Ln(hl(this.value))}}function Aw(n){const e=[];return bs(n.fields,(t,i)=>{const o=new Vt([t]);if(_c(i)){const l=Aw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,l,d,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=d,this.documentState=f}static newInvalidDocument(e){return new Wt(e,0,Ie.min(),Ie.min(),Ie.min(),Ln.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ie.min(),Ie.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ie.min(),Ie.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.position=e,this.inclusive=t}}function Hy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(l.field.isKeyField()?i=we.comparator(we.fromName(d.referenceValue),t.key):i=qo(d,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function qy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function $1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{}class Et extends kw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new q1(e,t,i):t==="array-contains"?new G1(e,i):t==="in"?new Q1(e,i):t==="not-in"?new Y1(e,i):t==="array-contains-any"?new X1(e,i):new Et(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new W1(e,i):new K1(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qo(t,this.value)):t!==null&&ji(this.value)===ji(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends kw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _r(e,t)}matches(e){return Pw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Pw(n){return n.op==="and"}function Rw(n){return H1(n)&&Pw(n)}function H1(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function xf(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+Wo(n.value);if(Rw(n))return n.filters.map(e=>xf(e)).join(",");{const e=n.filters.map(t=>xf(t)).join(",");return`${n.op}(${e})`}}function bw(n,e){return n instanceof Et?function(i,o){return o instanceof Et&&i.op===o.op&&i.field.isEqual(o.field)&&wr(i.value,o.value)}(n,e):n instanceof _r?function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,d,f)=>l&&bw(d,o.filters[f]),!0):!1}(n,e):void Te()}function xw(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${Wo(t.value)}`}(n):n instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(xw).join(" ,")+"}"}(n):"Filter"}class q1 extends Et{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class W1 extends Et{constructor(e,t){super(e,"in",t),this.keys=Nw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class K1 extends Et{constructor(e,t){super(e,"not-in",t),this.keys=Nw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Nw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class G1 extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return np(t)&&El(t.arrayValue,this.value)}}class Q1 extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&El(this.value.arrayValue,t)}}class Y1 extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!El(this.value.arrayValue,t)}}class X1 extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>El(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t=null,i=[],o=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=d,this.endAt=f,this.ue=null}}function Wy(n,e=null,t=[],i=[],o=null,l=null,d=null){return new J1(n,e,t,i,o,l,d)}function rp(n){const e=Ce(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>xf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wo(i)).join(",")),e.ue=t}return e.ue}function ip(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qy(n.startAt,e.startAt)&&qy(n.endAt,e.endAt)}function Nf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t=null,i=[],o=[],l=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Z1(n,e,t,i,o,l,d,f){return new ud(n,e,t,i,o,l,d,f)}function sp(n){return new ud(n)}function Ky(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eS(n){return n.collectionGroup!==null}function fl(n){const e=Ce(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new It(Vt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Vc(l,i))}),t.has(Vt.keyField().canonicalString())||e.ce.push(new Vc(Vt.keyField(),i))}return e.ce}function mr(n){const e=Ce(n);return e.le||(e.le=tS(e,fl(n))),e.le}function tS(n,e){if(n.limitType==="F")return Wy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Vc(o.field,l)});const t=n.endAt?new Oc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Oc(n.startAt.position,n.startAt.inclusive):null;return Wy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Df(n,e,t){return new ud(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cd(n,e){return ip(mr(n),mr(e))&&n.limitType===e.limitType}function Dw(n){return`${rp(mr(n))}|lt:${n.limitType}`}function No(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>xw(o)).join(", ")}]`),ad(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Wo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Wo(o)).join(",")),`Target(${i})`}(mr(n))}; limitType=${n.limitType})`}function dd(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of fl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(d,f,p){const y=Hy(d,f,p);return d.inclusive?y<=0:y<0}(i.startAt,fl(i),o)||i.endAt&&!function(d,f,p){const y=Hy(d,f,p);return d.inclusive?y>=0:y>0}(i.endAt,fl(i),o))}(n,e)}function nS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Lw(n){return(e,t)=>{let i=!1;for(const o of fl(n)){const l=rS(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function rS(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,d,f){const p=d.data.field(l),y=f.data.field(l);return p!==null&&y!==null?qo(p,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Sw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new it(we.comparator);function Yr(){return iS}const Ow=new it(we.comparator);function cl(...n){let e=Ow;for(const t of n)e=e.insert(t.key,t);return e}function Vw(n){let e=Ow;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Es(){return pl()}function Mw(){return pl()}function pl(){return new xs(n=>n.toString(),(n,e)=>n.isEqual(e))}const sS=new it(we.comparator),oS=new It(we.comparator);function xe(...n){let e=oS;for(const t of n)e=e.add(t);return e}const aS=new It(De);function lS(){return aS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function Fw(n){return{integerValue:""+n}}function uS(n,e){return V1(e)?Fw(e):op(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function cS(n,e,t){return n instanceof Mc?function(o,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&tp(l)&&(l=ld(l)),l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):n instanceof Tl?Bw(n,e):n instanceof Il?jw(n,e):function(o,l){const d=Uw(o,l),f=Gy(d)+Gy(o.Pe);return bf(d)&&bf(o.Pe)?Fw(f):op(o.serializer,f)}(n,e)}function dS(n,e,t){return n instanceof Tl?Bw(n,e):n instanceof Il?jw(n,e):t}function Uw(n,e){return n instanceof Fc?function(i){return bf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Mc extends hd{}class Tl extends hd{constructor(e){super(),this.elements=e}}function Bw(n,e){const t=zw(e);for(const i of n.elements)t.some(o=>wr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Il extends hd{constructor(e){super(),this.elements=e}}function jw(n,e){let t=zw(e);for(const i of n.elements)t=t.filter(o=>!wr(o,i));return{arrayValue:{values:t}}}class Fc extends hd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Gy(n){return dt(n.integerValue||n.doubleValue)}function zw(n){return np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function hS(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Tl&&o instanceof Tl||i instanceof Il&&o instanceof Il?Ho(i.elements,o.elements,wr):i instanceof Fc&&o instanceof Fc?wr(i.Pe,o.Pe):i instanceof Mc&&o instanceof Mc}(n.transform,e.transform)}class fS{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fd{}function $w(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qw(n.key,Hr.none()):new xl(n.key,n.data,Hr.none());{const t=n.data,i=Ln.empty();let o=new It(Vt.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?i.delete(l):i.set(l,d),o=o.add(l)}return new Ns(n.key,i,new Zn(o.toArray()),Hr.none())}}function pS(n,e,t){n instanceof xl?function(o,l,d){const f=o.value.clone(),p=Yy(o.fieldTransforms,l,d.transformResults);f.setAll(p),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ns?function(o,l,d){if(!Ec(o.precondition,l))return void l.convertToUnknownDocument(d.version);const f=Yy(o.fieldTransforms,l,d.transformResults),p=l.data;p.setAll(Hw(o)),p.setAll(f),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function ml(n,e,t,i){return n instanceof xl?function(l,d,f,p){if(!Ec(l.precondition,d))return f;const y=l.value.clone(),_=Xy(l.fieldTransforms,p,d);return y.setAll(_),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ns?function(l,d,f,p){if(!Ec(l.precondition,d))return f;const y=Xy(l.fieldTransforms,p,d),_=d.data;return _.setAll(Hw(l)),_.setAll(y),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(l,d,f){return Ec(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f}(n,e,t)}function mS(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Uw(i.transform,o||null);l!=null&&(t===null&&(t=Ln.empty()),t.set(i.field,l))}return t||null}function Qy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ho(i,o,(l,d)=>hS(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xl extends fd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ns extends fd{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Hw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Yy(n,e,t){const i=new Map;$e(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,f=e.data.field(l.field);i.set(l.field,dS(d,f,t[o]))}return i}function Xy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);i.set(o.field,cS(l,d,e))}return i}class qw extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gS extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&pS(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ml(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ml(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Mw();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=t.has(o.key)?null:f;const p=$w(d,f);p!==null&&i.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(t,i)=>Qy(t,i))&&Ho(this.baseMutations,e.baseMutations,(t,i)=>Qy(t,i))}}class ap{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){$e(e.mutations.length===i.length);let o=function(){return sS}();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,i[d].version);return new ap(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Ve;function _S(n){switch(n){default:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function Ww(n){if(n===void 0)return Qr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case mt.OK:return ee.OK;case mt.CANCELLED:return ee.CANCELLED;case mt.UNKNOWN:return ee.UNKNOWN;case mt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case mt.INTERNAL:return ee.INTERNAL;case mt.UNAVAILABLE:return ee.UNAVAILABLE;case mt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case mt.NOT_FOUND:return ee.NOT_FOUND;case mt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case mt.ABORTED:return ee.ABORTED;case mt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case mt.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Ve=mt||(mt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new Ts([4294967295,4294967295],0);function Jy(n){const e=ES().encode(n),t=new gw;return t.update(e),new Uint8Array(t.digest())}function Zy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ts([t,i],0),new Ts([o,l],0)]}class lp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new dl(`Invalid padding: ${t}`);if(i<0)throw new dl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new dl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ts.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Ts.fromNumber(i)));return o.compare(TS)===1&&(o=new Ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Jy(e),[i,o]=Zy(t);for(let l=0;l<this.hashCount;l++){const d=this.Ee(i,o,l);if(!this.de(d))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new lp(l,o,t);return i.forEach(f=>d.insert(f)),d}insert(e){if(this.Te===0)return;const t=Jy(e),[i,o]=Zy(t);for(let l=0;l<this.hashCount;l++){const d=this.Ee(i,o,l);this.Ae(d)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pd(Ie.min(),o,new it(De),Yr(),xe())}}class Nl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Nl(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Kw{constructor(e,t){this.targetId=e,this.me=t}}class Gw{constructor(e,t,i=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class ev{constructor(){this.fe=0,this.ge=tv(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),i=xe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new Nl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=tv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yr(),this.qe=fc(),this.Qe=fc(),this.Ke=new it(De)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Nf(l))if(i===0){const d=new we(l.path);this.We(t,d,Wt.newNoDocument(d,Ie.min()))}else $e(i===1);else{const d=this.Ze(t);if(d!==i){const f=this.Xe(e),p=f?this.et(f,e,d):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let d,f;try{d=Bi(i).toUint8Array()}catch(p){if(p instanceof Cw)return $o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new lp(d,o,l)}catch(p){return $o(p instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const d=this.Le.nt(),f=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,d)=>{const f=this.Ye(d);if(f){if(l.current&&Nf(f.target)){const p=new we(f.target.path);this.st(p).has(d)||this.ot(d,p)||this.We(d,p,Wt.newNoDocument(p,e))}l.be&&(t.set(d,l.ve()),l.Ce())}});let i=xe();this.Qe.forEach((l,d)=>{let f=!0;d.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,d)=>d.setReadTime(e));const o=new pd(e,t,this.Ke,this.ke,i);return this.ke=Yr(),this.qe=fc(),this.Qe=fc(),this.Ke=new it(De),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new ev,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new It(De),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new It(De),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ev),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function fc(){return new it(we.comparator)}function tv(){return new it(we.comparator)}const SS={asc:"ASCENDING",desc:"DESCENDING"},CS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AS={and:"AND",or:"OR"};class kS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lf(n,e){return n.useProto3Json||ad(e)?e:{value:e}}function Uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PS(n,e){return Uc(n,e.toTimestamp())}function gr(n){return $e(!!n),Ie.fromTimestamp(function(t){const i=Ui(t);return new Tt(i.seconds,i.nanos)}(n))}function up(n,e){return Of(n,e).canonicalString()}function Of(n,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Yw(n){const e=ot.fromString(n);return $e(t_(e)),e}function Vf(n,e){return up(n.databaseId,e.path)}function ff(n,e){const t=Yw(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(Jw(t))}function Xw(n,e){return up(n.databaseId,e)}function RS(n){const e=Yw(n);return e.length===4?ot.emptyPath():Jw(e)}function Mf(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Jw(n){return $e(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function nv(n,e,t){return{name:Vf(n,e),fields:t.value.mapValue.fields}}function bS(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?($e(_===void 0||typeof _=="string"),Mt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Mt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const _=y.code===void 0?ee.UNKNOWN:Ww(y.code);return new ve(_,y.message||"")}(d);t=new Gw(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ff(n,i.document.name),l=gr(i.document.updateTime),d=i.document.createTime?gr(i.document.createTime):Ie.min(),f=new Ln({mapValue:{fields:i.document.fields}}),p=Wt.newFoundDocument(o,l,d,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new Tc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ff(n,i.document),l=i.readTime?gr(i.readTime):Ie.min(),d=Wt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Tc([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ff(n,i.document),l=i.removedTargetIds||[];t=new Tc([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,d=new wS(o,l),f=i.targetId;t=new Kw(f,d)}}return t}function xS(n,e){let t;if(e instanceof xl)t={update:nv(n,e.key,e.value)};else if(e instanceof qw)t={delete:Vf(n,e.key)};else if(e instanceof Ns)t={update:nv(n,e.key,e.data),updateMask:BS(e.fieldMask)};else{if(!(e instanceof gS))return Te();t={verify:Vf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,d){const f=d.transform;if(f instanceof Mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Il)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Fc)return{fieldPath:d.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:PS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function NS(n,e){return n&&n.length>0?($e(e!==void 0),n.map(t=>function(o,l){let d=o.updateTime?gr(o.updateTime):gr(l);return d.isEqual(Ie.min())&&(d=gr(l)),new fS(d,o.transformResults||[])}(t,e))):[]}function DS(n,e){return{documents:[Xw(n,e.path)]}}function LS(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Xw(n,o);const l=function(y){if(y.length!==0)return e_(_r.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(y){if(y.length!==0)return y.map(_=>function(A){return{field:Do(A.field),direction:MS(A.dir)}}(_))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=Lf(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function OS(n){let e=RS(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){$e(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(S){const A=Zw(S);return A instanceof _r&&Rw(A)?A.getFilters():[A]}(t.where));let d=[];t.orderBy&&(d=function(S){return S.map(A=>function(F){return new Vc(Lo(F.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(A))}(t.orderBy));let f=null;t.limit&&(f=function(S){let A;return A=typeof S=="object"?S.value:S,ad(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(S){const A=!!S.before,L=S.values||[];return new Oc(L,A)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const A=!S.before,L=S.values||[];return new Oc(L,A)}(t.endAt)),Z1(e,o,d,l,f,"F",p,y)}function VS(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Zw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Lo(t.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Lo(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(t.unaryFilter.field);return Et.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Lo(t.unaryFilter.field);return Et.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return Et.create(Lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(i=>Zw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function MS(n){return SS[n]}function FS(n){return CS[n]}function US(n){return AS[n]}function Do(n){return{fieldPath:n.canonicalString()}}function Lo(n){return Vt.fromServerFormat(n.fieldPath)}function e_(n){return n instanceof Et?function(t){if(t.op==="=="){if($y(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NAN"}};if(zy(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($y(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NAN"}};if(zy(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(t.field),op:FS(t.op),value:t.value}}}(n):n instanceof _r?function(t){const i=t.getFilters().map(o=>e_(o));return i.length===1?i[0]:{compositeFilter:{op:US(t.op),filters:i}}}(n):Te()}function BS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function t_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,t,i,o,l=Ie.min(),d=Ie.min(),f=Mt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.ht=e}}function zS(n){const e=OS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Df(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.ln=new HS}addToCollectionParentIndex(e,t){return this.ln.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(Fi.min())}updateCollectionGroup(e,t,i){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class HS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new It(ot.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new It(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ko(0)}static Qn(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv([n,e],[t,i]){const o=De(n,t);return o===0?De(e,i):o}class qS{constructor(e){this.Gn=e,this.buffer=new It(iv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();iv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ta(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ea(t)}await this.Yn(3e5)})}}class KS{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return W.resolve(od.oe);const i=new qS(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(rv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,d,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(y=Date.now(),xo()<=be.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${o} in `+(f-d)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function GS(n,e){return new KS(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.changes=new xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?W.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&ml(i.mutation,o,Zn.empty(),Tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xe()){const o=Es();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let d=cl();return l.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=Es();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,i,o){let l=Yr();const d=pl(),f=function(){return pl()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Ns)?l=l.insert(y.key,y):_!==void 0?(d.set(y.key,_.mutation.getFieldMask()),ml(_.mutation,y,_.mutation.getFieldMask(),Tt.now())):d.set(y.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>d.set(y,_)),t.forEach((y,_)=>{var S;return f.set(y,new YS(_,(S=d.get(y))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,t){const i=pl();let o=new it((d,f)=>d-f),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||Zn.empty();_=f.applyToLocalView(y,_),i.set(p,_);const S=(o.get(f.batchId)||xe()).add(p);o=o.insert(f.batchId,S)})}).next(()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,S=Mw();_.forEach(A=>{if(!l.has(A)){const L=$w(t.get(A),i.get(A));L!==null&&S.set(A,L),l=l.add(A)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(d){return we.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):W.resolve(Es());let f=-1,p=l;return d.next(y=>W.forEach(y,(_,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(_)?W.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{p=p.insert(_,A)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,xe())).next(_=>({batchId:f,changes:Vw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=cl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let d=cl();return this.indexManager.getCollectionParents(e,l).next(f=>W.forEach(f,p=>{const y=function(S,A){return new ud(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((S,A)=>{d=d.insert(S,A)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(d=>{l.forEach((p,y)=>{const _=y.getKey();d.get(_)===null&&(d=d.insert(_,Wt.newInvalidDocument(_)))});let f=cl();return d.forEach((p,y)=>{const _=l.get(p);_!==void 0&&ml(_.mutation,y,Zn.empty(),Tt.now()),dd(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return W.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:zS(o.bundledQuery),readTime:gr(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.overlays=new it(we.comparator),this.Er=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Es();return W.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),W.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),W.resolve()}getOverlaysForCollection(e,t,i){const o=Es(),l=t.length+1,d=new we(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new it((y,_)=>y-_);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Es(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=Es(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=o)););return W.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new vS(t,i));let l=this.Er.get(t);l===void 0&&(l=xe(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.dr=new It(Rt.Ar),this.Rr=new It(Rt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Rt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Rt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new we(new ot([])),i=new Rt(t,e),o=new Rt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],d=>{this.gr(d),l.push(d.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new ot([])),i=new Rt(t,e),o=new Rt(t,e+1);let l=xe();return this.Rr.forEachInRange([i,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Rt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||De(e.br,t.br)}static Vr(e,t){return De(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new It(Rt.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yS(l,t,i,o);this.mutationQueue.push(d);for(const f of o)this.vr=this.vr.add(new Rt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,t){return W.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return W.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],d=>{const f=this.Cr(d.br);l.push(f)}),W.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new It(De);return t.forEach(o=>{const l=new Rt(o,0),d=new Rt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,d],f=>{i=i.add(f.br)})}),W.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const d=new Rt(new we(l),0);let f=new It(De);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},d),W.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return W.forEach(t.mutations,o=>{const l=new Rt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Rt(t,0),o=this.vr.firstAfterOrEqual(i);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.Nr=e,this.docs=function(){return new it(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,d=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return W.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Yr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Wt.newInvalidDocument(o))}),W.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Yr();const d=t.path,f=new we(d.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||N1(x1(_),i)<=0||(o.has(_.key)||dd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return W.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Lr(e,t){return W.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new rC(this)}getSize(e){return W.resolve(this.size)}}class rC extends QS{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),W.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.persistence=e,this.Br=new xs(t=>rp(t),ip),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new cp,this.targetCount=0,this.Qr=Ko.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),W.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ko(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Un(t),W.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((d,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),W.waitFor(l).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return W.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),W.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),W.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return W.resolve(i)}containsKey(e,t){return W.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new od(0),this.Ur=!1,this.Ur=!0,this.Wr=new eC,this.referenceDelegate=e(this),this.Gr=new iC(this),this.indexManager=new $S,this.remoteDocumentCache=function(o){return new nC(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new jS(t),this.jr=new JS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new tC(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new sC(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return W.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class sC extends L1{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Zr=new cp,this.Xr=null}static ei(e){return new dp(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),W.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),W.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,i=>{const o=we.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return W.or([()=>W.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Bc{constructor(e,t){this.persistence=e,this.ri=new xs(i=>M1(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=GS(this,t)}static ei(e,t){return new Bc(e,t)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return W.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?W.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,d=>this.ir(e,d,t).next(f=>{f||(i++,l.removeEntry(d,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),W.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),W.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wc(e.data.value)),t}ir(e,t,i){return W.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return W.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new hp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return nI()?8:O1(Kt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new oC;return this.ts(e,t,d).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,d,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(xo()<=be.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",No(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(xo()<=be.DEBUG&&ae("QueryEngine","Query:",No(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(xo()<=be.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",No(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):W.resolve())}Xi(e,t){if(Ky(t))return W.resolve(null);let i=mr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Df(t,null,"F"),i=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const d=xe(...l);return this.Zi.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,f);return this.ss(t,y,d,p.readTime)?this.Xi(e,Df(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Ky(t)||o.isEqual(Ie.min())?W.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const d=this.rs(t,l);return this.ss(t,d,i,o)?W.resolve(null):(xo()<=be.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(t)),this.os(e,d,t,b1(o,-1)).next(f=>f))})}rs(e,t){let i=new It(Lw(e));return t.forEach((o,l)=>{dd(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return xo()<=be.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",No(t)),this.Zi.getDocumentsMatchingQuery(e,t,Fi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new it(De),this.cs=new xs(l=>rp(l),ip),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XS(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function uC(n,e,t,i){return new lC(n,e,t,i)}async function r_(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const d=[],f=[];let p=xe();for(const y of o){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:d,addedBatchIds:f}))})})}function cC(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,_){const S=y.batch,A=S.keys();let L=W.resolve();return A.forEach(F=>{L=L.next(()=>_.getEntry(p,F)).next(H=>{const B=y.docVersions.get(F);$e(B!==null),H.version.compareTo(B)<0&&(S.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),_.addEntry(H)))})}),L.next(()=>f.mutationQueue.removeMutationBatch(p,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=xe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function i_(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function dC(n,e){const t=Ce(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((_,S)=>{const A=o.get(S);if(!A)return;f.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,S).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,S)));let L=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Mt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(_.resumeToken,i)),o=o.insert(S,L),function(H,B,K){return H.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(A,L,_)&&f.push(t.Gr.updateTargetData(l,L))});let p=Yr(),y=xe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(hC(l,d,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Ie.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(S=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return W.waitFor(f).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function hC(n,e,t){let i=xe(),o=xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let d=Yr();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:d,Es:o}})}function fC(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function pC(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,W.resolve(o)):t.Gr.allocateTargetId(i).next(d=>(o=new xi(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Ff(n,e,t){const i=Ce(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ta(d))throw d;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function sv(n,e,t){const i=Ce(n);let o=Ie.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,_){const S=Ce(p),A=S.cs.get(_);return A!==void 0?W.resolve(S.us.get(A)):S.Gr.getTargetData(y,_)}(i,d,mr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(d,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(d,e,t?o:Ie.min(),t?l:xe())).next(f=>(mC(i,nS(e),f),{documents:f,ds:l})))}function mC(n,e,t){let i=n.ls.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class ov{constructor(){this.activeTargetIds=lS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gC{constructor(){this._o=new ov,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ov,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function pf(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class _C extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,d){const f=pf(),p=this.No(t,i.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,d),this.Bo(t,p,y,o).then(_=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw $o("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,d,f){return this.Oo(t,i,o,l,d)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,d)=>t[d]=l),o&&o.headers.forEach((l,d)=>t[d]=l)}No(t,i){const o=vC[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=pf();return new Promise((d,f)=>{const p=new yw;p.setWithCredentials(!0),p.listenOnce(vw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case vc.NO_ERROR:const _=p.getResponseJson();ae(Ht,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),d(_);break;case vc.TIMEOUT:ae(Ht,`RPC '${e}' ${l} timed out`),f(new ve(ee.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const S=p.getStatus();if(ae(Ht,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const L=A==null?void 0:A.error;if(L&&L.status&&L.message){const F=function(B){const K=B.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN}(L.status);f(new ve(F,L.message))}else f(new ve(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ve(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(Ht,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ae(Ht,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=pf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ew(),f=_w(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ae(Ht,`Creating RPC '${e}' stream ${o}: ${_}`,p);const S=d.createWebChannel(_,p);let A=!1,L=!1;const F=new wC({Eo:B=>{L?ae(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(A||(ae(Ht,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),ae(Ht,`RPC '${e}' stream ${o} sending:`,B),S.send(B))},Ao:()=>S.close()}),H=(B,K,X)=>{B.listen(K,ie=>{try{X(ie)}catch(he){setTimeout(()=>{throw he},0)}})};return H(S,ul.EventType.OPEN,()=>{L||(ae(Ht,`RPC '${e}' stream ${o} transport opened.`),F.So())}),H(S,ul.EventType.CLOSE,()=>{L||(L=!0,ae(Ht,`RPC '${e}' stream ${o} transport closed`),F.Do())}),H(S,ul.EventType.ERROR,B=>{L||(L=!0,$o(Ht,`RPC '${e}' stream ${o} transport errored:`,B),F.Do(new ve(ee.UNAVAILABLE,"The operation could not be completed")))}),H(S,ul.EventType.MESSAGE,B=>{var K;if(!L){const X=B.data[0];$e(!!X);const ie=X,he=(ie==null?void 0:ie.error)||((K=ie[0])===null||K===void 0?void 0:K.error);if(he){ae(Ht,`RPC '${e}' stream ${o} received error:`,he);const Ae=he.status;let Se=function(C){const R=mt[C];if(R!==void 0)return Ww(R)}(Ae),b=he.message;Se===void 0&&(Se=ee.INTERNAL,b="Unknown error status: "+Ae+" with message "+he.message),L=!0,F.Do(new ve(Se,b)),S.close()}else ae(Ht,`RPC '${e}' stream ${o} received:`,X),F.vo(X)}}),H(f,ww.STAT_EVENT,B=>{B.stat===Pf.PROXY?ae(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Pf.NOPROXY&&ae(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.bo()},0),F}}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){return new kS(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,t,i,o,l,d,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new s_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ve(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EC extends o_{constructor(e,t,i,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,d),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=bS(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?gr(d.readTime):Ie.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Mf(this.serializer),t.addTarget=function(l,d){let f;const p=d.target;if(f=Nf(p)?{documents:DS(l,p)}:{query:LS(l,p).ct},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=Qw(l,d.resumeToken);const y=Lf(l,d.expectedCount);y!==null&&(f.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ie.min())>0){f.readTime=Uc(l,d.snapshotVersion.toTimestamp());const y=Lf(l,d.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=VS(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Mf(this.serializer),t.removeTarget=e,this.c_(t)}}class TC extends o_{constructor(e,t,i,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,d),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=NS(e.writeResults,e.commitTime),i=gr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Mf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>xS(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Oo(e,Of(t,i),o,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ee.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.ko(e,Of(t,i),o,d,f,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ve(ee.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class SC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Qr(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(d=>{i.enqueueAndForget(async()=>{Ds(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Ce(p);y.k_.add(4),await Dl(y),y.K_.set("Unknown"),y.k_.delete(4),await gd(y)}(this))})}),this.K_=new SC(i,o)}}async function gd(n){if(Ds(n))for(const e of n.q_)await e(!0)}async function Dl(n){for(const e of n.q_)await e(!1)}function a_(n,e){const t=Ce(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),gp(t)?mp(t):na(t).s_()&&pp(t,e))}function fp(n,e){const t=Ce(n),i=na(t);t.B_.delete(e),i.s_()&&l_(t,e),t.B_.size===0&&(i.s_()?i.a_():Ds(t)&&t.K_.set("Unknown"))}function pp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).V_(e)}function l_(n,e){n.U_.xe(e),na(n).m_(e)}function mp(n){n.U_=new IS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),na(n).start(),n.K_.F_()}function gp(n){return Ds(n)&&!na(n).i_()&&n.B_.size>0}function Ds(n){return Ce(n).k_.size===0}function u_(n){n.U_=void 0}async function AC(n){n.K_.set("Online")}async function kC(n){n.B_.forEach((e,t)=>{pp(n,e)})}async function PC(n,e){u_(n),gp(n)?(n.K_.O_(e),mp(n)):n.K_.set("Unknown")}async function RC(n,e,t){if(n.K_.set("Online"),e instanceof Gw&&e.state===2&&e.cause)try{await async function(o,l){const d=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,d),o.B_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jc(n,i)}else if(e instanceof Tc?n.U_.$e(e):e instanceof Kw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ie.min()))try{const i=await i_(n.localStore);t.compareTo(i)>=0&&await function(l,d){const f=l.U_.it(d);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,d))}}),f.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(Mt.EMPTY_BYTE_STRING,_.snapshotVersion)),l_(l,p);const S=new xi(_.target,p,y,_.sequenceNumber);pp(l,S)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ae("RemoteStore","Failed to raise snapshot:",i),await jc(n,i)}}async function jc(n,e,t){if(!ta(e))throw e;n.k_.add(1),await Dl(n),n.K_.set("Offline"),t||(t=()=>i_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await gd(n)})}function c_(n,e){return e().catch(t=>jc(n,t,e))}async function yd(n){const e=Ce(n),t=zi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;bC(e);)try{const o=await fC(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,xC(e,o)}catch(o){await jc(e,o)}d_(e)&&h_(e)}function bC(n){return Ds(n)&&n.L_.length<10}function xC(n,e){n.L_.push(e);const t=zi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function d_(n){return Ds(n)&&!zi(n).i_()&&n.L_.length>0}function h_(n){zi(n).start()}async function NC(n){zi(n).w_()}async function DC(n){const e=zi(n);for(const t of n.L_)e.g_(t.mutations)}async function LC(n,e,t){const i=n.L_.shift(),o=ap.from(i,e,t);await c_(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await yd(n)}async function OC(n,e){e&&zi(n).f_&&await async function(i,o){if(function(d){return _S(d)&&d!==ee.ABORTED}(o.code)){const l=i.L_.shift();zi(i).__(),await c_(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await yd(i)}}(n,e),d_(n)&&h_(n)}async function lv(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const i=Ds(t);t.k_.add(3),await Dl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await gd(t)}async function VC(n,e){const t=Ce(n);e?(t.k_.delete(2),await gd(t)):e||(t.k_.add(2),await Dl(t),t.K_.set("Unknown"))}function na(n){return n.W_||(n.W_=function(t,i,o){const l=Ce(t);return l.b_(),new EC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:AC.bind(null,n),mo:kC.bind(null,n),po:PC.bind(null,n),R_:RC.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),gp(n)?mp(n):n.K_.set("Unknown")):(await n.W_.stop(),u_(n))})),n.W_}function zi(n){return n.G_||(n.G_=function(t,i,o){const l=Ce(t);return l.b_(),new TC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:NC.bind(null,n),po:OC.bind(null,n),p_:DC.bind(null,n),y_:LC.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await yd(n)):(await n.G_.stop(),n.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const d=Date.now()+i,f=new yp(e,t,d,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),ta(n))return new ve(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=cl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Vo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.z_=new it(we.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Go{constructor(e,t,i,o,l,d,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new Go(e,t,Vo.emptySet(t),d,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class FC{constructor(){this.queries=cv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ce(t),l=o.queries;o.queries=cv(),l.forEach((d,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ve(ee.ABORTED,"Firestore shutting down"))}}function cv(){return new xs(n=>Dw(n),cd)}async function UC(n,e){const t=Ce(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new MC,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const f=vp(d,`Initialization of query '${No(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&wp(t)}async function BC(n,e){const t=Ce(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const d=l.J_.indexOf(e);d>=0&&(l.J_.splice(d,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function jC(n,e){const t=Ce(n);let i=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const f of d.J_)f.ta(o)&&(i=!0);d.H_=o}}i&&wp(t)}function zC(n,e,t){const i=Ce(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function wp(n){n.X_.forEach(e=>{e.next()})}var Uf,dv;(dv=Uf||(Uf={})).na="default",dv.Cache="cache";class $C{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Uf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){this.key=e}}class p_{constructor(e){this.key=e}}class HC{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=Lw(e),this.ma=new Vo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new uv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,S)=>{const A=o.get(_),L=dd(this.query,S)?S:null,F=!!A&&this.mutatedKeys.has(A.key),H=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let B=!1;A&&L?A.data.isEqual(L.data)?F!==H&&(i.track({type:3,doc:L}),B=!0):this.ya(A,L)||(i.track({type:2,doc:L}),B=!0,(p&&this.Va(L,p)>0||y&&this.Va(L,y)<0)&&(f=!0)):!A&&L?(i.track({type:0,doc:L}),B=!0):A&&!L&&(i.track({type:1,doc:A}),B=!0,(p||y)&&(f=!0)),B&&(L?(d=d.add(L),l=H?l.add(_):l.delete(_)):(d=d.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:d,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const d=e.pa.j_();d.sort((_,S)=>function(L,F){const H=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return H(L)-H(F)}(_.type,S.type)||this.Va(_.doc,S.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,d.length!==0||y?{snapshot:new Go(this.query,e.ma,l,d,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new uv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new p_(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new f_(i))}),t}va(e){this.da=e.ds,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Go.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class qC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class WC{constructor(e){this.key=e,this.Fa=!1}}class KC{constructor(e,t,i,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new xs(f=>Dw(f),cd),this.Oa=new Map,this.Na=new Set,this.La=new it(we.comparator),this.Ba=new Map,this.ka=new cp,this.qa={},this.Qa=new Map,this.Ka=Ko.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function GC(n,e,t=!0){const i=__(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await m_(i,e,t,!0),o}async function QC(n,e){const t=__(n);await m_(t,e,!0,!1)}async function m_(n,e,t,i){const o=await pC(n.localStore,mr(e)),l=o.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await YC(n,e,l,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&a_(n.remoteStore,o),f}async function YC(n,e,t,i,o){n.Ua=(S,A,L)=>async function(H,B,K,X){let ie=B.view.ga(K);ie.ss&&(ie=await sv(H.localStore,B.query,!1).then(({documents:b})=>B.view.ga(b,ie)));const he=X&&X.targetChanges.get(B.targetId),Ae=X&&X.targetMismatches.get(B.targetId)!=null,Se=B.view.applyChanges(ie,H.isPrimaryClient,he,Ae);return fv(H,B.targetId,Se.ba),Se.snapshot}(n,S,A,L);const l=await sv(n.localStore,e,!0),d=new HC(e,l.ds),f=d.ga(l.documents),p=Nl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=d.applyChanges(f,n.isPrimaryClient,p);fv(n,t,y.ba);const _=new qC(e,t,d);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function XC(n,e,t){const i=Ce(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(d=>!cd(d,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Ff(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&fp(i.remoteStore,o.targetId),Bf(i,o.targetId)}).catch(ea)):(Bf(i,o.targetId),await Ff(i.localStore,o.targetId,!0))}async function JC(n,e){const t=Ce(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),fp(t.remoteStore,i.targetId))}async function ZC(n,e,t){const i=oA(n);try{const o=await function(d,f){const p=Ce(d),y=Tt.now(),_=f.reduce((L,F)=>L.add(F.key),xe());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let F=Yr(),H=xe();return p.hs.getEntries(L,_).next(B=>{F=B,F.forEach((K,X)=>{X.isValidDocument()||(H=H.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,F)).next(B=>{S=B;const K=[];for(const X of f){const ie=mS(X,S.get(X.key).overlayedDocument);ie!=null&&K.push(new Ns(X.key,ie,Aw(ie.value.mapValue),Hr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,K,f)}).next(B=>{A=B;const K=B.applyToLocalDocumentSet(S,H);return p.documentOverlayCache.saveOverlays(L,B.batchId,K)})}).then(()=>({batchId:A.batchId,changes:Vw(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(d,f,p){let y=d.qa[d.currentUser.toKey()];y||(y=new it(De)),y=y.insert(f,p),d.qa[d.currentUser.toKey()]=y}(i,o.batchId,t),await Ll(i,o.changes),await yd(i.remoteStore)}catch(o){const l=vp(o,"Failed to persist write");t.reject(l)}}async function g_(n,e){const t=Ce(n);try{const i=await dC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.Ba.get(l);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Fa=!0:o.modifiedDocuments.size>0?$e(d.Fa):o.removedDocuments.size>0&&($e(d.Fa),d.Fa=!1))}),await Ll(t,i,e)}catch(i){await ea(i)}}function hv(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,d)=>{const f=d.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(d,f){const p=Ce(d);p.onlineState=f;let y=!1;p.queries.forEach((_,S)=>{for(const A of S.J_)A.ea(f)&&(y=!0)}),y&&wp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function eA(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let d=new it(we.comparator);d=d.insert(l,Wt.newNoDocument(l,Ie.min()));const f=xe().add(l),p=new pd(Ie.min(),new Map,new it(De),d,f);await g_(i,p),i.La=i.La.remove(l),i.Ba.delete(e),_p(i)}else await Ff(i.localStore,e,!1).then(()=>Bf(i,e,t)).catch(ea)}async function tA(n,e){const t=Ce(n),i=e.batch.batchId;try{const o=await cC(t.localStore,e);v_(t,i,null),y_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ll(t,o)}catch(o){await ea(o)}}async function nA(n,e,t){const i=Ce(n);try{const o=await function(d,f){const p=Ce(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next(S=>($e(S!==null),_=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);v_(i,e,t),y_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ll(i,o)}catch(o){await ea(o)}}function y_(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function v_(n,e,t){const i=Ce(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Bf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||w_(n,i)})}function w_(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(fp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),_p(n))}function fv(n,e,t){for(const i of t)i instanceof f_?(n.ka.addReference(i.key,e),rA(n,i)):i instanceof p_?(ae("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||w_(n,i.key)):Te()}function rA(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ae("SyncEngine","New document in limbo: "+t),n.Na.add(i),_p(n))}function _p(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(ot.fromString(e)),i=n.Ka.next();n.Ba.set(i,new WC(t)),n.La=n.La.insert(t,i),a_(n.remoteStore,new xi(mr(sp(t.path)),i,"TargetPurposeLimboResolution",od.oe))}}async function Ll(n,e,t){const i=Ce(n),o=[],l=[],d=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{d.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const S=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=hp.zi(p.targetId,y);l.push(S)}}))}),await Promise.all(d),i.Ma.R_(o),await async function(p,y){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(y,A=>W.forEach(A.Wi,L=>_.persistence.referenceDelegate.addReference(S,A.targetId,L)).next(()=>W.forEach(A.Gi,L=>_.persistence.referenceDelegate.removeReference(S,A.targetId,L)))))}catch(S){if(!ta(S))throw S;ae("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const A=S.targetId;if(!S.fromCache){const L=_.us.get(A),F=L.snapshotVersion,H=L.withLastLimboFreeSnapshotVersion(F);_.us=_.us.insert(A,H)}}}(i.localStore,l))}async function iA(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const i=await r_(t.localStore,e);t.currentUser=e,function(l,d){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ve(ee.CANCELLED,d))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ll(t,i.Ts)}}function sA(n,e){const t=Ce(n),i=t.Ba.get(e);if(i&&i.Fa)return xe().add(i.key);{let o=xe();const l=t.Oa.get(e);if(!l)return o;for(const d of l){const f=t.xa.get(d);o=o.unionWith(f.view.fa)}return o}}function __(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=g_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eA.bind(null,e),e.Ma.R_=jC.bind(null,e.eventManager),e.Ma.Wa=zC.bind(null,e.eventManager),e}function oA(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nA.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return uC(this.persistence,new aC,e.initialUser,this.serializer)}ja(e){return new n_(dp.ei,this.serializer)}za(e){return new gC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class aA extends zc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){$e(this.persistence.referenceDelegate instanceof Bc);const i=this.persistence.referenceDelegate.garbageCollector;return new WS(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new n_(i=>Bc.ei(i,t),this.serializer)}}class jf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=iA.bind(null,this.syncEngine),await VC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FC}()}createDatastore(e){const t=md(e.databaseInfo.databaseId),i=function(l){return new _C(l)}(e.databaseInfo);return function(l,d,f,p){return new IC(l,d,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,d,f){return new CC(i,o,l,d,f)}(this.localStore,this.datastore,e.asyncQueue,t=>hv(this.syncEngine,t,0),function(){return av.p()?new av:new yC}())}createSyncEngine(e,t){return function(o,l,d,f,p,y,_){const S=new KC(o,l,d,f,p,y);return _&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ce(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Dl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}jf.provider={build:()=>new jf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=Iw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async d=>{ae("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(i,d=>(ae("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=vp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gf(n,e){n.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await r_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function pv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await cA(n);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>lv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>lv(e.remoteStore,o)),n._onlineComponents=e}async function cA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await gf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),await gf(n,new zc)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await gf(n,new aA(void 0));return n._offlineComponents}async function E_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await pv(n,n._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await pv(n,new jf))),n._onlineComponents}function dA(n){return E_(n).then(e=>e.syncEngine)}async function hA(n){const e=await E_(n),t=e.eventManager;return t.onListen=GC.bind(null,e.syncEngine),t.onUnlisten=XC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JC.bind(null,e.syncEngine),t}function fA(n,e,t={}){const i=new Mi;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,f,p,y){const _=new lA({next:A=>{_.eu(),d.enqueueAndForget(()=>BC(l,S));const L=A.docs.has(f);!L&&A.fromCache?y.reject(new ve(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&A.fromCache&&p&&p.source==="server"?y.reject(new ve(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),S=new $C(sp(f.path),_,{includeMetadataChanges:!0,ua:!0});return UC(l,S)}(await hA(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n,e,t){if(!t)throw new ve(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mA(n,e,t,i){if(e===!0&&i===!0)throw new ve(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gv(n){if(!we.isDocumentKey(n))throw new ve(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ep(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Sl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ep(n);throw new ve(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T_((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new E1;switch(i.type){case"firstParty":return new C1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=mv.get(t);i&&(ae("ComponentProvider","Removing Datastore"),mv.delete(t),i.terminate())}(this),Promise.resolve()}}function gA(n,e,t,i={}){var o;const l=(n=Sl(n,Tp))._getSettings(),d=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==d&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=qt.MOCK_USER;else{f=QT(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ve(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qt(y)}n._authCredentials=new T1(new Tw(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ip(this.firestore,e,this._query)}}class On{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Cl extends Ip{constructor(e,t,i){super(e,t,sp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new we(e))}withConverter(e){return new Cl(this.firestore,e,this._path)}}function Sp(n,e,...t){if(n=cn(n),arguments.length===1&&(e=Iw.newId()),pA("doc","path",e),n instanceof Tp){const i=ot.fromString(e,...t);return gv(i),new On(n,null,new we(i))}{if(!(n instanceof On||n instanceof Cl))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return gv(i),new On(n.firestore,n instanceof Cl?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new s_(this,"async_queue_retry"),this.fu=()=>{const i=mf();i&&ae("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Mi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ta(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),f}(i);throw Qr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=yp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Cp extends Tp{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new vv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function yA(n,e){const t=typeof n=="object"?n:fw(),i=typeof n=="string"?n:"(default)",o=Zf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=KT("firestore");l&&gA(o,...l)}return o}function I_(n){if(n._terminated)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vA(n),n._firestoreClient}function vA(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,y,_){return new B1(f,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,T_(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new uA(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qo(Mt.fromBase64String(e))}catch(t){throw new ve(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qo(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=/^__.*__$/;class _A{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new xl(e,this.data,t,this.fieldTransforms)}}function C_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Rp{constructor(e,t,i,o,l,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return $c(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(C_(this.Mu)&&wA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class EA{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||md(e)}$u(e,t,i,o=!1){return new Rp({Mu:e,methodName:t,Ku:i,path:Vt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TA(n){const e=n._freezeSettings(),t=md(n._databaseId);return new EA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IA(n,e,t,i,o,l={}){const d=n.$u(l.merge||l.mergeFields?2:0,e,t,o);R_("Data must be an object, but it was:",d,i);const f=k_(i,d);let p,y;if(l.merge)p=new Zn(d.fieldMask),y=d.fieldTransforms;else if(l.mergeFields){const _=[];for(const S of l.mergeFields){const A=SA(e,S,t);if(!d.contains(A))throw new ve(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);AA(_,A)||_.push(A)}p=new Zn(_),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new _A(new Ln(f),p,y)}function A_(n,e){if(P_(n=cn(n)))return R_("Unsupported field value:",e,n),k_(n,e);if(n instanceof S_)return function(i,o){if(!C_(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let d=0;for(const f of i){let p=A_(f,o.ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),d++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Tt.fromDate(i);return{timestampValue:Uc(o.serializer,l)}}if(i instanceof Tt){const l=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uc(o.serializer,l)}}if(i instanceof kp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qo)return{bytesValue:Qw(o.serializer,i._byteString)};if(i instanceof On){const l=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(l))throw o.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:up(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Pp)return function(d,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return op(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Ep(i)}`)}(n,e)}function k_(n,e){const t={};return Sw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(n,(i,o)=>{const l=A_(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function P_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof kp||n instanceof Qo||n instanceof On||n instanceof S_||n instanceof Pp)}function R_(n,e,t){if(!P_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Ep(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function SA(n,e,t){if((e=cn(e))instanceof Ap)return e._internalPath;if(typeof e=="string")return b_(n,e);throw $c("Field path arguments must be of type string or ",n,!1,void 0,t)}const CA=new RegExp("[~\\*/\\[\\]]");function b_(n,e,t){if(e.search(CA)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ap(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $c(n,e,t,i,o){const l=i&&!i.isEmpty(),d=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||d)&&(p+=" (found",l&&(p+=` in field ${i}`),d&&(p+=` in document ${o}`),p+=")"),new ve(ee.INVALID_ARGUMENT,f+n+p)}function AA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(N_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kA extends x_{data(){return super.data()}}function N_(n,e){return typeof e=="string"?b_(n,e):e instanceof Ap?e._internalPath:e._delegate._internalPath}class PA{convertValue(e,t="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return bs(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(d=>dt(d.doubleValue));return new Pp(l)}convertGeoPoint(e){return new kp(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ld(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const t=Ui(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);$e(t_(i));const o=new _l(i.get(1),i.get(3)),l=new we(i.popFirst(5));return o.isEqual(t)||Qr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class D_ extends x_{constructor(e,t,i,o,l,d){super(e,t,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(N_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class xA extends D_{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n){n=Sl(n,On);const e=Sl(n.firestore,Cp);return fA(I_(e),n._key).then(t=>OA(e,n,t))}class DA extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function L_(n,e,t){n=Sl(n,On);const i=Sl(n.firestore,Cp),o=RA(n.converter,e,t);return LA(i,[IA(TA(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Hr.none())])}function LA(n,e){return function(i,o){const l=new Mi;return i.asyncQueue.enqueueAndForget(async()=>ZC(await dA(i),o,l)),l.promise}(I_(n),e)}function OA(n,e,t){const i=t.docs.get(e._key),o=new DA(n);return new D_(n,o,e._key,i,new bA(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Zo=o})(Jo),zo(new Ss("firestore",(i,{instanceIdentifier:o,options:l})=>{const d=i.getProvider("app").getImmediate(),f=new Cp(new I1(i.getProvider("auth-internal")),new k1(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(y.options.projectId,_)}(d,o),d);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Vi(Vy,"4.7.5",e),Vi(Vy,"4.7.5","esm2017")})();function bp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function O_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VA=O_,V_=new Rl("auth","Firebase",O_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Xf("@firebase/auth");function MA(n,...e){Hc.logLevel<=be.WARN&&Hc.warn(`Auth (${Jo}): ${n}`,...e)}function Ic(n,...e){Hc.logLevel<=be.ERROR&&Hc.error(`Auth (${Jo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n,...e){throw xp(n,...e)}function yr(n,...e){return xp(n,...e)}function M_(n,e,t){const i=Object.assign(Object.assign({},VA()),{[e]:t});return new Rl("auth","Firebase",i).create(e,{appName:n.name})}function qr(n){return M_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return V_.create(n,...e)}function _e(n,e,...t){if(!n)throw xp(e,...t)}function jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ic(e),new Error(e)}function Xr(n,e){n||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function FA(){return wv()==="http:"||wv()==="https:"}function wv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FA()||ZT()||"connection"in navigator)?navigator.onLine:!0}function BA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile=YT()||eI()}get(){return UA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,e){Xr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Ol(3e4,6e4);function Zr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ei(n,e,t,i,o={}){return U_(n,o,async()=>{let l={},d={};i&&(e==="GET"?d=i:l={body:JSON.stringify(i)});const f=bl(Object.assign({key:n.config.apiKey},d)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return JT()||(y.referrerPolicy="no-referrer"),F_.fetch()(B_(n,n.config.apiHost,t,f),y)})}async function U_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},jA),e);try{const o=new HA(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw mc(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const f=l.ok?d.errorMessage:d.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw mc(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw mc(n,"user-disabled",d);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw M_(n,_,y);er(n,_)}}catch(o){if(o instanceof Jr)throw o;er(n,"network-request-failed",{message:String(o)})}}async function Vl(n,e,t,i,o={}){const l=await ei(n,e,t,i,o);return"mfaPendingCredential"in l&&er(n,"multi-factor-auth-required",{_serverResponse:l}),l}function B_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Np(n.config,o):`${n.config.apiScheme}://${o}`}function $A(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yr(this.auth,"network-request-failed")),zA.get())})}}function mc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=yr(n,e,i);return o.customData._tokenResponse=t,o}function _v(n){return n!==void 0&&n.enterprise!==void 0}class qA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $A(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WA(n,e){return ei(n,"GET","/v2/recaptchaConfig",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(n,e){return ei(n,"POST","/v1/accounts:delete",e)}async function j_(n,e){return ei(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GA(n,e=!1){const t=cn(n),i=await t.getIdToken(e),o=Dp(i);_e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:gl(yf(o.auth_time)),issuedAtTime:gl(yf(o.iat)),expirationTime:gl(yf(o.exp)),signInProvider:d||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function yf(n){return Number(n)*1e3}function Dp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=ow(t);return o?JSON.parse(o):(Ic("Failed to decode base64 JWT payload"),null)}catch(o){return Ic("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ev(n){const e=Dp(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Jr&&QA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function QA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Al(n,j_(t,{idToken:i}));_e(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?z_(l.providerUserInfo):[],f=JA(n.providerData,d),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new $f(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,S)}async function XA(n){const e=cn(n);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function z_(n){return n.map(e=>{var{providerId:t}=e,i=bp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(n,e){const t=await U_(n,{},async()=>{const i=bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,d=B_(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",F_.fetch()(d,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ek(n,e){return ei(n,"POST","/v2/accounts:revokeToken",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ev(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=Ev(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await ZA(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,d=new Mo;return i&&(_e(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(_e(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(_e(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=bp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $f(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GA(this,e)}reload(){return XA(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await qc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await Al(this,KA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,d,f,p,y,_;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,L=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,F=(d=t.photoURL)!==null&&d!==void 0?d:void 0,H=(f=t.tenantId)!==null&&f!==void 0?f:void 0,B=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(y=t.createdAt)!==null&&y!==void 0?y:void 0,X=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ie,emailVerified:he,isAnonymous:Ae,providerData:Se,stsTokenManager:b}=t;_e(ie&&b,e,"internal-error");const T=Mo.fromJSON(this.name,b);_e(typeof ie=="string",e,"internal-error"),Ai(S,e.name),Ai(A,e.name),_e(typeof he=="boolean",e,"internal-error"),_e(typeof Ae=="boolean",e,"internal-error"),Ai(L,e.name),Ai(F,e.name),Ai(H,e.name),Ai(B,e.name),Ai(K,e.name),Ai(X,e.name);const C=new zr({uid:ie,auth:e,email:A,emailVerified:he,displayName:S,isAnonymous:Ae,photoURL:F,phoneNumber:L,tenantId:H,stsTokenManager:T,createdAt:K,lastLoginAt:X});return Se&&Array.isArray(Se)&&(C.providerData=Se.map(R=>Object.assign({},R))),B&&(C._redirectEventId=B),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Mo;o.updateFromServerResponse(t);const l=new zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await qc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];_e(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?z_(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Mo;f.updateFromIdToken(i);const p=new zr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new $f(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;function $r(n){Xr(n instanceof Function,"Expected a class definition");let e=Tv.get(n);return e?(Xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$_.type="NONE";const Iv=$_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n,e,t){return`firebase:${n}:${e}:${t}`}class Fo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Sc(this.userKey,o.apiKey,l),this.fullPersistenceKey=Sc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Fo($r(Iv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||$r(Iv);const d=Sc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(d);if(_){const S=zr._fromJSON(e,_);y!==l&&(f=S),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Fo(l,e,i):(l=p[0],f&&await l._set(d,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(d)}catch{}})),new Fo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q_(e))return"Blackberry";if(Y_(e))return"Webos";if(q_(e))return"Safari";if((e.includes("chrome/")||W_(e))&&!e.includes("edge/"))return"Chrome";if(G_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function H_(n=Kt()){return/firefox\//i.test(n)}function q_(n=Kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W_(n=Kt()){return/crios\//i.test(n)}function K_(n=Kt()){return/iemobile/i.test(n)}function G_(n=Kt()){return/android/i.test(n)}function Q_(n=Kt()){return/blackberry/i.test(n)}function Y_(n=Kt()){return/webos/i.test(n)}function Lp(n=Kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tk(n=Kt()){var e;return Lp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nk(){return tI()&&document.documentMode===10}function X_(n=Kt()){return Lp(n)||G_(n)||Y_(n)||Q_(n)||/windows phone/i.test(n)||K_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(n,e=[]){let t;switch(n){case"Browser":t=Sv(Kt());break;case"Worker":t=`${Sv(Kt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((d,f)=>{try{const p=e(l);d(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(n,e={}){return ei(n,"GET","/v2/passwordPolicy",Zr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=6;class ok{constructor(e){var t,i,o,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:sk,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new rk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await j_(this,{idToken:e}),i=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pr(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(qr(this));const t=e?cn(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ik(this),t=new ok(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await ek(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(f,this,"internal-error"),f.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&MA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ls(n){return cn(n)}class Cv{constructor(e){this.auth=e,this.observer=null,this.addObserver=uI(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lk(n){vd=n}function Z_(n){return vd.loadJS(n)}function uk(){return vd.recaptchaEnterpriseScript}function ck(){return vd.gapiScript}function dk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hk{constructor(){this.enterprise=new fk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pk="recaptcha-enterprise",e0="NO_RECAPTCHA";class mk{constructor(e){this.type=pk,this.auth=Ls(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,f)=>{WA(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new qA(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,d(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,d,f){const p=window.grecaptcha;_v(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{d(y)}).catch(()=>{d(e0)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hk().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{i(this.auth).then(f=>{if(!t&&_v(window.grecaptcha))o(f,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uk();p.length!==0&&(p+=f),Z_(p).then(()=>{o(f,l,d)}).catch(y=>{d(y)})}}).catch(f=>{d(f)})})}}async function Av(n,e,t,i=!1,o=!1){const l=new mk(n);let d;if(o)d=e0;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Hf(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Av(n,e,t,t==="getOobCode");return i(n,d)}else return i(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Av(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(n,e){const t=Zf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Nc(l,e??{}))return o;er(o,"already-initialized")}return t.initialize({options:e})}function yk(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($r);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function vk(n,e,t){const i=Ls(n);_e(i._canInitEmulator,i,"emulator-config-failed"),_e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=t0(e),{host:d,port:f}=wk(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${d}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:d,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),_k()}function t0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wk(n){const e=t0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:kv(i.substr(l.length+1))}}else{const[l,d]=i.split(":");return{host:l,port:kv(d)}}}function kv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _k(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,t){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function Ek(n,e){return ei(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(n,e){return Vl(n,"POST","/v1/accounts:signInWithPassword",Zr(n,e))}async function Ik(n,e){return ei(n,"POST","/v1/accounts:sendOobCode",Zr(n,e))}async function Sk(n,e){return Ik(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(n,e){return Vl(n,"POST","/v1/accounts:signInWithEmailLink",Zr(n,e))}async function Ak(n,e){return Vl(n,"POST","/v1/accounts:signInWithEmailLink",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Op{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new kl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new kl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hf(e,t,"signInWithPassword",Tk);case"emailLink":return Ck(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hf(e,i,"signUpPassword",Ek);case"emailLink":return Ak(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n,e){return Vl(n,"POST","/v1/accounts:signInWithIdp",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="http://localhost";class As extends Op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=bp(t,["providerId","signInMethod"]);if(!i||!o)return null;const d=new As(i,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Uo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Uo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uo(e,t)}buildRequest(){const e={requestUri:kk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rk(n){const e=al(ll(n)).link,t=e?al(ll(e)).deep_link_id:null,i=al(ll(n)).deep_link_id;return(i?al(ll(i)).link:null)||i||t||e||n}class Vp{constructor(e){var t,i,o,l,d,f;const p=al(ll(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,S=Pk((o=p.mode)!==null&&o!==void 0?o:null);_e(y&&_&&S,"argument-error"),this.apiKey=y,this.operation=S,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=Rk(e);try{return new Vp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.providerId=ra.PROVIDER_ID}static credential(e,t){return kl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Vp.parseLink(t);return _e(i,"argument-error"),kl._fromEmailAndCode(e,i.code,i.tenantId)}}ra.PROVIDER_ID="password";ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends n0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Ml{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return As._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Pi.credential(t,i)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Ml{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Ml{constructor(){super("twitter.com")}static credential(e,t){return As._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bi.credential(t,i)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(n,e){return Vl(n,"POST","/v1/accounts:signUp",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await zr._fromIdTokenResponse(e,i,o),d=Pv(i);return new ks({user:l,providerId:d,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Pv(i);return new ks({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Pv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Jr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Wc(e,t,i,o)}}function r0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(n,l,e,i):l})}async function xk(n,e,t=!1){const i=await Al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ks._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(n,e,t=!1){const{auth:i}=n;if(pr(i.app))return Promise.reject(qr(i));const o="reauthenticate";try{const l=await Al(n,r0(i,o,e,n),t);_e(l.idToken,i,"internal-error");const d=Dp(l.idToken);_e(d,i,"internal-error");const{sub:f}=d;return _e(n.uid===f,i,"user-mismatch"),ks._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&er(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i0(n,e,t=!1){if(pr(n.app))return Promise.reject(qr(n));const i="signIn",o=await r0(n,i,e),l=await ks._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function Dk(n,e){return i0(Ls(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s0(n){const e=Ls(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lk(n,e,t){if(pr(n.app))return Promise.reject(qr(n));const i=Ls(n),d=await Hf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bk).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&s0(n),p}),f=await ks._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(f.user),f}function Ok(n,e,t){return pr(n.app)?Promise.reject(qr(n)):Dk(cn(n),ra.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&s0(n),i})}async function o0(n,e){const t=cn(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await Sk(t.auth,o);l!==n.email&&await n.reload()}function Vk(n,e,t,i){return cn(n).onIdTokenChanged(e,t,i)}function Mk(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function Fk(n,e,t,i){return cn(n).onAuthStateChanged(e,t,i)}function Uk(n){return cn(n).signOut()}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=1e3,jk=10;class l0 extends a0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!t&&this.localCache[i]===d||this.notifyListeners(i,d)},l=this.storage.getItem(i);nk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Bk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}l0.type="LOCAL";const zk=l0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends a0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}u0.type="SESSION";const c0=u0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new wd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(d).map(async y=>y(t.origin,l)),p=await $k(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((f,p)=>{const y=Mp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function qk(n){vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function Wk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Gk(){return d0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="firebaseLocalStorageDb",Qk=1,Gc="firebaseLocalStorage",f0="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _d(n,e){return n.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function Yk(){const n=indexedDB.deleteDatabase(h0);return new Fl(n).toPromise()}function qf(){const n=indexedDB.open(h0,Qk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Gc,{keyPath:f0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Gc)?e(i):(i.close(),await Yk(),e(await qf()))})})}async function Rv(n,e,t){const i=_d(n,!0).put({[f0]:e,value:t});return new Fl(i).toPromise()}async function Xk(n,e){const t=_d(n,!1).get(e),i=await new Fl(t).toPromise();return i===void 0?null:i.value}function bv(n,e){const t=_d(n,!0).delete(e);return new Fl(t).toPromise()}const Jk=800,Zk=3;class p0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Zk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(Gk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Wk(),!this.activeServiceWorker)return;this.sender=new Hk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qf();return await Rv(e,Kc,"1"),await bv(e,Kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Rv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Xk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=_d(o,!1).getAll();return new Fl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p0.type="LOCAL";const e2=p0;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n,e){return e?$r(e):(_e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp extends Op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function n2(n){return i0(n.auth,new Fp(n),n.bypassAuthState)}function r2(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),Nk(t,new Fp(n),n.bypassAuthState)}async function i2(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),xk(t,new Fp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n2;case"linkViaPopup":case"linkViaRedirect":return i2;case"reauthViaPopup":case"reauthViaRedirect":return r2;default:er(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Ol(2e3,1e4);class Oo extends m0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s2.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="pendingRedirect",Cc=new Map;class a2 extends m0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const i=await l2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l2(n,e){const t=d2(e),i=c2(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function u2(n,e){Cc.set(n._key(),e)}function c2(n){return $r(n._redirectPersistence)}function d2(n){return Sc(o2,n.config.apiKey,n.name)}async function h2(n,e,t=!1){if(pr(n.app))return Promise.reject(qr(n));const i=Ls(n),o=t2(i,e),d=await new a2(i,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=10*60*1e3;class p2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!g0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f2&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(e))}saveEventToCache(e){this.cachedEventUids.add(xv(e)),this.lastProcessedEventTime=Date.now()}}function xv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function g0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(n,e={}){return ei(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v2=/^https?/;async function w2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await g2(n);for(const t of e)try{if(_2(t))return}catch{}er(n,"unauthorized-domain")}function _2(n){const e=zf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===i}if(!v2.test(t))return!1;if(y2.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new Ol(3e4,6e4);function Nv(){const n=vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function T2(n){return new Promise((e,t)=>{var i,o,l;function d(){Nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nv(),t(yr(n,"network-request-failed"))},timeout:E2.get()})}if(!((o=(i=vr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=vr().gapi)===null||l===void 0)&&l.load)d();else{const f=dk("iframefcb");return vr()[f]=()=>{gapi.load?d():t(yr(n,"network-request-failed"))},Z_(`${ck()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function I2(n){return Ac=Ac||T2(n),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Ol(5e3,15e3),C2="__/auth/iframe",A2="emulator/auth/iframe",k2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R2(n){const e=n.config;_e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Np(e,A2):`https://${n.config.authDomain}/${C2}`,i={apiKey:e.apiKey,appName:n.name,v:Jo},o=P2.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${bl(i).slice(1)}`}async function b2(n){const e=await I2(n),t=vr().gapi;return _e(t,n,"internal-error"),e.open({where:document.body,url:R2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k2,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const d=yr(n,"network-request-failed"),f=vr().setTimeout(()=>{l(d)},S2.get());function p(){vr().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N2=500,D2=600,L2="_blank",O2="http://localhost";class Dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V2(n,e,t,i=N2,o=D2){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},x2),{width:i.toString(),height:o.toString(),top:l,left:d}),y=Kt().toLowerCase();t&&(f=W_(y)?L2:t),H_(y)&&(e=e||O2,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[L,F])=>`${A}${L}=${F},`,"");if(tk(y)&&f!=="_self")return M2(e||"",f),new Dv(null);const S=window.open(e||"",f,_);_e(S,n,"popup-blocked");try{S.focus()}catch{}return new Dv(S)}function M2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="__/auth/handler",U2="emulator/auth/handler",B2=encodeURIComponent("fac");async function Lv(n,e,t,i,o,l){_e(n.config.authDomain,n,"auth-domain-config-required"),_e(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Jo,eventId:o};if(e instanceof n0){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",lI(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,S]of Object.entries({}))d[_]=S}if(e instanceof Ml){const _=e.getScopes().filter(S=>S!=="");_.length>0&&(d.scopes=_.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await n._getAppCheckToken(),y=p?`#${B2}=${encodeURIComponent(p)}`:"";return`${j2(n)}?${bl(f).slice(1)}${y}`}function j2({config:n}){return n.emulator?Np(n,U2):`https://${n.authDomain}/${F2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="webStorageSupport";class z2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c0,this._completeRedirectFn=h2,this._overrideRedirectResult=u2}async _openPopup(e,t,i,o){var l;Xr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await Lv(e,t,i,zf(),o);return V2(e,d,Mp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Lv(e,t,i,zf(),o);return qk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Xr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await b2(e),i=new p2(e);return t.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vf,{type:vf},o=>{var l;const d=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[vf];d!==void 0&&t(!!d),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=w2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return X_()||q_()||Lp()}}const $2=z2;var Ov="@firebase/auth",Vv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W2(n){zo(new Ss("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=i.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J_(n)},y=new ak(i,o,l,p);return yk(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),zo(new Ss("auth-internal",e=>{const t=Ls(e.getProvider("auth").getImmediate());return(i=>new H2(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(Ov,Vv,q2(n)),Vi(Ov,Vv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=5*60,G2=uw("authIdTokenMaxAge")||K2;let Mv=null;const Q2=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>G2)return;const o=t==null?void 0:t.token;Mv!==o&&(Mv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Y2(n=fw()){const e=Zf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=gk(n,{popupRedirectResolver:$2,persistence:[e2,zk,c0]}),i=uw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const d=Q2(l.toString());Mk(t,d,()=>d(t.currentUser)),Vk(t,f=>d(f))}}const o=aw("auth");return o&&vk(t,`http://${o}`),t}function X2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=yr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",X2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W2("Browser");const J2={apiKey:"AIzaSyAMCtRmdGQfs7CVSvrrEbpxgSmbN9d87yk",authDomain:"AIzaSyAMCtRmdGQfs7CVSvrrEbpxgSmbN9d87yk",projectId:"mtess-form",storageBucket:"mtess-form.appspot.com",messagingSenderId:"752618464069",appId:"1:752618464069:web:0479fc85cb481af7b5d42c"},y0=hw(J2),Up=yA(y0),Ed=Y2(y0),v0=q.createContext(),Bp=()=>q.useContext(v0),Z2=({children:n})=>{const[e,t]=q.useState(null);return q.useEffect(()=>Fk(Ed,o=>{t(o)}),[]),Q.jsx(v0.Provider,{value:{currentUser:e},children:n})};/*!
* sweetalert2 v11.15.2
* Released under the MIT License.
*/function w0(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function eP(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Fv(n,e){return n.get(w0(n,e))}function tP(n,e,t){eP(n,e),e.set(n,t)}function nP(n,e,t){return n.set(w0(n,e),t),t}const rP=100,ye={},iP=()=>{ye.previousActiveElement instanceof HTMLElement?(ye.previousActiveElement.focus(),ye.previousActiveElement=null):document.body&&document.body.focus()},sP=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,i=window.scrollY;ye.restoreFocusTimeout=setTimeout(()=>{iP(),e()},rP),window.scrollTo(t,i)}),_0="swal2-",oP=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],$=oP.reduce((n,e)=>(n[e]=_0+e,n),{}),aP=["success","warning","info","question","error"],Qc=aP.reduce((n,e)=>(n[e]=_0+e,n),{}),E0="SweetAlert2:",jp=n=>n.charAt(0).toUpperCase()+n.slice(1),dn=n=>{console.warn(`${E0} ${typeof n=="object"?n.join(" "):n}`)},Os=n=>{console.error(`${E0} ${n}`)},Uv=[],lP=n=>{Uv.includes(n)||(Uv.push(n),dn(n))},T0=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;lP(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Td=n=>typeof n=="function"?n():n,zp=n=>n&&typeof n.toPromise=="function",Ul=n=>zp(n)?n.toPromise():Promise.resolve(n),$p=n=>n&&Promise.resolve(n)===n,hn=()=>document.body.querySelector(`.${$.container}`),Bl=n=>{const e=hn();return e?e.querySelector(n):null},Tn=n=>Bl(`.${n}`),Be=()=>Tn($.popup),ia=()=>Tn($.icon),uP=()=>Tn($["icon-content"]),I0=()=>Tn($.title),Hp=()=>Tn($["html-container"]),S0=()=>Tn($.image),qp=()=>Tn($["progress-steps"]),Id=()=>Tn($["validation-message"]),Er=()=>Bl(`.${$.actions} .${$.confirm}`),sa=()=>Bl(`.${$.actions} .${$.cancel}`),Vs=()=>Bl(`.${$.actions} .${$.deny}`),cP=()=>Tn($["input-label"]),oa=()=>Bl(`.${$.loader}`),jl=()=>Tn($.actions),C0=()=>Tn($.footer),Sd=()=>Tn($["timer-progress-bar"]),Wp=()=>Tn($.close),dP=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Kp=()=>{const n=Be();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((l,d)=>{const f=parseInt(l.getAttribute("tabindex")||"0"),p=parseInt(d.getAttribute("tabindex")||"0");return f>p?1:f<p?-1:0}),i=n.querySelectorAll(dP),o=Array.from(i).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(l=>un(l))},Gp=()=>Wr(document.body,$.shown)&&!Wr(document.body,$["toast-shown"])&&!Wr(document.body,$["no-backdrop"]),Cd=()=>{const n=Be();return n?Wr(n,$.toast):!1},hP=()=>{const n=Be();return n?n.hasAttribute("data-loading"):!1},In=(n,e)=>{if(n.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(d=>{n.appendChild(d)});const l=i.querySelector("body");l&&Array.from(l.childNodes).forEach(d=>{d instanceof HTMLVideoElement||d instanceof HTMLAudioElement?n.appendChild(d.cloneNode(!0)):n.appendChild(d)})}},Wr=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},fP=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values($).includes(t)&&!Object.values(Qc).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},En=(n,e,t)=>{if(fP(n,e),!e.customClass)return;const i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){dn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}Me(n,i)}},Ad=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${$.popup} > .${$[e]}`);case"checkbox":return n.querySelector(`.${$.popup} > .${$.checkbox} input`);case"radio":return n.querySelector(`.${$.popup} > .${$.radio} input:checked`)||n.querySelector(`.${$.popup} > .${$.radio} input:first-child`);case"range":return n.querySelector(`.${$.popup} > .${$.range} input`);default:return n.querySelector(`.${$.popup} > .${$.input}`)}},A0=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},k0=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(i):o.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},Me=(n,e)=>{k0(n,e,!0)},Vn=(n,e)=>{k0(n,e,!1)},Ni=(n,e)=>{const t=Array.from(n.children);for(let i=0;i<t.length;i++){const o=t[i];if(o instanceof HTMLElement&&Wr(o,e))return o}},Is=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},bt=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},Gt=n=>{n&&(n.style.display="none")},Qp=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{zl(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},Bv=(n,e,t,i)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,i)},zl=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?bt(n,t):Gt(n)},un=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),pP=()=>!un(Er())&&!un(Vs())&&!un(sa()),jv=n=>n.scrollHeight>n.clientHeight,P0=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},Yp=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=Sd();t&&un(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},mP=()=>{const n=Sd();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},gP=()=>typeof window>"u"||typeof document>"u",yP=`
 <div aria-labelledby="${$.title}" aria-describedby="${$["html-container"]}" class="${$.popup}" tabindex="-1">
   <button type="button" class="${$.close}"></button>
   <ul class="${$["progress-steps"]}"></ul>
   <div class="${$.icon}"></div>
   <img class="${$.image}" />
   <h2 class="${$.title}" id="${$.title}"></h2>
   <div class="${$["html-container"]}" id="${$["html-container"]}"></div>
   <input class="${$.input}" id="${$.input}" />
   <input type="file" class="${$.file}" />
   <div class="${$.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${$.select}" id="${$.select}"></select>
   <div class="${$.radio}"></div>
   <label class="${$.checkbox}">
     <input type="checkbox" id="${$.checkbox}" />
     <span class="${$.label}"></span>
   </label>
   <textarea class="${$.textarea}" id="${$.textarea}"></textarea>
   <div class="${$["validation-message"]}" id="${$["validation-message"]}"></div>
   <div class="${$.actions}">
     <div class="${$.loader}"></div>
     <button type="button" class="${$.confirm}"></button>
     <button type="button" class="${$.deny}"></button>
     <button type="button" class="${$.cancel}"></button>
   </div>
   <div class="${$.footer}"></div>
   <div class="${$["timer-progress-bar-container"]}">
     <div class="${$["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),vP=()=>{const n=hn();return n?(n.remove(),Vn([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0):!1},ws=()=>{ye.currentInstance.resetValidationMessage()},wP=()=>{const n=Be(),e=Ni(n,$.input),t=Ni(n,$.file),i=n.querySelector(`.${$.range} input`),o=n.querySelector(`.${$.range} output`),l=Ni(n,$.select),d=n.querySelector(`.${$.checkbox} input`),f=Ni(n,$.textarea);e.oninput=ws,t.onchange=ws,l.onchange=ws,d.onchange=ws,f.oninput=ws,i.oninput=()=>{ws(),o.value=i.value},i.onchange=()=>{ws(),o.value=i.value}},_P=n=>typeof n=="string"?document.querySelector(n):n,EP=n=>{const e=Be();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},TP=n=>{window.getComputedStyle(n).direction==="rtl"&&Me(hn(),$.rtl)},IP=n=>{const e=vP();if(gP()){Os("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=$.container,e&&Me(t,$["no-transition"]),In(t,yP);const i=_P(n.target);i.appendChild(t),EP(n),TP(i),wP()},Xp=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?SP(n,e):n&&In(e,n)},SP=(n,e)=>{n.jquery?CP(e,n):In(e,n.toString())},CP=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},AP=(n,e)=>{const t=jl(),i=oa();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Gt(t):bt(t),En(t,e,"actions"),kP(t,i,e),In(i,e.loaderHtml||""),En(i,e,"loader"))};function kP(n,e,t){const i=Er(),o=Vs(),l=sa();!i||!o||!l||(wf(i,"confirm",t),wf(o,"deny",t),wf(l,"cancel",t),PP(i,o,l,t),t.reverseButtons&&(t.toast?(n.insertBefore(l,i),n.insertBefore(o,i)):(n.insertBefore(l,e),n.insertBefore(o,e),n.insertBefore(i,e))))}function PP(n,e,t,i){if(!i.buttonsStyling){Vn([n,e,t],$.styled);return}Me([n,e,t],$.styled),i.confirmButtonColor&&(n.style.backgroundColor=i.confirmButtonColor,Me(n,$["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,Me(e,$["default-outline"])),i.cancelButtonColor&&(t.style.backgroundColor=i.cancelButtonColor,Me(t,$["default-outline"]))}function wf(n,e,t){const i=jp(e);zl(n,t[`show${i}Button`],"inline-block"),In(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=$[e],En(n,t,`${e}Button`)}const RP=(n,e)=>{const t=Wp();t&&(In(t,e.closeButtonHtml||""),En(t,e,"closeButton"),zl(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},bP=(n,e)=>{const t=hn();t&&(xP(t,e.backdrop),NP(t,e.position),DP(t,e.grow),En(t,e,"container"))};function xP(n,e){typeof e=="string"?n.style.background=e:e||Me([document.documentElement,document.body],$["no-backdrop"])}function NP(n,e){e&&(e in $?Me(n,$[e]):(dn('The "position" parameter is not valid, defaulting to "center"'),Me(n,$.center)))}function DP(n,e){e&&Me(n,$[`grow-${e}`])}var Ye={innerParams:new WeakMap,domCache:new WeakMap};const LP=["input","file","range","select","radio","checkbox","textarea"],OP=(n,e)=>{const t=Be();if(!t)return;const i=Ye.innerParams.get(n),o=!i||e.input!==i.input;LP.forEach(l=>{const d=Ni(t,$[l]);d&&(FP(l,e.inputAttributes),d.className=$[l],o&&Gt(d))}),e.input&&(o&&VP(e),UP(e))},VP=n=>{if(!n.input)return;if(!ct[n.input]){Os(`Unexpected type of input! Expected ${Object.keys(ct).join(" | ")}, got "${n.input}"`);return}const e=R0(n.input);if(!e)return;const t=ct[n.input](e,n);bt(e),n.inputAutoFocus&&setTimeout(()=>{A0(t)})},MP=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},FP=(n,e)=>{const t=Be();if(!t)return;const i=Ad(t,n);if(i){MP(i);for(const o in e)i.setAttribute(o,e[o])}},UP=n=>{if(!n.input)return;const e=R0(n.input);e&&En(e,n,"input")},Jp=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},$l=(n,e,t)=>{if(t.inputLabel){const i=document.createElement("label"),o=$["input-label"];i.setAttribute("for",n.id),i.className=o,typeof t.customClass=="object"&&Me(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},R0=n=>{const e=Be();if(e)return Ni(e,$[n]||$.input)},Yc=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:$p(e)||dn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ct={};ct.text=ct.email=ct.password=ct.number=ct.tel=ct.url=ct.search=ct.date=ct["datetime-local"]=ct.time=ct.week=ct.month=(n,e)=>(Yc(n,e.inputValue),$l(n,n,e),Jp(n,e),n.type=e.input,n);ct.file=(n,e)=>($l(n,n,e),Jp(n,e),n);ct.range=(n,e)=>{const t=n.querySelector("input"),i=n.querySelector("output");return Yc(t,e.inputValue),t.type=e.input,Yc(i,e.inputValue),$l(t,n,e),n};ct.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");In(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return $l(n,n,e),n};ct.radio=n=>(n.textContent="",n);ct.checkbox=(n,e)=>{const t=Ad(Be(),"checkbox");t.value="1",t.checked=!!e.inputValue;const i=n.querySelector("span");return In(i,e.inputPlaceholder||e.inputLabel),t};ct.textarea=(n,e)=>{Yc(n,e.inputValue),Jp(n,e),$l(n,n,e);const t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(Be()).width),o=()=>{if(!document.body.contains(n))return;const l=n.offsetWidth+t(n);l>i?Be().style.width=`${l}px`:Is(Be(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const BP=(n,e)=>{const t=Hp();t&&(Qp(t),En(t,e,"htmlContainer"),e.html?(Xp(e.html,t),bt(t,"block")):e.text?(t.textContent=e.text,bt(t,"block")):Gt(t),OP(n,e))},jP=(n,e)=>{const t=C0();t&&(Qp(t),zl(t,e.footer,"block"),e.footer&&Xp(e.footer,t),En(t,e,"footer"))},zP=(n,e)=>{const t=Ye.innerParams.get(n),i=ia();if(i){if(t&&e.icon===t.icon){$v(i,e),zv(i,e);return}if(!e.icon&&!e.iconHtml){Gt(i);return}if(e.icon&&Object.keys(Qc).indexOf(e.icon)===-1){Os(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Gt(i);return}bt(i),$v(i,e),zv(i,e),Me(i,e.showClass&&e.showClass.icon)}},zv=(n,e)=>{for(const[t,i]of Object.entries(Qc))e.icon!==t&&Vn(n,i);Me(n,e.icon&&Qc[e.icon]),WP(n,e),$P(),En(n,e,"icon")},$P=()=>{const n=Be();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},HP=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,qP=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,$v=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=Hv(e.iconHtml):e.icon==="success"?(i=HP,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=qP:e.icon&&(i=Hv({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&In(n,i)},WP=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Bv(n,t,"background-color",e.iconColor);Bv(n,".swal2-success-ring","border-color",e.iconColor)}},Hv=n=>`<div class="${$["icon-content"]}">${n}</div>`,KP=(n,e)=>{const t=S0();if(t){if(!e.imageUrl){Gt(t);return}bt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Is(t,"width",e.imageWidth),Is(t,"height",e.imageHeight),t.className=$.image,En(t,e,"image")}};let Zp=!1,b0=0,x0=0,N0=0,D0=0;const GP=n=>{n.addEventListener("mousedown",Xc),document.body.addEventListener("mousemove",Jc),n.addEventListener("mouseup",Zc),n.addEventListener("touchstart",Xc),document.body.addEventListener("touchmove",Jc),n.addEventListener("touchend",Zc)},QP=n=>{n.removeEventListener("mousedown",Xc),document.body.removeEventListener("mousemove",Jc),n.removeEventListener("mouseup",Zc),n.removeEventListener("touchstart",Xc),document.body.removeEventListener("touchmove",Jc),n.removeEventListener("touchend",Zc)},Xc=n=>{const e=Be();if(n.target===e||ia().contains(n.target)){Zp=!0;const t=L0(n);b0=t.clientX,x0=t.clientY,N0=parseInt(e.style.insetInlineStart)||0,D0=parseInt(e.style.insetBlockStart)||0,Me(e,"swal2-dragging")}},Jc=n=>{const e=Be();if(Zp){let{clientX:t,clientY:i}=L0(n);e.style.insetInlineStart=`${N0+(t-b0)}px`,e.style.insetBlockStart=`${D0+(i-x0)}px`}},Zc=()=>{const n=Be();Zp=!1,Vn(n,"swal2-dragging")},L0=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},YP=(n,e)=>{const t=hn(),i=Be();if(!(!t||!i)){if(e.toast){Is(t,"width",e.width),i.style.width="100%";const o=oa();o&&i.insertBefore(o,ia())}else Is(i,"width",e.width);Is(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),Gt(Id()),XP(i,e),e.draggable&&!e.toast?(Me(i,$.draggable),GP(i)):(Vn(i,$.draggable),QP(i))}},XP=(n,e)=>{const t=e.showClass||{};n.className=`${$.popup} ${un(n)?t.popup:""}`,e.toast?(Me([document.documentElement,document.body],$["toast-shown"]),Me(n,$.toast)):Me(n,$.modal),En(n,e,"popup"),typeof e.customClass=="string"&&Me(n,e.customClass),e.icon&&Me(n,$[`icon-${e.icon}`])},JP=(n,e)=>{const t=qp();if(!t)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){Gt(t);return}bt(t),t.textContent="",o>=i.length&&dn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((l,d)=>{const f=ZP(l);if(t.appendChild(f),d===o&&Me(f,$["active-progress-step"]),d!==i.length-1){const p=eR(e);t.appendChild(p)}})},ZP=n=>{const e=document.createElement("li");return Me(e,$["progress-step"]),In(e,n),e},eR=n=>{const e=document.createElement("li");return Me(e,$["progress-step-line"]),n.progressStepsDistance&&Is(e,"width",n.progressStepsDistance),e},tR=(n,e)=>{const t=I0();t&&(Qp(t),zl(t,e.title||e.titleText,"block"),e.title&&Xp(e.title,t),e.titleText&&(t.innerText=e.titleText),En(t,e,"title"))},O0=(n,e)=>{YP(n,e),bP(n,e),JP(n,e),zP(n,e),KP(n,e),tR(n,e),RP(n,e),BP(n,e),AP(n,e),jP(n,e);const t=Be();typeof e.didRender=="function"&&t&&e.didRender(t),ye.eventEmitter.emit("didRender",t)},nR=()=>un(Be()),V0=()=>{var n;return(n=Er())===null||n===void 0?void 0:n.click()},rR=()=>{var n;return(n=Vs())===null||n===void 0?void 0:n.click()},iR=()=>{var n;return(n=sa())===null||n===void 0?void 0:n.click()},aa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),M0=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},sR=(n,e,t)=>{M0(n),e.toast||(n.keydownHandler=i=>aR(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:Be(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Wf=(n,e)=>{var t;const i=Kp();if(i.length){n=n+e,n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=Be())===null||t===void 0||t.focus()},F0=["ArrowRight","ArrowDown"],oR=["ArrowLeft","ArrowUp"],aR=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?lR(e,n):e.key==="Tab"?uR(e):[...F0,...oR].includes(e.key)?cR(e.key):e.key==="Escape"&&dR(e,n,t)))},lR=(n,e)=>{if(!Td(e.allowEnterKey))return;const t=Ad(Be(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;V0(),n.preventDefault()}},uR=n=>{const e=n.target,t=Kp();let i=-1;for(let o=0;o<t.length;o++)if(e===t[o]){i=o;break}n.shiftKey?Wf(i,-1):Wf(i,1),n.stopPropagation(),n.preventDefault()},cR=n=>{const e=jl(),t=Er(),i=Vs(),o=sa();if(!e||!t||!i||!o)return;const l=[t,i,o];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const d=F0.includes(n)?"nextElementSibling":"previousElementSibling";let f=document.activeElement;if(f){for(let p=0;p<e.children.length;p++){if(f=f[d],!f)return;if(f instanceof HTMLButtonElement&&un(f))break}f instanceof HTMLButtonElement&&f.focus()}},dR=(n,e,t)=>{Td(e.allowEscapeKey)&&(n.preventDefault(),t(aa.esc))};var Yo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const hR=()=>{const n=hn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},U0=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},B0=typeof window<"u"&&!!window.GestureEvent,fR=()=>{if(B0&&!Wr(document.body,$.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Me(document.body,$.iosfix),pR()}},pR=()=>{const n=hn();if(!n)return;let e;n.ontouchstart=t=>{e=mR(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},mR=n=>{const e=n.target,t=hn(),i=Hp();return!t||!i||gR(n)||yR(n)?!1:e===t||!jv(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(jv(i)&&i.contains(e))},gR=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",yR=n=>n.touches&&n.touches.length>1,vR=()=>{if(Wr(document.body,$.iosfix)){const n=parseInt(document.body.style.top,10);Vn(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},wR=()=>{const n=document.createElement("div");n.className=$["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Bo=null;const _R=n=>{Bo===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Bo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Bo+wR()}px`)},ER=()=>{Bo!==null&&(document.body.style.paddingRight=`${Bo}px`,Bo=null)};function j0(n,e,t,i){Cd()?qv(n,i):(sP(t).then(()=>qv(n,i)),M0(ye)),B0?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Gp()&&(ER(),vR(),U0()),TR()}function TR(){Vn([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function Di(n){n=SR(n);const e=Yo.swalPromiseResolve.get(this),t=IR(this);this.isAwaitingPromise?n.isDismissed||(Hl(this),e(n)):t&&e(n)}const IR=n=>{const e=Be();if(!e)return!1;const t=Ye.innerParams.get(n);if(!t||Wr(e,t.hideClass.popup))return!1;Vn(e,t.showClass.popup),Me(e,t.hideClass.popup);const i=hn();return Vn(i,t.showClass.backdrop),Me(i,t.hideClass.backdrop),CR(n,e,t),!0};function z0(n){const e=Yo.swalPromiseReject.get(this);Hl(this),e&&e(n)}const Hl=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,Ye.innerParams.get(n)||n._destroy())},SR=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),CR=(n,e,t)=>{var i;const o=hn(),l=P0(e);typeof t.willClose=="function"&&t.willClose(e),(i=ye.eventEmitter)===null||i===void 0||i.emit("willClose",e),l?AR(n,e,o,t.returnFocus,t.didClose):j0(n,o,t.returnFocus,t.didClose)},AR=(n,e,t,i,o)=>{ye.swalCloseEventFinishedCallback=j0.bind(null,n,t,i,o);const l=function(d){if(d.target===e){var f;(f=ye.swalCloseEventFinishedCallback)===null||f===void 0||f.call(ye),delete ye.swalCloseEventFinishedCallback,e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l)}};e.addEventListener("animationend",l),e.addEventListener("transitionend",l)},qv=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=ye.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},Xo=n=>{let e=Be();if(e||new Rs,e=Be(),!e)return;const t=oa();Cd()?Gt(ia()):kR(e,n),bt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},kR=(n,e)=>{const t=jl(),i=oa();!t||!i||(!e&&un(Er())&&(e=Er()),bt(t),e&&(Gt(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),Me([n,t],$.loading))},PR=(n,e)=>{e.input==="select"||e.input==="radio"?DR(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(zp(e.inputValue)||$p(e.inputValue))&&(Xo(Er()),LR(n,e))},RR=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return bR(t);case"radio":return xR(t);case"file":return NR(t);default:return e.inputAutoTrim?t.value.trim():t.value}},bR=n=>n.checked?1:0,xR=n=>n.checked?n.value:null,NR=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,DR=(n,e)=>{const t=Be();if(!t)return;const i=o=>{e.input==="select"?OR(t,ed(o),e):e.input==="radio"&&VR(t,ed(o),e)};zp(e.inputOptions)||$p(e.inputOptions)?(Xo(Er()),Ul(e.inputOptions).then(o=>{n.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):Os(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},LR=(n,e)=>{const t=n.getInput();t&&(Gt(t),Ul(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,bt(t),t.focus(),n.hideLoading()}).catch(i=>{Os(`Error in inputValue promise: ${i}`),t.value="",bt(t),t.focus(),n.hideLoading()}))};function OR(n,e,t){const i=Ni(n,$.select);if(!i)return;const o=(l,d,f)=>{const p=document.createElement("option");p.value=f,In(p,d),p.selected=$0(f,t.inputValue),l.appendChild(p)};e.forEach(l=>{const d=l[0],f=l[1];if(Array.isArray(f)){const p=document.createElement("optgroup");p.label=d,p.disabled=!1,i.appendChild(p),f.forEach(y=>o(p,y[1],y[0]))}else o(i,f,d)}),i.focus()}function VR(n,e,t){const i=Ni(n,$.radio);if(!i)return;e.forEach(l=>{const d=l[0],f=l[1],p=document.createElement("input"),y=document.createElement("label");p.type="radio",p.name=$.radio,p.value=d,$0(d,t.inputValue)&&(p.checked=!0);const _=document.createElement("span");In(_,f),_.className=$.label,y.appendChild(p),y.appendChild(_),i.appendChild(y)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const ed=n=>{const e=[];return n instanceof Map?n.forEach((t,i)=>{let o=t;typeof o=="object"&&(o=ed(o)),e.push([i,o])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=ed(i)),e.push([t,i])}),e},$0=(n,e)=>!!e&&e.toString()===n.toString(),MR=n=>{const e=Ye.innerParams.get(n);n.disableButtons(),e.input?H0(n,"confirm"):tm(n,!0)},FR=n=>{const e=Ye.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?H0(n,"deny"):em(n,!1)},UR=(n,e)=>{n.disableButtons(),e(aa.cancel)},H0=(n,e)=>{const t=Ye.innerParams.get(n);if(!t.input){Os(`The "input" parameter is needed to be set when using returnInputValueOn${jp(e)}`);return}const i=n.getInput(),o=RR(n,t);t.inputValidator?BR(n,o,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?em(n,o):tm(n,o)},BR=(n,e,t)=>{const i=Ye.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>Ul(i.inputValidator(e,i.validationMessage))).then(l=>{n.enableButtons(),n.enableInput(),l?n.showValidationMessage(l):t==="deny"?em(n,e):tm(n,e)})},em=(n,e)=>{const t=Ye.innerParams.get(n||void 0);t.showLoaderOnDeny&&Xo(Vs()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>Ul(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),Hl(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>q0(n||void 0,o))):n.close({isDenied:!0,value:e})},Wv=(n,e)=>{n.close({isConfirmed:!0,value:e})},q0=(n,e)=>{n.rejectPromise(e)},tm=(n,e)=>{const t=Ye.innerParams.get(n||void 0);t.showLoaderOnConfirm&&Xo(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>Ul(t.preConfirm(e,t.validationMessage))).then(o=>{un(Id())||o===!1?(n.hideLoading(),Hl(n)):Wv(n,typeof o>"u"?e:o)}).catch(o=>q0(n||void 0,o))):Wv(n,e)};function td(){const n=Ye.innerParams.get(this);if(!n)return;const e=Ye.domCache.get(this);Gt(e.loader),Cd()?n.icon&&bt(ia()):jR(e),Vn([e.popup,e.actions],$.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const jR=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?bt(e[0],"inline-block"):pP()&&Gt(n.actions)};function W0(){const n=Ye.innerParams.get(this),e=Ye.domCache.get(this);return e?Ad(e.popup,n.input):null}function K0(n,e,t){const i=Ye.domCache.get(n);e.forEach(o=>{i[o].disabled=t})}function G0(n,e){const t=Be();if(!(!t||!n))if(n.type==="radio"){const i=t.querySelectorAll(`[name="${$.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else n.disabled=e}function Q0(){K0(this,["confirmButton","denyButton","cancelButton"],!1)}function Y0(){K0(this,["confirmButton","denyButton","cancelButton"],!0)}function X0(){G0(this.getInput(),!1)}function J0(){G0(this.getInput(),!0)}function Z0(n){const e=Ye.domCache.get(this),t=Ye.innerParams.get(this);In(e.validationMessage,n),e.validationMessage.className=$["validation-message"],t.customClass&&t.customClass.validationMessage&&Me(e.validationMessage,t.customClass.validationMessage),bt(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",$["validation-message"]),A0(i),Me(i,$.inputerror))}function eE(){const n=Ye.domCache.get(this);n.validationMessage&&Gt(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Vn(e,$.inputerror))}const jo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},zR=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],$R={allowEnterKey:void 0},HR=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],tE=n=>Object.prototype.hasOwnProperty.call(jo,n),nE=n=>zR.indexOf(n)!==-1,rE=n=>$R[n],qR=n=>{tE(n)||dn(`Unknown parameter "${n}"`)},WR=n=>{HR.includes(n)&&dn(`The parameter "${n}" is incompatible with toasts`)},KR=n=>{const e=rE(n);e&&T0(n,e)},GR=n=>{n.backdrop===!1&&n.allowOutsideClick&&dn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in n)qR(e),n.toast&&WR(e),KR(e)};function iE(n){const e=Be(),t=Ye.innerParams.get(this);if(!e||Wr(e,t.hideClass.popup)){dn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=QR(n),o=Object.assign({},t,i);O0(this,o),Ye.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const QR=n=>{const e={};return Object.keys(n).forEach(t=>{nE(t)?e[t]=n[t]:dn(`Invalid parameter to update: ${t}`)}),e};function sE(){const n=Ye.domCache.get(this),e=Ye.innerParams.get(this);if(!e){oE(this);return}n.popup&&ye.swalCloseEventFinishedCallback&&(ye.swalCloseEventFinishedCallback(),delete ye.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ye.eventEmitter.emit("didDestroy"),YR(this)}const YR=n=>{oE(n),delete n.params,delete ye.keydownHandler,delete ye.keydownTarget,delete ye.currentInstance},oE=n=>{n.isAwaitingPromise?(_f(Ye,n),n.isAwaitingPromise=!0):(_f(Yo,n),_f(Ye,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},_f=(n,e)=>{for(const t in n)n[t].delete(e)};var XR=Object.freeze({__proto__:null,_destroy:sE,close:Di,closeModal:Di,closePopup:Di,closeToast:Di,disableButtons:Y0,disableInput:J0,disableLoading:td,enableButtons:Q0,enableInput:X0,getInput:W0,handleAwaitingPromise:Hl,hideLoading:td,rejectPromise:z0,resetValidationMessage:eE,showValidationMessage:Z0,update:iE});const JR=(n,e,t)=>{n.toast?ZR(n,e,t):(tb(e),nb(e),rb(n,e,t))},ZR=(n,e,t)=>{e.popup.onclick=()=>{n&&(eb(n)||n.timer||n.input)||t(aa.close)}},eb=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let nd=!1;const tb=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(nd=!0)}}},nb=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(nd=!0)}}},rb=(n,e,t)=>{e.container.onclick=i=>{if(nd){nd=!1;return}i.target===e.container&&Td(n.allowOutsideClick)&&t(aa.backdrop)}},ib=n=>typeof n=="object"&&n.jquery,Kv=n=>n instanceof Element||ib(n),sb=n=>{const e={};return typeof n[0]=="object"&&!Kv(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{const o=n[i];typeof o=="string"||Kv(o)?e[t]=o:o!==void 0&&Os(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function ob(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function ab(n){class e extends this{_main(i,o){return super._main(i,Object.assign({},n,o))}}return e}const lb=()=>ye.timeout&&ye.timeout.getTimerLeft(),aE=()=>{if(ye.timeout)return mP(),ye.timeout.stop()},lE=()=>{if(ye.timeout){const n=ye.timeout.start();return Yp(n),n}},ub=()=>{const n=ye.timeout;return n&&(n.running?aE():lE())},cb=n=>{if(ye.timeout){const e=ye.timeout.increase(n);return Yp(e,!0),e}},db=()=>!!(ye.timeout&&ye.timeout.isRunning());let Gv=!1;const Kf={};function hb(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Kf[n]=this,Gv||(document.body.addEventListener("click",fb),Gv=!0)}const fb=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in Kf){const i=e.getAttribute(t);if(i){Kf[t].fire({template:i});return}}};class pb{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){var i=this;const o=function(){i.removeListener(e,o);for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];t.apply(i,d)};this.on(e,o)}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(l=>{try{l.apply(this,i)}catch(d){console.error(d)}})}removeListener(e,t){const i=this._getHandlersByEventName(e),o=i.indexOf(t);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ye.eventEmitter=new pb;const mb=(n,e)=>{ye.eventEmitter.on(n,e)},gb=(n,e)=>{ye.eventEmitter.once(n,e)},yb=(n,e)=>{if(!n){ye.eventEmitter.reset();return}e?ye.eventEmitter.removeListener(n,e):ye.eventEmitter.removeAllListeners(n)};var vb=Object.freeze({__proto__:null,argsToParams:sb,bindClickHandler:hb,clickCancel:iR,clickConfirm:V0,clickDeny:rR,enableLoading:Xo,fire:ob,getActions:jl,getCancelButton:sa,getCloseButton:Wp,getConfirmButton:Er,getContainer:hn,getDenyButton:Vs,getFocusableElements:Kp,getFooter:C0,getHtmlContainer:Hp,getIcon:ia,getIconContent:uP,getImage:S0,getInputLabel:cP,getLoader:oa,getPopup:Be,getProgressSteps:qp,getTimerLeft:lb,getTimerProgressBar:Sd,getTitle:I0,getValidationMessage:Id,increaseTimer:cb,isDeprecatedParameter:rE,isLoading:hP,isTimerRunning:db,isUpdatableParameter:nE,isValidParameter:tE,isVisible:nR,mixin:ab,off:yb,on:mb,once:gb,resumeTimer:lE,showLoading:Xo,stopTimer:aE,toggleTimer:ub});class wb{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const uE=["swal-title","swal-html","swal-footer"],_b=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return Pb(t),Object.assign(Eb(t),Tb(t),Ib(t),Sb(t),Cb(t),Ab(t),kb(t,uE))},Eb=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{Ps(i,["name","value"]);const o=i.getAttribute("name"),l=i.getAttribute("value");!o||!l||(typeof jo[o]=="boolean"?e[o]=l!=="false":typeof jo[o]=="object"?e[o]=JSON.parse(l):e[o]=l)}),e},Tb=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),l=i.getAttribute("value");!o||!l||(e[o]=new Function(`return ${l}`)())}),e},Ib=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{Ps(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${jp(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},Sb=n=>{const e={},t=n.querySelector("swal-image");return t&&(Ps(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},Cb=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Ps(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},Ab=n=>{const e={},t=n.querySelector("swal-input");t&&(Ps(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Ps(o,["value"]);const l=o.getAttribute("value");if(!l)return;const d=o.innerHTML;e.inputOptions[l]=d})),e},kb=(n,e)=>{const t={};for(const i in e){const o=e[i],l=n.querySelector(o);l&&(Ps(l,[]),t[o.replace(/^swal-/,"")]=l.innerHTML.trim())}return t},Pb=n=>{const e=uE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const i=t.tagName.toLowerCase();e.includes(i)||dn(`Unrecognized element <${i}>`)})},Ps=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&dn([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},cE=10,Rb=n=>{const e=hn(),t=Be();typeof n.willOpen=="function"&&n.willOpen(t),ye.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;Nb(e,t,n),setTimeout(()=>{bb(e,t)},cE),Gp()&&(xb(e,n.scrollbarPadding,o),hR()),!Cd()&&!ye.previousActiveElement&&(ye.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),ye.eventEmitter.emit("didOpen",t),Vn(e,$["no-transition"])},rd=n=>{const e=Be();if(n.target!==e)return;const t=hn();e.removeEventListener("animationend",rd),e.removeEventListener("transitionend",rd),t.style.overflowY="auto"},bb=(n,e)=>{P0(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",rd),e.addEventListener("transitionend",rd)):n.style.overflowY="auto"},xb=(n,e,t)=>{fR(),e&&t!=="hidden"&&_R(t),setTimeout(()=>{n.scrollTop=0})},Nb=(n,e,t)=>{Me(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),bt(e,"grid"),setTimeout(()=>{Me(e,t.showClass.popup),e.style.removeProperty("opacity")},cE)):bt(e,"grid"),Me([document.documentElement,document.body],$.shown),t.heightAuto&&t.backdrop&&!t.toast&&Me([document.documentElement,document.body],$["height-auto"])};var Qv={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Db(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=Qv.email),n.input==="url"&&(n.inputValidator=Qv.url))}function Lb(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(dn('Target parameter is not valid, defaulting to "body"'),n.target="body")}function Ob(n){Db(n),n.showLoaderOnConfirm&&!n.preConfirm&&dn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Lb(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),IP(n)}let fr;var gc=new WeakMap;class ht{constructor(){if(tP(this,gc,void 0),typeof window>"u")return;fr=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const o=Object.freeze(this.constructor.argsToParams(t));this.params=o,this.isAwaitingPromise=!1,nP(gc,this,this._main(fr.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(GR(Object.assign({},t,e)),ye.currentInstance){const l=Yo.swalPromiseResolve.get(ye.currentInstance),{isAwaitingPromise:d}=ye.currentInstance;ye.currentInstance._destroy(),d||l({isDismissed:!0}),Gp()&&U0()}ye.currentInstance=fr;const i=Mb(e,t);Ob(i),Object.freeze(i),ye.timeout&&(ye.timeout.stop(),delete ye.timeout),clearTimeout(ye.restoreFocusTimeout);const o=Fb(fr);return O0(fr,i),Ye.innerParams.set(fr,i),Vb(fr,o,i)}then(e){return Fv(gc,this).then(e)}finally(e){return Fv(gc,this).finally(e)}}const Vb=(n,e,t)=>new Promise((i,o)=>{const l=d=>{n.close({isDismissed:!0,dismiss:d})};Yo.swalPromiseResolve.set(n,i),Yo.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{MR(n)},e.denyButton.onclick=()=>{FR(n)},e.cancelButton.onclick=()=>{UR(n,l)},e.closeButton.onclick=()=>{l(aa.close)},JR(t,e,l),sR(ye,t,l),PR(n,t),Rb(t),Ub(ye,t,l),Bb(e,t),setTimeout(()=>{e.container.scrollTop=0})}),Mb=(n,e)=>{const t=_b(n),i=Object.assign({},jo,e,t,n);return i.showClass=Object.assign({},jo.showClass,i.showClass),i.hideClass=Object.assign({},jo.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},Fb=n=>{const e={popup:Be(),container:hn(),actions:jl(),confirmButton:Er(),denyButton:Vs(),cancelButton:sa(),loader:oa(),closeButton:Wp(),validationMessage:Id(),progressSteps:qp()};return Ye.domCache.set(n,e),e},Ub=(n,e,t)=>{const i=Sd();Gt(i),e.timer&&(n.timeout=new wb(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(bt(i),En(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&Yp(e.timer)})))},Bb=(n,e)=>{if(!e.toast){if(!Td(e.allowEnterKey)){T0("allowEnterKey"),$b();return}jb(n)||zb(n,e)||Wf(-1,1)}},jb=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&un(t))return t.focus(),!0;return!1},zb=(n,e)=>e.focusDeny&&un(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&un(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&un(n.confirmButton)?(n.confirmButton.focus(),!0):!1,$b=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}ht.prototype.disableButtons=Y0;ht.prototype.enableButtons=Q0;ht.prototype.getInput=W0;ht.prototype.disableInput=J0;ht.prototype.enableInput=X0;ht.prototype.hideLoading=td;ht.prototype.disableLoading=td;ht.prototype.showValidationMessage=Z0;ht.prototype.resetValidationMessage=eE;ht.prototype.close=Di;ht.prototype.closePopup=Di;ht.prototype.closeModal=Di;ht.prototype.closeToast=Di;ht.prototype.rejectPromise=z0;ht.prototype.update=iE;ht.prototype._destroy=sE;Object.assign(ht,vb);Object.keys(XR).forEach(n=>{ht[n]=function(){return fr&&fr[n]?fr[n](...arguments):null}});ht.DismissReason=aa;ht.version="11.15.2";const Rs=ht;Rs.default=Rs;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');const Hb=async(n,e)=>{const i=(await Lk(Ed,n,e)).user;return await L_(Sp(Up,"users",i.uid),{email:i.email,createdAt:new Date}),await o0(i),i},qb=async(n,e)=>(await Ok(Ed,n,e)).user,Wb=async n=>{await o0(n)},nm=n=>{Rs.fire({icon:"error",title:"Error",text:Gb(n)})},ql=n=>{Rs.fire({icon:"success",title:"Éxito",text:n})},Kb=n=>{Rs.fire({icon:"info",title:"Información",text:n})},dE=n=>{Rs.fire({icon:"info",title:"Verificación necesaria",text:"Debes verificar tu correo electrónico.",footer:'<a href="#" id="send-verification-link">Enviar correo de verificación nuevamente</a>',didRender:()=>{document.querySelector("#send-verification-link").addEventListener("click",async t=>{t.preventDefault();try{await Wb(n),ql("Se ha enviado un nuevo correo de verificación.")}catch(i){nm(i.message)}})}})},Yv={"auth/email-already-in-use":"Este correo ya está registrado. Por favor, usa otro correo o inicia sesión.","auth/invalid-email":"El correo electrónico no es válido. Verifícalo e inténtalo de nuevo.","auth/operation-not-allowed":"La operación no está permitida. Contacta al soporte para más información.","auth/weak-password":"La contraseña es demasiado débil. Usa una combinación de letras, números y símbolos.","auth/user-disabled":"La cuenta de usuario ha sido deshabilitada. Contacta al soporte para más información.","auth/user-not-found":"No se encontró un usuario con este correo electrónico. Verifica e inténtalo de nuevo.","auth/wrong-password":"La contraseña es incorrecta. Verifica e inténtalo de nuevo.","auth/account-exists-with-different-credential":"Ya existe una cuenta con estas credenciales. Intenta iniciar sesión con otro método.","auth/invalid-credential":"Las credenciales proporcionadas no son válidas. Verifica e inténtalo de nuevo.","auth/invalid-verification-code":"El código de verificación no es válido. Verifica e inténtalo de nuevo.","auth/invalid-verification-id":"El ID de verificación no es válido. Verifica e inténtalo de nuevo.","auth/credential-already-in-use":"Estas credenciales ya están en uso. Por favor, usa otras credenciales.","auth/timeout":"La operación ha expirado. Por favor, inténtalo de nuevo.","auth/too-many-requests":"Se han realizado demasiados intentos. Por favor, espera un momento e inténtalo de nuevo.","auth/popup-closed-by-user":"El popup fue cerrado antes de completar la operación. Inténtalo de nuevo.","auth/popup-blocked":"El popup fue bloqueado por el navegador. Permite los popups e inténtalo de nuevo.","auth/unauthorized-domain":"El dominio no está autorizado para realizar esta operación.","auth/network-request-failed":"La solicitud de red falló. Por favor, verifica tu conexión e inténtalo de nuevo.","auth/requires-recent-login":"Esta operación requiere que hayas iniciado sesión recientemente. Por favor, inicia sesión de nuevo e inténtalo.","auth/missing-email":"El correo electrónico es obligatorio. Proporciónalo e inténtalo de nuevo.","auth/missing-password":"La contraseña es obligatoria. Proporciónala e inténtalo de nuevo.","auth/quota-exceeded":"Se ha excedido la cuota. Inténtalo de nuevo más tarde."},Gb=n=>{const e=Object.keys(Yv).find(t=>n.includes(t));return Yv[e]||`Ocurrió un error. Por favor, intenta de nuevo. (${n})`},Qb=async(n,e)=>{n.preventDefault();const t=new FormData(n.target),i={userId:e.uid,inst_institucion:t.get("inst_institucion"),inst_cuit:t.get("inst_cuit"),inst_domicilio:t.get("inst_domicilio"),inst_localidad:t.get("inst_localidad"),inst_cp:t.get("inst_cp"),inst_telefono:t.get("inst_telefono"),inst_mail:t.get("inst_mail"),coord_nombre:t.get("coord_nombre"),coord_dni:t.get("coord_dni"),coord_registro:t.get("coord_registro"),coord_telefono:t.get("coord_telefono"),coord_mail:t.get("coord_mail"),coord_horario:t.get("coord_horario")};console.log(i);try{const o=Sp(Up,"formularios",e.uid);await L_(o,i,{merge:!0}),ql("Datos actualizados exitosamente.")}catch(o){showErrorAlert(o.message)}},Yb=()=>{const{currentUser:n}=Bp(),[e,t]=q.useState(null);return q.useEffect(()=>{n&&(async()=>{try{const o=Sp(Up,"formularios",n.uid),l=await NA(o);l.exists()?t(l.data()):(console.log("No se encontraron datos previos."),t({}))}catch(o){console.error("Error al obtener los datos:",o)}})()},[n]),e?Q.jsxs("form",{className:"Form",id:"myForm",action:"",onSubmit:i=>Qb(i,n),children:[Q.jsx("p",{children:"*Se debe presentar 1 (un) formulario por cada proyecto solicitado."}),Q.jsx("p",{children:"La institución deberá tener vigente su inscripción al SIPAF al momento de la presentación del proyecto"}),Q.jsxs("section",{children:[Q.jsx("h2",{children:"1. INSTITUCIÓN(ES) QUE PRESENTA(N) LA PROPUESTA:"}),Q.jsxs("fieldset",{children:[Q.jsx(_n,{label:"INSTITUCIÓN:",name:"inst_institucion",defaultValue:e.inst_institucion||""}),Q.jsx(_n,{label:"CUIT:",name:"inst_cuit",defaultValue:e.inst_cuit||""}),Q.jsx(_n,{label:"DOMICILIO:",name:"inst_domicilio",defaultValue:e.inst_domicilio||""}),Q.jsx(_n,{label:"LOCALIDAD:",name:"inst_localidad",defaultValue:e.inst_localidad||""}),Q.jsx(_n,{label:"CP:",name:"inst_cp",defaultValue:e.inst_cp||""}),Q.jsx(_n,{label:"TELÉFONO:",name:"inst_telefono",defaultValue:e.inst_telefono||""}),Q.jsx(_n,{label:"MAIL INSTITUCIONAL:",name:"inst_mail",defaultValue:e.inst_mail||""})]}),Q.jsxs("fieldset",{children:[Q.jsx("h2",{children:"2. COORDINADOR/A DEL PROYECTO (Nexo con la Dirección de Capacitación y Formación Laboral):"}),Q.jsx(_n,{label:"NOMBRE COMPLETO:",name:"coord_nombre",defaultValue:e.coord_nombre||""}),Q.jsx(_n,{label:"DNI:",name:"coord_dni",defaultValue:e.coord_dni||""}),Q.jsx(_n,{label:"N° DE REGISTRO:",name:"coord_registro",defaultValue:e.coord_registro||""}),Q.jsx(_n,{label:"TELÉFONO:",name:"coord_telefono",defaultValue:e.coord_telefono||""}),Q.jsx(_n,{label:"MAIL:",name:"coord_mail",defaultValue:e.coord_mail||""}),Q.jsx(_n,{label:"HORARIO:",name:"coord_horario",defaultValue:e.coord_horario||""}),Q.jsx("div",{className:"form-group",children:Q.jsx("label",{children:"Descripción de su función en la Institución que presenta:"})}),Q.jsx("div",{className:"form-group",children:Q.jsx("input",{type:"text",id:"coord_descripcion"})})]}),Q.jsxs("fieldset",{children:[Q.jsx("h2",{children:"3. ¿Ha trabajado con programas de empleo y capacitación de la provincia?"}),Q.jsx("div",{className:"form-group",children:Q.jsxs("label",{className:"label_checkbox",children:[Q.jsx("input",{type:"radio",name:"programas_empleo",value:"si"}),"Sí"]})}),Q.jsx("div",{className:"form-group",children:Q.jsxs("label",{className:"label_checkbox",children:[Q.jsx("input",{type:"radio",name:"programas_empleo",value:"no"}),"No"]})}),Q.jsx("div",{className:"form-group",children:Q.jsx("p",{children:"¿Cuáles?"})}),Q.jsx("div",{className:"form-group",children:Q.jsxs("label",{className:"label_checkbox",children:[Q.jsx("input",{type:"checkbox",name:"programas[]",value:"Redes / Santa Fe Capacita"}),"Redes / Santa Fe Capacita"]})}),Q.jsx("div",{className:"form-group",children:Q.jsxs("label",{className:"label_checkbox",children:[Q.jsx("input",{type:"checkbox",name:"programas[]",value:"Nexo Oportunidad / Prácticas Laborales"}),"Nexo Oportunidad / Prácticas Laborales"]})}),Q.jsx("div",{className:"form-group",children:Q.jsxs("label",{className:"label_checkbox",children:[Q.jsx("input",{type:"checkbox",name:"programas[]",value:"Mi Primer Empleo"}),"Mi Primer Empleo"]})}),Q.jsx("div",{className:"form-group",children:Q.jsxs("label",{className:"label_checkbox",children:[Q.jsx("input",{type:"checkbox",name:"programas[]",value:"Nueva Oportunidad / Santa Fe Más"}),"Nueva Oportunidad / Santa Fe Más"]})})]}),Q.jsxs("fieldset",{children:[Q.jsx("h2",{children:"4. Describir brevemente qué actividades realizan en la institución y qué se aportará para el desarrollo de la propuesta (Ejemplo: Instalaciones, Maquinarias). Acompañar fotos de las instalaciones:"}),Q.jsx("div",{className:"form-group",children:Q.jsx("textarea",{rows:"3",name:"",id:""})})]})]}),Q.jsx("button",{className:"button no-print",type:"submit",children:"Enviar y Actualizar Datos"}),Q.jsx("button",{className:"button no-print",type:"button",onClick:()=>window.print(),children:"Imprimir Formulario"})]}):Q.jsx("p",{children:"Cargando datos del formulario..."})};var sl={},Xv;function Xb(){if(Xv)return sl;Xv=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.parse=d,sl.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function d(A,L){const F=new l,H=A.length;if(H<2)return F;const B=(L==null?void 0:L.decode)||_;let K=0;do{const X=A.indexOf("=",K);if(X===-1)break;const ie=A.indexOf(";",K),he=ie===-1?H:ie;if(X>he){K=A.lastIndexOf(";",X-1)+1;continue}const Ae=f(A,K,X),Se=p(A,X,Ae),b=A.slice(Ae,Se);if(F[b]===void 0){let T=f(A,X+1,he),C=p(A,he,T);const R=B(A.slice(T,C));F[b]=R}K=he+1}while(K<H);return F}function f(A,L,F){do{const H=A.charCodeAt(L);if(H!==32&&H!==9)return L}while(++L<F);return F}function p(A,L,F){for(;L>F;){const H=A.charCodeAt(--L);if(H!==32&&H!==9)return L+1}return F}function y(A,L,F){const H=(F==null?void 0:F.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const B=H(L);if(!e.test(B))throw new TypeError(`argument val is invalid: ${L}`);let K=A+"="+B;if(!F)return K;if(F.maxAge!==void 0){if(!Number.isInteger(F.maxAge))throw new TypeError(`option maxAge is invalid: ${F.maxAge}`);K+="; Max-Age="+F.maxAge}if(F.domain){if(!t.test(F.domain))throw new TypeError(`option domain is invalid: ${F.domain}`);K+="; Domain="+F.domain}if(F.path){if(!i.test(F.path))throw new TypeError(`option path is invalid: ${F.path}`);K+="; Path="+F.path}if(F.expires){if(!S(F.expires)||!Number.isFinite(F.expires.valueOf()))throw new TypeError(`option expires is invalid: ${F.expires}`);K+="; Expires="+F.expires.toUTCString()}if(F.httpOnly&&(K+="; HttpOnly"),F.secure&&(K+="; Secure"),F.partitioned&&(K+="; Partitioned"),F.priority)switch(typeof F.priority=="string"?F.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${F.priority}`)}if(F.sameSite)switch(typeof F.sameSite=="string"?F.sameSite.toLowerCase():F.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${F.sameSite}`)}return K}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return o.call(A)==="[object Date]"}return sl}Xb();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jv="popstate";function Jb(n={}){function e(o,l){let{pathname:d="/",search:f="",hash:p=""}=Ms(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Gf("",{pathname:d,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let d=o.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");f=y===-1?p:p.slice(0,y)}return f+"#"+(typeof l=="string"?l:Pl(l))}function i(o,l){Mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return ex(e,t,i,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zb(){return Math.random().toString(36).substring(2,10)}function Zv(n,e){return{usr:n.state,key:n.key,idx:e}}function Gf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ms(e):e,state:t,key:e&&e.key||i||Zb()}}function Pl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ms(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function ex(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,d=o.history,f="POP",p=null,y=_();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function _(){return(d.state||{idx:null}).idx}function S(){f="POP";let B=_(),K=B==null?null:B-y;y=B,p&&p({action:f,location:H.location,delta:K})}function A(B,K){f="PUSH";let X=Gf(H.location,B,K);t&&t(X,B),y=_()+1;let ie=Zv(X,y),he=H.createHref(X);try{d.pushState(ie,"",he)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(he)}l&&p&&p({action:f,location:H.location,delta:1})}function L(B,K){f="REPLACE";let X=Gf(H.location,B,K);t&&t(X,B),y=_();let ie=Zv(X,y),he=H.createHref(X);d.replaceState(ie,"",he),l&&p&&p({action:f,location:H.location,delta:0})}function F(B){let K=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof B=="string"?B:Pl(B);return X=X.replace(/ $/,"%20"),tt(K,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,K)}let H={get action(){return f},get location(){return n(o,d)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Jv,S),p=B,()=>{o.removeEventListener(Jv,S),p=null}},createHref(B){return e(o,B)},createURL:F,encodeLocation(B){let K=F(B);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:A,replace:L,go(B){return d.go(B)}};return H}function hE(n,e,t="/"){return tx(n,e,t,!1)}function tx(n,e,t,i){let o=typeof e=="string"?Ms(e):e,l=$i(o.pathname||"/",t);if(l==null)return null;let d=fE(n);nx(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let y=fx(l);f=dx(d[p],y,i)}return f}function fE(n,e=[],t=[],i=""){let o=(l,d,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Kr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),fE(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:ux(y,l.index),routesMeta:_})};return n.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,d);else for(let p of pE(l.path))o(l,d,p)}),e}function pE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let d=pE(i.join("/")),f=[];return f.push(...d.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...d),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function nx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cx(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var rx=/^:[\w-]+$/,ix=3,sx=2,ox=1,ax=10,lx=-2,ew=n=>n==="*";function ux(n,e){let t=n.split("/"),i=t.length;return t.some(ew)&&(i+=lx),e&&(i+=sx),t.filter(o=>!ew(o)).reduce((o,l)=>o+(rx.test(l)?ix:l===""?ox:ax),i)}function cx(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function dx(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",d=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",S=id({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),A=p.route;if(!S&&y&&t&&!i[i.length-1].route.index&&(S=id({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:Kr([l,S.pathname]),pathnameBase:yx(Kr([l,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(l=Kr([l,S.pathnameBase]))}return d}function id(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=hx(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:S},A)=>{if(_==="*"){let F=f[A]||"";d=l.slice(0,l.length-F.length).replace(/(.)\/+$/,"$1")}const L=f[A];return S&&!L?y[_]=void 0:y[_]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:d,pattern:n}}function hx(n,e=!1,t=!0){Mn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function fx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $i(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function px(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ms(n):n;return{pathname:t?t.startsWith("/")?t:mx(t,e):e,search:vx(i),hash:wx(o)}}function mx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rm(n){let e=gx(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function im(n,e,t,i=!1){let o;typeof n=="string"?o=Ms(n):(o={...n},tt(!o.pathname||!o.pathname.includes("?"),Ef("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Ef("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Ef("#","search","hash",o)));let l=n===""||o.pathname==="",d=l?"/":o.pathname,f;if(d==null)f=t;else{let S=e.length-1;if(!i&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}f=S>=0?e[S]:"/"}let p=px(o,f),y=d&&d!=="/"&&d.endsWith("/"),_=(l||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Kr=n=>n.join("/").replace(/\/\/+/g,"/"),yx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _x(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var mE=["POST","PUT","PATCH","DELETE"];new Set(mE);var Ex=["GET",...mE];new Set(Ex);var la=q.createContext(null);la.displayName="DataRouter";var kd=q.createContext(null);kd.displayName="DataRouterState";var gE=q.createContext({isTransitioning:!1});gE.displayName="ViewTransition";var Tx=q.createContext(new Map);Tx.displayName="Fetchers";var Ix=q.createContext(null);Ix.displayName="Await";var tr=q.createContext(null);tr.displayName="Navigation";var Wl=q.createContext(null);Wl.displayName="Location";var Tr=q.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var sm=q.createContext(null);sm.displayName="RouteError";function Sx(n,{relative:e}={}){tt(ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=q.useContext(tr),{hash:o,pathname:l,search:d}=Kl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Kr([t,l])),i.createHref({pathname:f,search:d,hash:o})}function ua(){return q.useContext(Wl)!=null}function Hi(){return tt(ua(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Wl).location}var yE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vE(n){q.useContext(tr).static||q.useLayoutEffect(n)}function Pd(){let{isDataRoute:n}=q.useContext(Tr);return n?Mx():Cx()}function Cx(){tt(ua(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(la),{basename:e,navigator:t}=q.useContext(tr),{matches:i}=q.useContext(Tr),{pathname:o}=Hi(),l=JSON.stringify(rm(i)),d=q.useRef(!1);return vE(()=>{d.current=!0}),q.useCallback((p,y={})=>{if(Mn(d.current,yE),!d.current)return;if(typeof p=="number"){t.go(p);return}let _=im(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Kr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}q.createContext(null);function Kl(n,{relative:e}={}){let{matches:t}=q.useContext(Tr),{pathname:i}=Hi(),o=JSON.stringify(rm(t));return q.useMemo(()=>im(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function Ax(n,e){return wE(n,e)}function wE(n,e,t,i){var K;tt(ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(tr),{matches:l}=q.useContext(Tr),d=l[l.length-1],f=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let X=_&&_.path||"";_E(p,!_||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=Hi(),A;if(e){let X=typeof e=="string"?Ms(e):e;tt(y==="/"||((K=X.pathname)==null?void 0:K.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${X.pathname}" was given in the \`location\` prop.`),A=X}else A=S;let L=A.pathname||"/",F=L;if(y!=="/"){let X=y.replace(/^\//,"").split("/");F="/"+L.replace(/^\//,"").split("/").slice(X.length).join("/")}let H=hE(n,{pathname:F});Mn(_||H!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Mn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=xx(H&&H.map(X=>Object.assign({},X,{params:Object.assign({},f,X.params),pathname:Kr([y,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?y:Kr([y,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),l,t,i);return e&&B?q.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function kx(){let n=Vx(),e=_x(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:l},"ErrorBoundary")," or"," ",q.createElement("code",{style:l},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:o},t):null,d)}var Px=q.createElement(kx,null),Rx=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(Tr.Provider,{value:this.props.routeContext},q.createElement(sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bx({routeContext:n,match:e,children:t}){let i=q.useContext(la);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Tr.Provider,{value:n},t)}function xx(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:S}=t,A=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||A){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let S,A=!1,L=null,F=null;t&&(S=l&&y.route.id?l[y.route.id]:void 0,L=y.route.errorElement||Px,d&&(f<0&&_===0?(_E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,F=null):f===_&&(A=!0,F=y.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,_+1)),B=()=>{let K;return S?K=L:A?K=F:y.route.Component?K=q.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=p,q.createElement(bx,{match:y,routeContext:{outlet:p,matches:H,isDataRoute:t!=null},children:K})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?q.createElement(Rx,{location:t.location,revalidation:t.revalidation,component:L,error:S,children:B(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):B()},null)}function om(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nx(n){let e=q.useContext(la);return tt(e,om(n)),e}function Dx(n){let e=q.useContext(kd);return tt(e,om(n)),e}function Lx(n){let e=q.useContext(Tr);return tt(e,om(n)),e}function am(n){let e=Lx(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ox(){return am("useRouteId")}function Vx(){var i;let n=q.useContext(sm),e=Dx("useRouteError"),t=am("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Mx(){let{router:n}=Nx("useNavigate"),e=am("useNavigate"),t=q.useRef(!1);return vE(()=>{t.current=!0}),q.useCallback(async(o,l={})=>{Mn(t.current,yE),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var tw={};function _E(n,e,t){!e&&!tw[n]&&(tw[n]=!0,Mn(!1,t))}q.memo(Fx);function Fx({routes:n,future:e,state:t}){return wE(n,void 0,t,e)}function nw({to:n,replace:e,state:t,relative:i}){tt(ua(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(tr);Mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=q.useContext(Tr),{pathname:d}=Hi(),f=Pd(),p=im(n,rm(l),d,i==="path"),y=JSON.stringify(p);return q.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:i})},[f,y,i,e,t]),null}function kc(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ux({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){tt(!ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof t=="string"&&(t=Ms(t));let{pathname:p="/",search:y="",hash:_="",state:S=null,key:A="default"}=t,L=q.useMemo(()=>{let F=$i(p,d);return F==null?null:{location:{pathname:F,search:y,hash:_,state:S,key:A},navigationType:i}},[d,p,y,_,S,A,i]);return Mn(L!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:q.createElement(tr.Provider,{value:f},q.createElement(Wl.Provider,{children:e,value:L}))}function Bx({children:n,location:e}){return Ax(Qf(n),e)}function Qf(n,e=[]){let t=[];return q.Children.forEach(n,(i,o)=>{if(!q.isValidElement(i))return;let l=[...e,o];if(i.type===q.Fragment){t.push.apply(t,Qf(i.props.children,l));return}tt(i.type===kc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Qf(i.props.children,l)),t.push(d)}),t}var Pc="get",Rc="application/x-www-form-urlencoded";function Rd(n){return n!=null&&typeof n.tagName=="string"}function jx(n){return Rd(n)&&n.tagName.toLowerCase()==="button"}function zx(n){return Rd(n)&&n.tagName.toLowerCase()==="form"}function $x(n){return Rd(n)&&n.tagName.toLowerCase()==="input"}function Hx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qx(n,e){return n.button===0&&(!e||e==="_self")&&!Hx(n)}var yc=null;function Wx(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var Kx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(n){return n!=null&&!Kx.has(n)?(Mn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rc}"`),null):n}function Gx(n,e){let t,i,o,l,d;if(zx(n)){let f=n.getAttribute("action");i=f?$i(f,e):null,t=n.getAttribute("method")||Pc,o=Tf(n.getAttribute("enctype"))||Rc,l=new FormData(n)}else if(jx(n)||$x(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?$i(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Pc,o=Tf(n.getAttribute("formenctype"))||Tf(f.getAttribute("enctype"))||Rc,l=new FormData(f,n),!Wx()){let{name:y,type:_,value:S}=n;if(_==="image"){let A=y?`${y}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else y&&l.append(y,S)}}else{if(Rd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pc,i=null,o=Rc,d=n}return l&&o==="text/plain"&&(d=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:d}}function lm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Qx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Xx(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await Qx(l,t);return d.links?d.links():[]}return[]}));return tN(i.flat(1).filter(Yx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function rw(n,e,t,i,o,l){let d=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>d(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var S;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(d(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Jx(n,e){return Zx(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Zx(n){return[...new Set(n)]}function eN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function tN(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(eN(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function nN(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function rN(){let n=q.useContext(la);return lm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function iN(){let n=q.useContext(kd);return lm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var um=q.createContext(void 0);um.displayName="FrameworkContext";function EE(){let n=q.useContext(um);return lm(n,"You must render this element inside a <HydratedRouter> element"),n}function sN(n,e){let t=q.useContext(um),[i,o]=q.useState(!1),[l,d]=q.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:S}=e,A=q.useRef(null);q.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let H=K=>{K.forEach(X=>{d(X.isIntersecting)})},B=new IntersectionObserver(H,{threshold:.5});return A.current&&B.observe(A.current),()=>{B.disconnect()}}},[n]),q.useEffect(()=>{if(i){let H=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(H)}}},[i]);let L=()=>{o(!0)},F=()=>{o(!1),d(!1)};return t?n!=="intent"?[l,A,{}]:[l,A,{onFocus:ol(f,L),onBlur:ol(p,F),onMouseEnter:ol(y,L),onMouseLeave:ol(_,F),onTouchStart:ol(S,L)}]:[!1,A,{}]}function ol(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function oN({page:n,...e}){let{router:t}=rN(),i=q.useMemo(()=>hE(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?q.createElement(lN,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function aN(n){let{manifest:e,routeModules:t}=EE(),[i,o]=q.useState([]);return q.useEffect(()=>{let l=!1;return Xx(n,e,t).then(d=>{l||o(d)}),()=>{l=!0}},[n,e,t]),i}function lN({page:n,matches:e,...t}){let i=Hi(),{manifest:o,routeModules:l}=EE(),{loaderData:d,matches:f}=iN(),p=q.useMemo(()=>rw(n,e,f,o,i,"data"),[n,e,f,o,i]),y=q.useMemo(()=>rw(n,e,f,o,i,"assets"),[n,e,f,o,i]),_=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let L=new Set,F=!1;if(e.forEach(B=>{var X;let K=o.routes[B.route.id];!K||!K.hasLoader||(!p.some(ie=>ie.route.id===B.route.id)&&B.route.id in d&&((X=l[B.route.id])!=null&&X.shouldRevalidate)||K.hasClientLoader?F=!0:L.add(B.route.id))}),L.size===0)return[];let H=nN(n);return F&&L.size>0&&H.searchParams.set("_routes",e.filter(B=>L.has(B.route.id)).map(B=>B.route.id).join(",")),[H.pathname+H.search]},[d,i,o,p,e,n,l]),S=q.useMemo(()=>Jx(y,o),[y,o]),A=aN(y);return q.createElement(q.Fragment,null,_.map(L=>q.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),S.map(L=>q.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),A.map(({key:L,link:F})=>q.createElement("link",{key:L,...F})))}function uN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var TE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TE&&(window.__reactRouterVersion="7.0.2")}catch{}function cN({basename:n,children:e,window:t}){let i=q.useRef();i.current==null&&(i.current=Jb({window:t,v5Compat:!0}));let o=i.current,[l,d]=q.useState({action:o.action,location:o.location}),f=q.useCallback(p=>{q.startTransition(()=>d(p))},[d]);return q.useLayoutEffect(()=>o.listen(f),[o,f]),q.createElement(Ux,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var IE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SE=q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:d,state:f,target:p,to:y,preventScrollReset:_,viewTransition:S,...A},L){let{basename:F}=q.useContext(tr),H=typeof y=="string"&&IE.test(y),B,K=!1;if(typeof y=="string"&&H&&(B=y,TE))try{let C=new URL(window.location.href),R=y.startsWith("//")?new URL(C.protocol+y):new URL(y),N=$i(R.pathname,F);R.origin===C.origin&&N!=null?y=N+R.search+R.hash:K=!0}catch{Mn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=Sx(y,{relative:o}),[ie,he,Ae]=sN(i,A),Se=fN(y,{replace:d,state:f,target:p,preventScrollReset:_,relative:o,viewTransition:S});function b(C){e&&e(C),C.defaultPrevented||Se(C)}let T=q.createElement("a",{...A,...Ae,href:B||X,onClick:K||l?e:b,ref:uN(L,he),target:p,"data-discover":!H&&t==="render"?"true":void 0});return ie&&!H?q.createElement(q.Fragment,null,T,q.createElement(oN,{page:X})):T});SE.displayName="Link";var bc=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:d,viewTransition:f,children:p,...y},_){let S=Kl(d,{relative:y.relative}),A=Hi(),L=q.useContext(kd),{navigator:F,basename:H}=q.useContext(tr),B=L!=null&&vN(S)&&f===!0,K=F.encodeLocation?F.encodeLocation(S).pathname:S.pathname,X=A.pathname,ie=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;t||(X=X.toLowerCase(),ie=ie?ie.toLowerCase():null,K=K.toLowerCase()),ie&&H&&(ie=$i(ie,H)||ie);const he=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let Ae=X===K||!o&&X.startsWith(K)&&X.charAt(he)==="/",Se=ie!=null&&(ie===K||!o&&ie.startsWith(K)&&ie.charAt(K.length)==="/"),b={isActive:Ae,isPending:Se,isTransitioning:B},T=Ae?e:void 0,C;typeof i=="function"?C=i(b):C=[i,Ae?"active":null,Se?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(b):l;return q.createElement(SE,{...y,"aria-current":T,className:C,ref:_,style:R,to:d,viewTransition:f},typeof p=="function"?p(b):p)});bc.displayName="NavLink";var dN=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:d=Pc,action:f,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:S,...A},L)=>{let F=gN(),H=yN(f,{relative:y}),B=d.toLowerCase()==="get"?"get":"post",K=typeof f=="string"&&IE.test(f),X=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let he=ie.nativeEvent.submitter,Ae=(he==null?void 0:he.getAttribute("formmethod"))||d;F(he||ie.currentTarget,{fetcherKey:e,method:Ae,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:S})};return q.createElement("form",{ref:L,method:B,action:H,onSubmit:i?p:X,...A,"data-discover":!K&&n==="render"?"true":void 0})});dN.displayName="Form";function hN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CE(n){let e=q.useContext(la);return tt(e,hN(n)),e}function fN(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:d}={}){let f=Pd(),p=Hi(),y=Kl(n,{relative:l});return q.useCallback(_=>{if(qx(_,e)){_.preventDefault();let S=t!==void 0?t:Pl(p)===Pl(y);f(n,{replace:S,state:i,preventScrollReset:o,relative:l,viewTransition:d})}},[p,f,y,t,i,e,n,o,l,d])}var pN=0,mN=()=>`__${String(++pN)}__`;function gN(){let{router:n}=CE("useSubmit"),{basename:e}=q.useContext(tr),t=Ox();return q.useCallback(async(i,o={})=>{let{action:l,method:d,encType:f,formData:p,body:y}=Gx(i,e);if(o.navigate===!1){let _=o.fetcherKey||mN();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function yN(n,{relative:e}={}){let{basename:t}=q.useContext(tr),i=q.useContext(Tr);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Kl(n||".",{relative:e})},d=Hi();if(n==null){l.search=d.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(S=>S).forEach(S=>f.append("index",S));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Kr([t,l.pathname])),Pl(l)}function vN(n,e={}){let t=q.useContext(gE);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=CE("useViewTransitionState"),o=Kl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=$i(t.currentLocation.pathname,i)||t.currentLocation.pathname,d=$i(t.nextLocation.pathname,i)||t.nextLocation.pathname;return id(o.pathname,d)!=null||id(o.pathname,l)!=null}new TextEncoder;const wN=()=>{const[n,e]=q.useState(""),[t,i]=q.useState(""),o=Pd(),l=async d=>{d.preventDefault();try{const f=await qb(n,t);f.emailVerified?(ql("Inicio de sesión exitoso"),o("/form")):dE(f)}catch(f){nm(f.message)}};return Q.jsxs("form",{id:"loginForm",className:"LoginForm",onSubmit:l,children:[Q.jsx("h2",{children:"INICIAR SESIÓN"}),Q.jsx("input",{type:"email",id:"email",placeholder:"Correo electrónico",required:!0,value:n,onChange:d=>e(d.target.value),autoComplete:"on"}),Q.jsx("input",{type:"password",id:"password",placeholder:"Contraseña",required:!0,value:t,onChange:d=>i(d.target.value),autoComplete:"new-password"}),Q.jsx("button",{className:"button",id:"loginButton",type:"submit",children:"Iniciar Sesión"})]})},_N=()=>{const[n,e]=q.useState(""),[t,i]=q.useState(""),o=async l=>{l.preventDefault();try{const d=await Hb(n,t);ql(`Para completar el registro debes confirmar el correo enviado a ${n}`)}catch(d){nm(d.message)}};return Q.jsxs("form",{className:"RegisterForm",id:"registerForm",onSubmit:o,children:[Q.jsx("h2",{children:"REGISTRAR NUEVO USUARIO"}),Q.jsx("input",{type:"email",id:"registerEmail",placeholder:"Correo electrónico",autoComplete:"off",value:n,onChange:l=>e(l.target.value)}),Q.jsx("input",{type:"password",id:"registerPassword",placeholder:"Contraseña",autoComplete:"new-password",value:t,onChange:l=>i(l.target.value)}),Q.jsx("button",{className:"button",id:"registerButton",type:"submit",children:"Registrarse"})]})},EN=({element:n})=>{const{currentUser:e}=Bp();return e?e.emailVerified?n:(dE(e),Q.jsx(nw,{to:"/"})):(Kb("Debes iniciar sesión para acceder a esta página."),Q.jsx(nw,{to:"/"}))},TN=()=>{const{currentUser:n}=Bp(),e=Pd(),t=async()=>{e("/"),await Uk(Ed),ql("Sesión cerrada")};return Q.jsx("nav",{children:Q.jsx("ul",{children:n?n.emailVerified?Q.jsx(Q.Fragment,{children:Q.jsx("li",{children:Q.jsx("button",{onClick:t,children:"Cerrar sesión"})})}):Q.jsxs(Q.Fragment,{children:[Q.jsx("li",{children:Q.jsx(bc,{to:"/",style:({isActive:i})=>({textDecoration:i?"underline":"none",textUnderlineOffset:"8px"}),children:"Verificar correo electrónico"})}),Q.jsx("li",{children:Q.jsx("button",{onClick:t,children:"Cerrar sesión"})})]}):Q.jsxs(Q.Fragment,{children:[Q.jsx("li",{children:Q.jsx(bc,{to:"/",style:({isActive:i})=>({textDecoration:i?"underline":"none",textUnderlineOffset:"8px"}),children:"Iniciar sesión"})}),Q.jsx("li",{children:Q.jsx(bc,{to:"/register",style:({isActive:i})=>({textDecoration:i?"underline":"none",textUnderlineOffset:"8px"}),children:"Registrarse"})})]})})})},IN=()=>Q.jsxs("div",{className:"App",children:[Q.jsx(FT,{}),Q.jsxs("main",{children:[Q.jsx(TN,{}),Q.jsxs(Bx,{children:[Q.jsx(kc,{path:"/",element:Q.jsx(wN,{})}),Q.jsx(kc,{path:"/register",element:Q.jsx(_N,{})}),Q.jsx(kc,{path:"/form",element:Q.jsx(EN,{element:Q.jsx(Yb,{})})})]})]}),Q.jsx(UT,{})]});MT.createRoot(document.getElementById("root")).render(Q.jsx(q.StrictMode,{children:Q.jsx(Z2,{children:Q.jsx(cN,{children:Q.jsx(IN,{})})})}));
