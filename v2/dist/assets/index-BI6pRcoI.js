(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function jT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var af={exports:{}},al={},lf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function BT(){if(Ey)return Re;Ey=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),I=Symbol.iterator;function C(L){return L===null||typeof L!="object"?null:(L=I&&L[I]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,H={};function j(L,Q,fe){this.props=L,this.context=Q,this.refs=H,this.updater=fe||D}j.prototype.isReactComponent={},j.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=j.prototype;function X(L,Q,fe){this.props=L,this.context=Q,this.refs=H,this.updater=fe||D}var ie=X.prototype=new G;ie.constructor=X,F(ie,j.prototype),ie.isPureReactComponent=!0;var he=Array.isArray,Ae=Object.prototype.hasOwnProperty,Se={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function T(L,Q,fe){var Pe,ke={},Le=null,Be=null;if(Q!=null)for(Pe in Q.ref!==void 0&&(Be=Q.ref),Q.key!==void 0&&(Le=""+Q.key),Q)Ae.call(Q,Pe)&&!b.hasOwnProperty(Pe)&&(ke[Pe]=Q[Pe]);var ze=arguments.length-2;if(ze===1)ke.children=fe;else if(1<ze){for(var Ke=Array(ze),St=0;St<ze;St++)Ke[St]=arguments[St+2];ke.children=Ke}if(L&&L.defaultProps)for(Pe in ze=L.defaultProps,ze)ke[Pe]===void 0&&(ke[Pe]=ze[Pe]);return{$$typeof:n,type:L,key:Le,ref:Be,props:ke,_owner:Se.current}}function A(L,Q){return{$$typeof:n,type:L.type,key:Q,ref:L.ref,props:L.props,_owner:L._owner}}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function N(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return Q[fe]})}var O=/\/+/g;function P(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):Q.toString(36)}function at(L,Q,fe,Pe,ke){var Le=typeof L;(Le==="undefined"||Le==="boolean")&&(L=null);var Be=!1;if(L===null)Be=!0;else switch(Le){case"string":case"number":Be=!0;break;case"object":switch(L.$$typeof){case n:case e:Be=!0}}if(Be)return Be=L,ke=ke(Be),L=Pe===""?"."+P(Be,0):Pe,he(ke)?(fe="",L!=null&&(fe=L.replace(O,"$&/")+"/"),at(ke,Q,fe,"",function(St){return St})):ke!=null&&(R(ke)&&(ke=A(ke,fe+(!ke.key||Be&&Be.key===ke.key?"":(""+ke.key).replace(O,"$&/")+"/")+L)),Q.push(ke)),1;if(Be=0,Pe=Pe===""?".":Pe+":",he(L))for(var ze=0;ze<L.length;ze++){Le=L[ze];var Ke=Pe+P(Le,ze);Be+=at(Le,Q,fe,Ke,ke)}else if(Ke=C(L),typeof Ke=="function")for(L=Ke.call(L),ze=0;!(Le=L.next()).done;)Le=Le.value,Ke=Pe+P(Le,ze++),Be+=at(Le,Q,fe,Ke,ke);else if(Le==="object")throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Be}function Ft(L,Q,fe){if(L==null)return L;var Pe=[],ke=0;return at(L,Pe,"","",function(Le){return Q.call(fe,Le,ke++)}),Pe}function Ut(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var qe={current:null},re={transition:null},pe={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:re,ReactCurrentOwner:Se};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Ft,forEach:function(L,Q,fe){Ft(L,function(){Q.apply(this,arguments)},fe)},count:function(L){var Q=0;return Ft(L,function(){Q++}),Q},toArray:function(L){return Ft(L,function(Q){return Q})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Re.Component=j,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=i,Re.Suspense=p,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Re.act=oe,Re.cloneElement=function(L,Q,fe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Pe=F({},L.props),ke=L.key,Le=L.ref,Be=L._owner;if(Q!=null){if(Q.ref!==void 0&&(Le=Q.ref,Be=Se.current),Q.key!==void 0&&(ke=""+Q.key),L.type&&L.type.defaultProps)var ze=L.type.defaultProps;for(Ke in Q)Ae.call(Q,Ke)&&!b.hasOwnProperty(Ke)&&(Pe[Ke]=Q[Ke]===void 0&&ze!==void 0?ze[Ke]:Q[Ke])}var Ke=arguments.length-2;if(Ke===1)Pe.children=fe;else if(1<Ke){ze=Array(Ke);for(var St=0;St<Ke;St++)ze[St]=arguments[St+2];Pe.children=ze}return{$$typeof:n,type:L.type,key:ke,ref:Le,props:Pe,_owner:Be}},Re.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Re.createElement=T,Re.createFactory=function(L){var Q=T.bind(null,L);return Q.type=L,Q},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:f,render:L}},Re.isValidElement=R,Re.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:Ut}},Re.memo=function(L,Q){return{$$typeof:y,type:L,compare:Q===void 0?null:Q}},Re.startTransition=function(L){var Q=re.transition;re.transition={};try{L()}finally{re.transition=Q}},Re.unstable_act=oe,Re.useCallback=function(L,Q){return qe.current.useCallback(L,Q)},Re.useContext=function(L){return qe.current.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L){return qe.current.useDeferredValue(L)},Re.useEffect=function(L,Q){return qe.current.useEffect(L,Q)},Re.useId=function(){return qe.current.useId()},Re.useImperativeHandle=function(L,Q,fe){return qe.current.useImperativeHandle(L,Q,fe)},Re.useInsertionEffect=function(L,Q){return qe.current.useInsertionEffect(L,Q)},Re.useLayoutEffect=function(L,Q){return qe.current.useLayoutEffect(L,Q)},Re.useMemo=function(L,Q){return qe.current.useMemo(L,Q)},Re.useReducer=function(L,Q,fe){return qe.current.useReducer(L,Q,fe)},Re.useRef=function(L){return qe.current.useRef(L)},Re.useState=function(L){return qe.current.useState(L)},Re.useSyncExternalStore=function(L,Q,fe){return qe.current.useSyncExternalStore(L,Q,fe)},Re.useTransition=function(){return qe.current.useTransition()},Re.version="18.3.1",Re}var Ty;function ip(){return Ty||(Ty=1,lf.exports=BT()),lf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function zT(){if(Iy)return al;Iy=1;var n=ip(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,y){var _,I={},C=null,D=null;y!==void 0&&(C=""+y),p.key!==void 0&&(C=""+p.key),p.ref!==void 0&&(D=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(I[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)I[_]===void 0&&(I[_]=p[_]);return{$$typeof:e,type:f,key:C,ref:D,props:I,_owner:o.current}}return al.Fragment=t,al.jsx=d,al.jsxs=d,al}var Sy;function $T(){return Sy||(Sy=1,af.exports=zT()),af.exports}var q=$T(),W=ip();const Ts=jT(W);var pc={},uf={exports:{}},an={},cf={exports:{}},df={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function HT(){return Cy||(Cy=1,function(n){function e(re,pe){var oe=re.length;re.push(pe);e:for(;0<oe;){var L=oe-1>>>1,Q=re[L];if(0<o(Q,pe))re[L]=pe,re[oe]=Q,oe=L;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var pe=re[0],oe=re.pop();if(oe!==pe){re[0]=oe;e:for(var L=0,Q=re.length,fe=Q>>>1;L<fe;){var Pe=2*(L+1)-1,ke=re[Pe],Le=Pe+1,Be=re[Le];if(0>o(ke,oe))Le<Q&&0>o(Be,ke)?(re[L]=Be,re[Le]=oe,L=Le):(re[L]=ke,re[Pe]=oe,L=Pe);else if(Le<Q&&0>o(Be,oe))re[L]=Be,re[Le]=oe,L=Le;else break e}}return pe}function o(re,pe){var oe=re.sortIndex-pe.sortIndex;return oe!==0?oe:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var p=[],y=[],_=1,I=null,C=3,D=!1,F=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(re){for(var pe=t(y);pe!==null;){if(pe.callback===null)i(y);else if(pe.startTime<=re)i(y),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(y)}}function he(re){if(H=!1,ie(re),!F)if(t(p)!==null)F=!0,Ut(Ae);else{var pe=t(y);pe!==null&&qe(he,pe.startTime-re)}}function Ae(re,pe){F=!1,H&&(H=!1,G(T),T=-1),D=!0;var oe=C;try{for(ie(pe),I=t(p);I!==null&&(!(I.expirationTime>pe)||re&&!N());){var L=I.callback;if(typeof L=="function"){I.callback=null,C=I.priorityLevel;var Q=L(I.expirationTime<=pe);pe=n.unstable_now(),typeof Q=="function"?I.callback=Q:I===t(p)&&i(p),ie(pe)}else i(p);I=t(p)}if(I!==null)var fe=!0;else{var Pe=t(y);Pe!==null&&qe(he,Pe.startTime-pe),fe=!1}return fe}finally{I=null,C=oe,D=!1}}var Se=!1,b=null,T=-1,A=5,R=-1;function N(){return!(n.unstable_now()-R<A)}function O(){if(b!==null){var re=n.unstable_now();R=re;var pe=!0;try{pe=b(!0,re)}finally{pe?P():(Se=!1,b=null)}}else Se=!1}var P;if(typeof X=="function")P=function(){X(O)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,Ft=at.port2;at.port1.onmessage=O,P=function(){Ft.postMessage(null)}}else P=function(){j(O,0)};function Ut(re){b=re,Se||(Se=!0,P())}function qe(re,pe){T=j(function(){re(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){F||D||(F=!0,Ut(Ae))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(C){case 1:case 2:case 3:var pe=3;break;default:pe=C}var oe=C;C=pe;try{return re()}finally{C=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=C;C=re;try{return pe()}finally{C=oe}},n.unstable_scheduleCallback=function(re,pe,oe){var L=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?L+oe:L):oe=L,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,re={id:_++,callback:pe,priorityLevel:re,startTime:oe,expirationTime:Q,sortIndex:-1},oe>L?(re.sortIndex=oe,e(y,re),t(p)===null&&re===t(y)&&(H?(G(T),T=-1):H=!0,qe(he,oe-L))):(re.sortIndex=Q,e(p,re),F||D||(F=!0,Ut(Ae))),re},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(re){var pe=C;return function(){var oe=C;C=pe;try{return re.apply(this,arguments)}finally{C=oe}}}}(df)),df}var Ay;function qT(){return Ay||(Ay=1,cf.exports=HT()),cf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function WT(){if(Py)return an;Py=1;var n=ip(),e=qT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){d(r,s),d(r+"Capture",s)}function d(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},I={};function C(r){return p.call(I,r)?!0:p.call(_,r)?!1:y.test(r)?I[r]=!0:(_[r]=!0,!1)}function D(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function F(r,s,a,c){if(s===null||typeof s>"u"||D(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function H(r,s,a,c,h,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new H(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];j[s]=new H(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new H(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new H(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new H(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new H(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new H(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new H(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new H(r,5,!1,r.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(G,X);j[s]=new H(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(G,X);j[s]=new H(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(G,X);j[s]=new H(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new H(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new H(r,1,!1,r.toLowerCase(),null,!0,!0)});function ie(r,s,a,c){var h=j.hasOwnProperty(s)?j[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,a,h,c)&&(a=null),c||h===null?C(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?r.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var he=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ae=Symbol.for("react.element"),Se=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),Ft=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),qe=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,L;function Q(r){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var fe=!1;function Pe(r,s){if(!r||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var c=B}Reflect.construct(r,[],s)}else{try{s.call()}catch(B){c=B}r.call(s.prototype)}else{try{throw Error()}catch(B){c=B}r()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var h=B.stack.split(`
`),g=c.stack.split(`
`),w=h.length-1,S=g.length-1;1<=w&&0<=S&&h[w]!==g[S];)S--;for(;1<=w&&0<=S;w--,S--)if(h[w]!==g[S]){if(w!==1||S!==1)do if(w--,S--,0>S||h[w]!==g[S]){var k=`
`+h[w].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=w&&0<=S);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function ke(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case Se:return"Portal";case A:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case at:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case R:return(r._context.displayName||"Context")+".Provider";case O:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ft:return s=r.displayName||null,s!==null?s:Le(r.type)||"Memo";case Ut:s=r._payload,r=r._init;try{return Le(r(s))}catch{}}return null}function Be(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(r){var s=Ke(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ir(r){r._valueTracker||(r._valueTracker=St(r))}function Us(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Ke(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function ti(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function qi(r,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function js(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=ze(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function fa(r,s){s=s.checked,s!=null&&ie(r,"checked",s,!1)}function pa(r,s){fa(r,s);var a=ze(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Bs(r,s.type,a):s.hasOwnProperty("defaultValue")&&Bs(r,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Zl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Bs(r,s,a){(s!=="number"||ti(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Sr=Array.isArray;function Cr(r,s,a,c){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function ma(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function zs(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Sr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ze(a)}}function $s(r,s){var a=ze(s.value),c=ze(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function ga(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function gt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?gt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ar,ya=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,h)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ar.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ni(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ki=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(r){Ki.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Wi[s]=Wi[r]})});function va(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Wi.hasOwnProperty(r)&&Wi[r]?(""+s).trim():s+"px"}function wa(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=va(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,h):r[a]=h}}var _a=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(r,s){if(s){if(_a[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ta(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gi=null;function Hs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qs=null,Sn=null,nr=null;function Ws(r){if(r=Wa(r)){if(typeof qs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ru(s),qs(r.stateNode,r.type,s))}}function rr(r){Sn?nr?nr.push(r):nr=[r]:Sn=r}function Ia(){if(Sn){var r=Sn,s=nr;if(nr=Sn=null,Ws(r),s)for(r=0;r<s.length;r++)Ws(s[r])}}function Qi(r,s){return r(s)}function Sa(){}var Pr=!1;function Ca(r,s,a){if(Pr)return r(s,a);Pr=!0;try{return Qi(r,s,a)}finally{Pr=!1,(Sn!==null||nr!==null)&&(Sa(),Ia())}}function lt(r,s){var a=r.stateNode;if(a===null)return null;var c=Ru(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ks=!1;if(f)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Ks=!1}function Yi(r,s,a,c,h,g,w,S,k){var B=Array.prototype.slice.call(arguments,3);try{s.apply(a,B)}catch(J){this.onError(J)}}var Xi=!1,Gs=null,Un=!1,Aa=null,Ld={onError:function(r){Xi=!0,Gs=r}};function Qs(r,s,a,c,h,g,w,S,k){Xi=!1,Gs=null,Yi.apply(Ld,arguments)}function eu(r,s,a,c,h,g,w,S,k){if(Qs.apply(this,arguments),Xi){if(Xi){var B=Gs;Xi=!1,Gs=null}else throw Error(t(198));Un||(Un=!0,Aa=B)}}function jn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ji(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Bn(r){if(jn(r)!==r)throw Error(t(188))}function tu(r){var s=r.alternate;if(!s){if(s=jn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var h=a.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===a)return Bn(h),r;if(g===c)return Bn(h),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=h,c=g;else{for(var w=!1,S=h.child;S;){if(S===a){w=!0,a=h,c=g;break}if(S===c){w=!0,c=h,a=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===a){w=!0,a=g,c=h;break}if(S===c){w=!0,c=g,a=h;break}S=S.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Pa(r){return r=tu(r),r!==null?Ys(r):null}function Ys(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ys(r);if(s!==null)return s;r=r.sibling}return null}var Xs=e.unstable_scheduleCallback,ka=e.unstable_cancelCallback,nu=e.unstable_shouldYield,Od=e.unstable_requestPaint,Ge=e.unstable_now,ru=e.unstable_getCurrentPriorityLevel,Zi=e.unstable_ImmediatePriority,ri=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,Ra=e.unstable_LowPriority,iu=e.unstable_IdlePriority,es=null,fn=null;function su(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(es,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:au,ba=Math.log,ou=Math.LN2;function au(r){return r>>>=0,r===0?32:31-(ba(r)/ou|0)|0}var Js=64,Zs=4194304;function ii(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ts(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,h=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var S=w&~h;S!==0?c=ii(S):(g&=w,g!==0&&(c=ii(g)))}else w=a&~h,w!==0?c=ii(w):g!==0&&(c=ii(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&h)&&(h=c&-c,g=s&-s,h>=g||h===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Qt(s),h=1<<a,c|=r[a],s&=~h;return c}function Vd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Qt(g),S=1<<w,k=h[w];k===-1?(!(S&a)||S&c)&&(h[w]=Vd(S,s)):k<=s&&(r.expiredLanes|=S),g&=~S}}function pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ns(){var r=Js;return Js<<=1,!(Js&4194240)&&(Js=64),r}function si(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function oi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=a}function We(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-Qt(a),g=1<<h;s[h]=0,c[h]=-1,r[h]=-1,a&=~g}}function ai(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Qt(a),h=1<<c;h&s|r[c]&s&&(r[c]|=s),a&=~h}}var Ne=0;function li(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var lu,eo,uu,cu,du,xa=!1,ir=[],xt=null,zn=null,$n=null,ui=new Map,An=new Map,sr=[],Md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(r,s){switch(r){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":ui.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(s.pointerId)}}function Zt(r,s,a,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Wa(s),s!==null&&eo(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Fd(r,s,a,c,h){switch(s){case"focusin":return xt=Zt(xt,r,s,a,c,h),!0;case"dragenter":return zn=Zt(zn,r,s,a,c,h),!0;case"mouseover":return $n=Zt($n,r,s,a,c,h),!0;case"pointerover":var g=h.pointerId;return ui.set(g,Zt(ui.get(g)||null,r,s,a,c,h)),!0;case"gotpointercapture":return g=h.pointerId,An.set(g,Zt(An.get(g)||null,r,s,a,c,h)),!0}return!1}function fu(r){var s=as(r.target);if(s!==null){var a=jn(s);if(a!==null){if(s=a.tag,s===13){if(s=Ji(a),s!==null){r.blockedOn=s,du(r.priority,function(){uu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=to(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Gi=c,a.target.dispatchEvent(c),Gi=null}else return s=Wa(a),s!==null&&eo(s),r.blockedOn=a,!1;s.shift()}return!0}function rs(r,s,a){Rr(r)&&a.delete(s)}function pu(){xa=!1,xt!==null&&Rr(xt)&&(xt=null),zn!==null&&Rr(zn)&&(zn=null),$n!==null&&Rr($n)&&($n=null),ui.forEach(rs),An.forEach(rs)}function Hn(r,s){r.blockedOn===s&&(r.blockedOn=null,xa||(xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pu)))}function qn(r){function s(h){return Hn(h,r)}if(0<ir.length){Hn(ir[0],r);for(var a=1;a<ir.length;a++){var c=ir[a];c.blockedOn===r&&(c.blockedOn=null)}}for(xt!==null&&Hn(xt,r),zn!==null&&Hn(zn,r),$n!==null&&Hn($n,r),ui.forEach(s),An.forEach(s),a=0;a<sr.length;a++)c=sr[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)fu(a),a.blockedOn===null&&sr.shift()}var br=he.ReactCurrentBatchConfig,ci=!0;function Ze(r,s,a,c){var h=Ne,g=br.transition;br.transition=null;try{Ne=1,Na(r,s,a,c)}finally{Ne=h,br.transition=g}}function Ud(r,s,a,c){var h=Ne,g=br.transition;br.transition=null;try{Ne=4,Na(r,s,a,c)}finally{Ne=h,br.transition=g}}function Na(r,s,a,c){if(ci){var h=to(r,s,a,c);if(h===null)Yd(r,s,c,is,a),hu(r,c);else if(Fd(h,r,s,a,c))c.stopPropagation();else if(hu(r,c),s&4&&-1<Md.indexOf(r)){for(;h!==null;){var g=Wa(h);if(g!==null&&lu(g),g=to(r,s,a,c),g===null&&Yd(r,s,c,is,a),g===h)break;h=g}h!==null&&c.stopPropagation()}else Yd(r,s,c,null,a)}}var is=null;function to(r,s,a,c){if(is=null,r=Hs(c),r=as(r),r!==null)if(s=jn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ji(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return is=r,null}function Da(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ru()){case Zi:return 1;case ri:return 4;case Cn:case Ra:return 16;case iu:return 536870912;default:return 16}default:return 16}}var mn=null,no=null,en=null;function La(){if(en)return en;var r,s=no,a=s.length,c,h="value"in mn?mn.value:mn.textContent,g=h.length;for(r=0;r<a&&s[r]===h[r];r++);var w=a-r;for(c=1;c<=w&&s[a-c]===h[g-c];c++);return en=h.slice(r,1<c?1-c:void 0)}function ro(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function or(){return!0}function Oa(){return!1}function Nt(r){function s(a,c,h,g,w){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?or:Oa,this.isPropagationStopped=Oa,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=Nt(Wn),ar=oe({},Wn,{view:0,detail:0}),jd=Nt(ar),so,xr,di,ss=oe({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==di&&(di&&r.type==="mousemove"?(so=r.screenX-di.screenX,xr=r.screenY-di.screenY):xr=so=0,di=r),so)},movementY:function(r){return"movementY"in r?r.movementY:xr}}),oo=Nt(ss),Va=oe({},ss,{dataTransfer:0}),mu=Nt(Va),ao=oe({},ar,{relatedTarget:0}),lo=Nt(ao),gu=oe({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Nt(gu),yu=oe({},Wn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),vu=Nt(yu),wu=oe({},Wn,{data:0}),Ma=Nt(wu),uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=_u[r])?!!s[r]:!1}function lr(){return Eu}var u=oe({},ar,{key:function(r){if(r.key){var s=uo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ro(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(r){return r.type==="keypress"?ro(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ro(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Nt(u),v=oe({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Nt(v),V=oe({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),z=Nt(V),ne=oe({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Nt(ne),vt=oe({},ss,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=Nt(vt),Ct=[9,13,27,32],ft=f&&"CompositionEvent"in window,Pn=null;f&&"documentMode"in document&&(Pn=document.documentMode);var gn=f&&"TextEvent"in window&&!Pn,os=f&&(!ft||Pn&&8<Pn&&11>=Pn),co=" ",mm=!1;function gm(r,s){switch(r){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ho=!1;function ME(r,s){switch(r){case"compositionend":return ym(s);case"keypress":return s.which!==32?null:(mm=!0,co);case"textInput":return r=s.data,r===co&&mm?null:r;default:return null}}function FE(r,s){if(ho)return r==="compositionend"||!ft&&gm(r,s)?(r=La(),en=no=mn=null,ho=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return os&&s.locale!=="ko"?null:s.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!UE[r.type]:s==="textarea"}function wm(r,s,a,c){rr(c),s=Au(s,"onChange"),0<s.length&&(a=new io("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Fa=null,Ua=null;function jE(r){Mm(r,0)}function Tu(r){var s=yo(r);if(Us(s))return r}function BE(r,s){if(r==="change")return s}var _m=!1;if(f){var Bd;if(f){var zd="oninput"in document;if(!zd){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),zd=typeof Em.oninput=="function"}Bd=zd}else Bd=!1;_m=Bd&&(!document.documentMode||9<document.documentMode)}function Tm(){Fa&&(Fa.detachEvent("onpropertychange",Im),Ua=Fa=null)}function Im(r){if(r.propertyName==="value"&&Tu(Ua)){var s=[];wm(s,Ua,r,Hs(r)),Ca(jE,s)}}function zE(r,s,a){r==="focusin"?(Tm(),Fa=s,Ua=a,Fa.attachEvent("onpropertychange",Im)):r==="focusout"&&Tm()}function $E(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tu(Ua)}function HE(r,s){if(r==="click")return Tu(s)}function qE(r,s){if(r==="input"||r==="change")return Tu(s)}function WE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Kn=typeof Object.is=="function"?Object.is:WE;function ja(r,s){if(Kn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!p.call(s,h)||!Kn(r[h],s[h]))return!1}return!0}function Sm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cm(r,s){var a=Sm(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sm(a)}}function Am(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Am(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Pm(){for(var r=window,s=ti();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ti(r.document)}return s}function $d(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function KE(r){var s=Pm(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Am(a.ownerDocument.documentElement,a)){if(c!==null&&$d(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!r.extend&&g>c&&(h=c,c=g,g=h),h=Cm(a,g);var w=Cm(a,c);h&&w&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var GE=f&&"documentMode"in document&&11>=document.documentMode,fo=null,Hd=null,Ba=null,qd=!1;function km(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qd||fo==null||fo!==ti(c)||(c=fo,"selectionStart"in c&&$d(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ba&&ja(Ba,c)||(Ba=c,c=Au(Hd,"onSelect"),0<c.length&&(s=new io("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=fo)))}function Iu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var po={animationend:Iu("Animation","AnimationEnd"),animationiteration:Iu("Animation","AnimationIteration"),animationstart:Iu("Animation","AnimationStart"),transitionend:Iu("Transition","TransitionEnd")},Wd={},Rm={};f&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Su(r){if(Wd[r])return Wd[r];if(!po[r])return r;var s=po[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Rm)return Wd[r]=s[a];return r}var bm=Su("animationend"),xm=Su("animationiteration"),Nm=Su("animationstart"),Dm=Su("transitionend"),Lm=new Map,Om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,s){Lm.set(r,s),l(s,[r])}for(var Kd=0;Kd<Om.length;Kd++){var Gd=Om[Kd],QE=Gd.toLowerCase(),YE=Gd[0].toUpperCase()+Gd.slice(1);hi(QE,"on"+YE)}hi(bm,"onAnimationEnd"),hi(xm,"onAnimationIteration"),hi(Nm,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Dm,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XE=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function Vm(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,eu(c,s,void 0,r),r.currentTarget=null}function Mm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var S=c[w],k=S.instance,B=S.currentTarget;if(S=S.listener,k!==g&&h.isPropagationStopped())break e;Vm(h,S,B),g=k}else for(w=0;w<c.length;w++){if(S=c[w],k=S.instance,B=S.currentTarget,S=S.listener,k!==g&&h.isPropagationStopped())break e;Vm(h,S,B),g=k}}}if(Un)throw r=Aa,Un=!1,Aa=null,r}function Xe(r,s){var a=s[nh];a===void 0&&(a=s[nh]=new Set);var c=r+"__bubble";a.has(c)||(Fm(s,r,2,!1),a.add(c))}function Qd(r,s,a){var c=0;s&&(c|=4),Fm(a,r,c,s)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function $a(r){if(!r[Cu]){r[Cu]=!0,i.forEach(function(a){a!=="selectionchange"&&(XE.has(a)||Qd(a,!1,r),Qd(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Cu]||(s[Cu]=!0,Qd("selectionchange",!1,s))}}function Fm(r,s,a,c){switch(Da(s)){case 1:var h=Ze;break;case 4:h=Ud;break;default:h=Na}a=h.bind(null,s,a,r),h=void 0,!Ks||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function Yd(r,s,a,c,h){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var S=c.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&(k=w.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;w=w.return}for(;S!==null;){if(w=as(S),w===null)return;if(k=w.tag,k===5||k===6){c=g=w;continue e}S=S.parentNode}}c=c.return}Ca(function(){var B=g,J=Hs(a),Z=[];e:{var Y=Lm.get(r);if(Y!==void 0){var se=io,ue=r;switch(r){case"keypress":if(ro(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ue="focus",se=lo;break;case"focusout":ue="blur",se=lo;break;case"beforeblur":case"afterblur":se=lo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=z;break;case bm:case xm:case Nm:se=Nr;break;case Dm:se=He;break;case"scroll":se=jd;break;case"wheel":se=Oe;break;case"copy":case"cut":case"paste":se=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var ce=(s&4)!==0,ut=!ce&&r==="scroll",M=ce?Y!==null?Y+"Capture":null:Y;ce=[];for(var x=B,U;x!==null;){U=x;var te=U.stateNode;if(U.tag===5&&te!==null&&(U=te,M!==null&&(te=lt(x,M),te!=null&&ce.push(Ha(x,te,U)))),ut)break;x=x.return}0<ce.length&&(Y=new se(Y,ue,null,a,J),Z.push({event:Y,listeners:ce}))}}if(!(s&7)){e:{if(Y=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",Y&&a!==Gi&&(ue=a.relatedTarget||a.fromElement)&&(as(ue)||ue[Dr]))break e;if((se||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=B,ue=ue?as(ue):null,ue!==null&&(ut=jn(ue),ue!==ut||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=B),se!==ue)){if(ce=oo,te="onMouseLeave",M="onMouseEnter",x="mouse",(r==="pointerout"||r==="pointerover")&&(ce=E,te="onPointerLeave",M="onPointerEnter",x="pointer"),ut=se==null?Y:yo(se),U=ue==null?Y:yo(ue),Y=new ce(te,x+"leave",se,a,J),Y.target=ut,Y.relatedTarget=U,te=null,as(J)===B&&(ce=new ce(M,x+"enter",ue,a,J),ce.target=U,ce.relatedTarget=ut,te=ce),ut=te,se&&ue)t:{for(ce=se,M=ue,x=0,U=ce;U;U=mo(U))x++;for(U=0,te=M;te;te=mo(te))U++;for(;0<x-U;)ce=mo(ce),x--;for(;0<U-x;)M=mo(M),U--;for(;x--;){if(ce===M||M!==null&&ce===M.alternate)break t;ce=mo(ce),M=mo(M)}ce=null}else ce=null;se!==null&&Um(Z,Y,se,ce,!1),ue!==null&&ut!==null&&Um(Z,ut,ue,ce,!0)}}e:{if(Y=B?yo(B):window,se=Y.nodeName&&Y.nodeName.toLowerCase(),se==="select"||se==="input"&&Y.type==="file")var de=BE;else if(vm(Y))if(_m)de=qE;else{de=$E;var me=zE}else(se=Y.nodeName)&&se.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(de=HE);if(de&&(de=de(r,B))){wm(Z,de,a,J);break e}me&&me(r,Y,B),r==="focusout"&&(me=Y._wrapperState)&&me.controlled&&Y.type==="number"&&Bs(Y,"number",Y.value)}switch(me=B?yo(B):window,r){case"focusin":(vm(me)||me.contentEditable==="true")&&(fo=me,Hd=B,Ba=null);break;case"focusout":Ba=Hd=fo=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,km(Z,a,J);break;case"selectionchange":if(GE)break;case"keydown":case"keyup":km(Z,a,J)}var ge;if(ft)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ho?gm(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(os&&a.locale!=="ko"&&(ho||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ho&&(ge=La()):(mn=J,no="value"in mn?mn.value:mn.textContent,ho=!0)),me=Au(B,Ee),0<me.length&&(Ee=new Ma(Ee,r,null,a,J),Z.push({event:Ee,listeners:me}),ge?Ee.data=ge:(ge=ym(a),ge!==null&&(Ee.data=ge)))),(ge=gn?ME(r,a):FE(r,a))&&(B=Au(B,"onBeforeInput"),0<B.length&&(J=new Ma("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:B}),J.data=ge))}Mm(Z,s)})}function Ha(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Au(r,s){for(var a=s+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=lt(r,a),g!=null&&c.unshift(Ha(r,g,h)),g=lt(r,s),g!=null&&c.push(Ha(r,g,h))),r=r.return}return c}function mo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Um(r,s,a,c,h){for(var g=s._reactName,w=[];a!==null&&a!==c;){var S=a,k=S.alternate,B=S.stateNode;if(k!==null&&k===c)break;S.tag===5&&B!==null&&(S=B,h?(k=lt(a,g),k!=null&&w.unshift(Ha(a,k,S))):h||(k=lt(a,g),k!=null&&w.push(Ha(a,k,S)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var JE=/\r\n?/g,ZE=/\u0000|\uFFFD/g;function jm(r){return(typeof r=="string"?r:""+r).replace(JE,`
`).replace(ZE,"")}function Pu(r,s,a){if(s=jm(s),jm(r)!==s&&a)throw Error(t(425))}function ku(){}var Xd=null,Jd=null;function Zd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var eh=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(r){return Bm.resolve(null).then(r).catch(nT)}:eh;function nT(r){setTimeout(function(){throw r})}function th(r,s){var a=s,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){r.removeChild(h),qn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);qn(s)}function fi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function zm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var go=Math.random().toString(36).slice(2),ur="__reactFiber$"+go,qa="__reactProps$"+go,Dr="__reactContainer$"+go,nh="__reactEvents$"+go,rT="__reactListeners$"+go,iT="__reactHandles$"+go;function as(r){var s=r[ur];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Dr]||a[ur]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=zm(r);r!==null;){if(a=r[ur])return a;r=zm(r)}return s}r=a,a=r.parentNode}return null}function Wa(r){return r=r[ur]||r[Dr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function yo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ru(r){return r[qa]||null}var rh=[],vo=-1;function pi(r){return{current:r}}function Je(r){0>vo||(r.current=rh[vo],rh[vo]=null,vo--)}function Qe(r,s){vo++,rh[vo]=r.current,r.current=s}var mi={},jt=pi(mi),tn=pi(!1),ls=mi;function wo(r,s){var a=r.type.contextTypes;if(!a)return mi;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in a)h[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function nn(r){return r=r.childContextTypes,r!=null}function bu(){Je(tn),Je(jt)}function $m(r,s,a){if(jt.current!==mi)throw Error(t(168));Qe(jt,s),Qe(tn,a)}function Hm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(t(108,Be(r)||"Unknown",h));return oe({},a,c)}function xu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||mi,ls=jt.current,Qe(jt,r),Qe(tn,tn.current),!0}function qm(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Hm(r,s,ls),c.__reactInternalMemoizedMergedChildContext=r,Je(tn),Je(jt),Qe(jt,r)):Je(tn),Qe(tn,a)}var Lr=null,Nu=!1,ih=!1;function Wm(r){Lr===null?Lr=[r]:Lr.push(r)}function sT(r){Nu=!0,Wm(r)}function gi(){if(!ih&&Lr!==null){ih=!0;var r=0,s=Ne;try{var a=Lr;for(Ne=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Lr=null,Nu=!1}catch(h){throw Lr!==null&&(Lr=Lr.slice(r+1)),Xs(Zi,gi),h}finally{Ne=s,ih=!1}}return null}var _o=[],Eo=0,Du=null,Lu=0,kn=[],Rn=0,us=null,Or=1,Vr="";function cs(r,s){_o[Eo++]=Lu,_o[Eo++]=Du,Du=r,Lu=s}function Km(r,s,a){kn[Rn++]=Or,kn[Rn++]=Vr,kn[Rn++]=us,us=r;var c=Or;r=Vr;var h=32-Qt(c)-1;c&=~(1<<h),a+=1;var g=32-Qt(s)+h;if(30<g){var w=h-h%5;g=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Or=1<<32-Qt(s)+h|a<<h|c,Vr=g+r}else Or=1<<g|a<<h|c,Vr=r}function sh(r){r.return!==null&&(cs(r,1),Km(r,1,0))}function oh(r){for(;r===Du;)Du=_o[--Eo],_o[Eo]=null,Lu=_o[--Eo],_o[Eo]=null;for(;r===us;)us=kn[--Rn],kn[Rn]=null,Vr=kn[--Rn],kn[Rn]=null,Or=kn[--Rn],kn[Rn]=null}var yn=null,vn=null,et=!1,Gn=null;function Gm(r,s){var a=Dn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Qm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,yn=r,vn=fi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,yn=r,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=us!==null?{id:Or,overflow:Vr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Dn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,yn=r,vn=null,!0):!1;default:return!1}}function ah(r){return(r.mode&1)!==0&&(r.flags&128)===0}function lh(r){if(et){var s=vn;if(s){var a=s;if(!Qm(r,s)){if(ah(r))throw Error(t(418));s=fi(a.nextSibling);var c=yn;s&&Qm(r,s)?Gm(c,a):(r.flags=r.flags&-4097|2,et=!1,yn=r)}}else{if(ah(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,yn=r}}}function Ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function Ou(r){if(r!==yn)return!1;if(!et)return Ym(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Zd(r.type,r.memoizedProps)),s&&(s=vn)){if(ah(r))throw Xm(),Error(t(418));for(;s;)Gm(r,s),s=fi(s.nextSibling)}if(Ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){vn=fi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}vn=null}}else vn=yn?fi(r.stateNode.nextSibling):null;return!0}function Xm(){for(var r=vn;r;)r=fi(r.nextSibling)}function To(){vn=yn=null,et=!1}function uh(r){Gn===null?Gn=[r]:Gn.push(r)}var oT=he.ReactCurrentBatchConfig;function Ka(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var h=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var S=h.refs;w===null?delete S[g]:S[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Vu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Jm(r){var s=r._init;return s(r._payload)}function Zm(r){function s(M,x){if(r){var U=M.deletions;U===null?(M.deletions=[x],M.flags|=16):U.push(x)}}function a(M,x){if(!r)return null;for(;x!==null;)s(M,x),x=x.sibling;return null}function c(M,x){for(M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function h(M,x){return M=Si(M,x),M.index=0,M.sibling=null,M}function g(M,x,U){return M.index=U,r?(U=M.alternate,U!==null?(U=U.index,U<x?(M.flags|=2,x):U):(M.flags|=2,x)):(M.flags|=1048576,x)}function w(M){return r&&M.alternate===null&&(M.flags|=2),M}function S(M,x,U,te){return x===null||x.tag!==6?(x=ef(U,M.mode,te),x.return=M,x):(x=h(x,U),x.return=M,x)}function k(M,x,U,te){var de=U.type;return de===b?J(M,x,U.props.children,te,U.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ut&&Jm(de)===x.type)?(te=h(x,U.props),te.ref=Ka(M,x,U),te.return=M,te):(te=oc(U.type,U.key,U.props,null,M.mode,te),te.ref=Ka(M,x,U),te.return=M,te)}function B(M,x,U,te){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=tf(U,M.mode,te),x.return=M,x):(x=h(x,U.children||[]),x.return=M,x)}function J(M,x,U,te,de){return x===null||x.tag!==7?(x=vs(U,M.mode,te,de),x.return=M,x):(x=h(x,U),x.return=M,x)}function Z(M,x,U){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ef(""+x,M.mode,U),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ae:return U=oc(x.type,x.key,x.props,null,M.mode,U),U.ref=Ka(M,null,x),U.return=M,U;case Se:return x=tf(x,M.mode,U),x.return=M,x;case Ut:var te=x._init;return Z(M,te(x._payload),U)}if(Sr(x)||pe(x))return x=vs(x,M.mode,U,null),x.return=M,x;Vu(M,x)}return null}function Y(M,x,U,te){var de=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return de!==null?null:S(M,x,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ae:return U.key===de?k(M,x,U,te):null;case Se:return U.key===de?B(M,x,U,te):null;case Ut:return de=U._init,Y(M,x,de(U._payload),te)}if(Sr(U)||pe(U))return de!==null?null:J(M,x,U,te,null);Vu(M,U)}return null}function se(M,x,U,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return M=M.get(U)||null,S(x,M,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Ae:return M=M.get(te.key===null?U:te.key)||null,k(x,M,te,de);case Se:return M=M.get(te.key===null?U:te.key)||null,B(x,M,te,de);case Ut:var me=te._init;return se(M,x,U,me(te._payload),de)}if(Sr(te)||pe(te))return M=M.get(U)||null,J(x,M,te,de,null);Vu(x,te)}return null}function ue(M,x,U,te){for(var de=null,me=null,ge=x,Ee=x=0,kt=null;ge!==null&&Ee<U.length;Ee++){ge.index>Ee?(kt=ge,ge=null):kt=ge.sibling;var Ue=Y(M,ge,U[Ee],te);if(Ue===null){ge===null&&(ge=kt);break}r&&ge&&Ue.alternate===null&&s(M,ge),x=g(Ue,x,Ee),me===null?de=Ue:me.sibling=Ue,me=Ue,ge=kt}if(Ee===U.length)return a(M,ge),et&&cs(M,Ee),de;if(ge===null){for(;Ee<U.length;Ee++)ge=Z(M,U[Ee],te),ge!==null&&(x=g(ge,x,Ee),me===null?de=ge:me.sibling=ge,me=ge);return et&&cs(M,Ee),de}for(ge=c(M,ge);Ee<U.length;Ee++)kt=se(ge,M,Ee,U[Ee],te),kt!==null&&(r&&kt.alternate!==null&&ge.delete(kt.key===null?Ee:kt.key),x=g(kt,x,Ee),me===null?de=kt:me.sibling=kt,me=kt);return r&&ge.forEach(function(Ci){return s(M,Ci)}),et&&cs(M,Ee),de}function ce(M,x,U,te){var de=pe(U);if(typeof de!="function")throw Error(t(150));if(U=de.call(U),U==null)throw Error(t(151));for(var me=de=null,ge=x,Ee=x=0,kt=null,Ue=U.next();ge!==null&&!Ue.done;Ee++,Ue=U.next()){ge.index>Ee?(kt=ge,ge=null):kt=ge.sibling;var Ci=Y(M,ge,Ue.value,te);if(Ci===null){ge===null&&(ge=kt);break}r&&ge&&Ci.alternate===null&&s(M,ge),x=g(Ci,x,Ee),me===null?de=Ci:me.sibling=Ci,me=Ci,ge=kt}if(Ue.done)return a(M,ge),et&&cs(M,Ee),de;if(ge===null){for(;!Ue.done;Ee++,Ue=U.next())Ue=Z(M,Ue.value,te),Ue!==null&&(x=g(Ue,x,Ee),me===null?de=Ue:me.sibling=Ue,me=Ue);return et&&cs(M,Ee),de}for(ge=c(M,ge);!Ue.done;Ee++,Ue=U.next())Ue=se(ge,M,Ee,Ue.value,te),Ue!==null&&(r&&Ue.alternate!==null&&ge.delete(Ue.key===null?Ee:Ue.key),x=g(Ue,x,Ee),me===null?de=Ue:me.sibling=Ue,me=Ue);return r&&ge.forEach(function(UT){return s(M,UT)}),et&&cs(M,Ee),de}function ut(M,x,U,te){if(typeof U=="object"&&U!==null&&U.type===b&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ae:e:{for(var de=U.key,me=x;me!==null;){if(me.key===de){if(de=U.type,de===b){if(me.tag===7){a(M,me.sibling),x=h(me,U.props.children),x.return=M,M=x;break e}}else if(me.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ut&&Jm(de)===me.type){a(M,me.sibling),x=h(me,U.props),x.ref=Ka(M,me,U),x.return=M,M=x;break e}a(M,me);break}else s(M,me);me=me.sibling}U.type===b?(x=vs(U.props.children,M.mode,te,U.key),x.return=M,M=x):(te=oc(U.type,U.key,U.props,null,M.mode,te),te.ref=Ka(M,x,U),te.return=M,M=te)}return w(M);case Se:e:{for(me=U.key;x!==null;){if(x.key===me)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(M,x.sibling),x=h(x,U.children||[]),x.return=M,M=x;break e}else{a(M,x);break}else s(M,x);x=x.sibling}x=tf(U,M.mode,te),x.return=M,M=x}return w(M);case Ut:return me=U._init,ut(M,x,me(U._payload),te)}if(Sr(U))return ue(M,x,U,te);if(pe(U))return ce(M,x,U,te);Vu(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,x!==null&&x.tag===6?(a(M,x.sibling),x=h(x,U),x.return=M,M=x):(a(M,x),x=ef(U,M.mode,te),x.return=M,M=x),w(M)):a(M,x)}return ut}var Io=Zm(!0),eg=Zm(!1),Mu=pi(null),Fu=null,So=null,ch=null;function dh(){ch=So=Fu=null}function hh(r){var s=Mu.current;Je(Mu),r._currentValue=s}function fh(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Co(r,s){Fu=r,ch=So=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(rn=!0),r.firstContext=null)}function bn(r){var s=r._currentValue;if(ch!==r)if(r={context:r,memoizedValue:s,next:null},So===null){if(Fu===null)throw Error(t(308));So=r,Fu.dependencies={lanes:0,firstContext:r}}else So=So.next=r;return s}var ds=null;function ph(r){ds===null?ds=[r]:ds.push(r)}function tg(r,s,a,c){var h=s.interleaved;return h===null?(a.next=a,ph(s)):(a.next=h.next,h.next=a),s.interleaved=a,Mr(r,c)}function Mr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var yi=!1;function mh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ng(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function vi(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Fe&2){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,Mr(r,a)}return h=c.interleaved,h===null?(s.next=s,ph(c)):(s.next=h.next,h.next=s),c.interleaved=s,Mr(r,a)}function Uu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ai(r,a)}}function rg(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?h=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?h=g=s:g=g.next=s}else h=g=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function ju(r,s,a,c){var h=r.updateQueue;yi=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var k=S,B=k.next;k.next=null,w===null?g=B:w.next=B,w=k;var J=r.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==w&&(S===null?J.firstBaseUpdate=B:S.next=B,J.lastBaseUpdate=k))}if(g!==null){var Z=h.baseState;w=0,J=B=k=null,S=g;do{var Y=S.lane,se=S.eventTime;if((c&Y)===Y){J!==null&&(J=J.next={eventTime:se,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ue=r,ce=S;switch(Y=s,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Z=ue.call(se,Z,Y);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Y=typeof ue=="function"?ue.call(se,Z,Y):ue,Y==null)break e;Z=oe({},Z,Y);break e;case 2:yi=!0}}S.callback!==null&&S.lane!==0&&(r.flags|=64,Y=h.effects,Y===null?h.effects=[S]:Y.push(S))}else se={eventTime:se,lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(B=J=se,k=Z):J=J.next=se,w|=Y;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);if(J===null&&(k=Z),h.baseState=k,h.firstBaseUpdate=B,h.lastBaseUpdate=J,s=h.shared.interleaved,s!==null){h=s;do w|=h.lane,h=h.next;while(h!==s)}else g===null&&(h.shared.lanes=0);ps|=w,r.lanes=w,r.memoizedState=Z}}function ig(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(t(191,h));h.call(c)}}}var Ga={},cr=pi(Ga),Qa=pi(Ga),Ya=pi(Ga);function hs(r){if(r===Ga)throw Error(t(174));return r}function gh(r,s){switch(Qe(Ya,s),Qe(Qa,r),Qe(cr,Ga),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}Je(cr),Qe(cr,s)}function Ao(){Je(cr),Je(Qa),Je(Ya)}function sg(r){hs(Ya.current);var s=hs(cr.current),a=yt(s,r.type);s!==a&&(Qe(Qa,r),Qe(cr,a))}function yh(r){Qa.current===r&&(Je(cr),Je(Qa))}var nt=pi(0);function Bu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vh=[];function wh(){for(var r=0;r<vh.length;r++)vh[r]._workInProgressVersionPrimary=null;vh.length=0}var zu=he.ReactCurrentDispatcher,_h=he.ReactCurrentBatchConfig,fs=0,rt=null,wt=null,At=null,$u=!1,Xa=!1,Ja=0,aT=0;function Bt(){throw Error(t(321))}function Eh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Kn(r[a],s[a]))return!1;return!0}function Th(r,s,a,c,h,g){if(fs=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,zu.current=r===null||r.memoizedState===null?dT:hT,r=a(c,h),Xa){g=0;do{if(Xa=!1,Ja=0,25<=g)throw Error(t(301));g+=1,At=wt=null,s.updateQueue=null,zu.current=fT,r=a(c,h)}while(Xa)}if(zu.current=Wu,s=wt!==null&&wt.next!==null,fs=0,At=wt=rt=null,$u=!1,s)throw Error(t(300));return r}function Ih(){var r=Ja!==0;return Ja=0,r}function dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=r:At=At.next=r,At}function xn(){if(wt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=At===null?rt.memoizedState:At.next;if(s!==null)At=s,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?rt.memoizedState=At=r:At=At.next=r}return At}function Za(r,s){return typeof s=="function"?s(r):s}function Sh(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=wt,h=c.baseQueue,g=a.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}c.baseQueue=h=g,a.pending=null}if(h!==null){g=h.next,c=c.baseState;var S=w=null,k=null,B=g;do{var J=B.lane;if((fs&J)===J)k!==null&&(k=k.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:r(c,B.action);else{var Z={lane:J,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};k===null?(S=k=Z,w=c):k=k.next=Z,rt.lanes|=J,ps|=J}B=B.next}while(B!==null&&B!==g);k===null?w=c:k.next=S,Kn(c,s.memoizedState)||(rn=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=k,a.lastRenderedState=c}if(r=a.interleaved,r!==null){h=r;do g=h.lane,rt.lanes|=g,ps|=g,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Ch(r){var s=xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,g=s.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do g=r(g,w.action),w=w.next;while(w!==h);Kn(g,s.memoizedState)||(rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function og(){}function ag(r,s){var a=rt,c=xn(),h=s(),g=!Kn(c.memoizedState,h);if(g&&(c.memoizedState=h,rn=!0),c=c.queue,Ah(cg.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,el(9,ug.bind(null,a,c,h,s),void 0,null),Pt===null)throw Error(t(349));fs&30||lg(a,s,h)}return h}function lg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function ug(r,s,a,c){s.value=a,s.getSnapshot=c,dg(s)&&hg(r)}function cg(r,s,a){return a(function(){dg(s)&&hg(r)})}function dg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Kn(r,a)}catch{return!0}}function hg(r){var s=Mr(r,1);s!==null&&Jn(s,r,1,-1)}function fg(r){var s=dr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:r},s.queue=r,r=r.dispatch=cT.bind(null,rt,r),[s.memoizedState,r]}function el(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function pg(){return xn().memoizedState}function Hu(r,s,a,c){var h=dr();rt.flags|=r,h.memoizedState=el(1|s,a,void 0,c===void 0?null:c)}function qu(r,s,a,c){var h=xn();c=c===void 0?null:c;var g=void 0;if(wt!==null){var w=wt.memoizedState;if(g=w.destroy,c!==null&&Eh(c,w.deps)){h.memoizedState=el(s,a,g,c);return}}rt.flags|=r,h.memoizedState=el(1|s,a,g,c)}function mg(r,s){return Hu(8390656,8,r,s)}function Ah(r,s){return qu(2048,8,r,s)}function gg(r,s){return qu(4,2,r,s)}function yg(r,s){return qu(4,4,r,s)}function vg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function wg(r,s,a){return a=a!=null?a.concat([r]):null,qu(4,4,vg.bind(null,s,r),a)}function Ph(){}function _g(r,s){var a=xn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Eh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function Eg(r,s){var a=xn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Eh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function Tg(r,s,a){return fs&21?(Kn(a,s)||(a=ns(),rt.lanes|=a,ps|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a)}function lT(r,s){var a=Ne;Ne=a!==0&&4>a?a:4,r(!0);var c=_h.transition;_h.transition={};try{r(!1),s()}finally{Ne=a,_h.transition=c}}function Ig(){return xn().memoizedState}function uT(r,s,a){var c=Ti(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Sg(r))Cg(s,a);else if(a=tg(r,s,a,c),a!==null){var h=Jt();Jn(a,r,c,h),Ag(a,s,c)}}function cT(r,s,a){var c=Ti(r),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sg(r))Cg(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,S=g(w,a);if(h.hasEagerState=!0,h.eagerState=S,Kn(S,w)){var k=s.interleaved;k===null?(h.next=h,ph(s)):(h.next=k.next,k.next=h),s.interleaved=h;return}}catch{}finally{}a=tg(r,s,h,c),a!==null&&(h=Jt(),Jn(a,r,c,h),Ag(a,s,c))}}function Sg(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function Cg(r,s){Xa=$u=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Ag(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ai(r,a)}}var Wu={readContext:bn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},dT={readContext:bn,useCallback:function(r,s){return dr().memoizedState=[r,s===void 0?null:s],r},useContext:bn,useEffect:mg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Hu(4194308,4,vg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Hu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Hu(4,2,r,s)},useMemo:function(r,s){var a=dr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=dr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=uT.bind(null,rt,r),[c.memoizedState,r]},useRef:function(r){var s=dr();return r={current:r},s.memoizedState=r},useState:fg,useDebugValue:Ph,useDeferredValue:function(r){return dr().memoizedState=r},useTransition:function(){var r=fg(!1),s=r[0];return r=lT.bind(null,r[1]),dr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=rt,h=dr();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Pt===null)throw Error(t(349));fs&30||lg(c,s,a)}h.memoizedState=a;var g={value:a,getSnapshot:s};return h.queue=g,mg(cg.bind(null,c,g,r),[r]),c.flags|=2048,el(9,ug.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=dr(),s=Pt.identifierPrefix;if(et){var a=Vr,c=Or;a=(c&~(1<<32-Qt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ja++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=aT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},hT={readContext:bn,useCallback:_g,useContext:bn,useEffect:Ah,useImperativeHandle:wg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:Sh,useRef:pg,useState:function(){return Sh(Za)},useDebugValue:Ph,useDeferredValue:function(r){var s=xn();return Tg(s,wt.memoizedState,r)},useTransition:function(){var r=Sh(Za)[0],s=xn().memoizedState;return[r,s]},useMutableSource:og,useSyncExternalStore:ag,useId:Ig,unstable_isNewReconciler:!1},fT={readContext:bn,useCallback:_g,useContext:bn,useEffect:Ah,useImperativeHandle:wg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:Ch,useRef:pg,useState:function(){return Ch(Za)},useDebugValue:Ph,useDeferredValue:function(r){var s=xn();return wt===null?s.memoizedState=r:Tg(s,wt.memoizedState,r)},useTransition:function(){var r=Ch(Za)[0],s=xn().memoizedState;return[r,s]},useMutableSource:og,useSyncExternalStore:ag,useId:Ig,unstable_isNewReconciler:!1};function Qn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function kh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:oe({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ku={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=Jt(),h=Ti(r),g=Fr(c,h);g.payload=s,a!=null&&(g.callback=a),s=vi(r,g,h),s!==null&&(Jn(s,r,h,c),Uu(s,r,h))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=Jt(),h=Ti(r),g=Fr(c,h);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=vi(r,g,h),s!==null&&(Jn(s,r,h,c),Uu(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Jt(),c=Ti(r),h=Fr(a,c);h.tag=2,s!=null&&(h.callback=s),s=vi(r,h,c),s!==null&&(Jn(s,r,c,a),Uu(s,r,c))}};function Pg(r,s,a,c,h,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!ja(a,c)||!ja(h,g):!0}function kg(r,s,a){var c=!1,h=mi,g=s.contextType;return typeof g=="object"&&g!==null?g=bn(g):(h=nn(s)?ls:jt.current,c=s.contextTypes,g=(c=c!=null)?wo(r,h):mi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ku,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=g),s}function Rg(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Ku.enqueueReplaceState(s,s.state,null)}function Rh(r,s,a,c){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},mh(r);var g=s.contextType;typeof g=="object"&&g!==null?h.context=bn(g):(g=nn(s)?ls:jt.current,h.context=wo(r,g)),h.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(kh(r,s,g,a),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ku.enqueueReplaceState(h,h.state,null),ju(r,a,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function Po(r,s){try{var a="",c=s;do a+=ke(c),c=c.return;while(c);var h=a}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:h,digest:null}}function bh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function xh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var pT=typeof WeakMap=="function"?WeakMap:Map;function bg(r,s,a){a=Fr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){ec||(ec=!0,Wh=c),xh(r,s)},a}function xg(r,s,a){a=Fr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){xh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){xh(r,s),typeof c!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Ng(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new pT;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),r=kT.bind(null,r,s,a),s.then(r,r))}function Dg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Lg(r,s,a,c,h){return r.mode&1?(r.flags|=65536,r.lanes=h,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Fr(-1,1),s.tag=2,vi(a,s,1))),a.lanes|=1),r)}var mT=he.ReactCurrentOwner,rn=!1;function Xt(r,s,a,c){s.child=r===null?eg(s,null,a,c):Io(s,r.child,a,c)}function Og(r,s,a,c,h){a=a.render;var g=s.ref;return Co(s,h),c=Th(r,s,a,c,g,h),a=Ih(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Ur(r,s,h)):(et&&a&&sh(s),s.flags|=1,Xt(r,s,c,h),s.child)}function Vg(r,s,a,c,h){if(r===null){var g=a.type;return typeof g=="function"&&!Zh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Mg(r,s,g,c,h)):(r=oc(a.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&h)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:ja,a(w,c)&&r.ref===s.ref)return Ur(r,s,h)}return s.flags|=1,r=Si(g,c),r.ref=s.ref,r.return=s,s.child=r}function Mg(r,s,a,c,h){if(r!==null){var g=r.memoizedProps;if(ja(g,c)&&r.ref===s.ref)if(rn=!1,s.pendingProps=c=g,(r.lanes&h)!==0)r.flags&131072&&(rn=!0);else return s.lanes=r.lanes,Ur(r,s,h)}return Nh(r,s,a,c,h)}function Fg(r,s,a){var c=s.pendingProps,h=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ro,wn),wn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Qe(Ro,wn),wn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Qe(Ro,wn),wn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Qe(Ro,wn),wn|=c;return Xt(r,s,h,a),s.child}function Ug(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Nh(r,s,a,c,h){var g=nn(a)?ls:jt.current;return g=wo(s,g),Co(s,h),a=Th(r,s,a,c,g,h),c=Ih(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Ur(r,s,h)):(et&&c&&sh(s),s.flags|=1,Xt(r,s,a,h),s.child)}function jg(r,s,a,c,h){if(nn(a)){var g=!0;xu(s)}else g=!1;if(Co(s,h),s.stateNode===null)Qu(r,s),kg(s,a,c),Rh(s,a,c,h),c=!0;else if(r===null){var w=s.stateNode,S=s.memoizedProps;w.props=S;var k=w.context,B=a.contextType;typeof B=="object"&&B!==null?B=bn(B):(B=nn(a)?ls:jt.current,B=wo(s,B));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==c||k!==B)&&Rg(s,w,c,B),yi=!1;var Y=s.memoizedState;w.state=Y,ju(s,c,w,h),k=s.memoizedState,S!==c||Y!==k||tn.current||yi?(typeof J=="function"&&(kh(s,a,J,c),k=s.memoizedState),(S=yi||Pg(s,a,S,c,Y,k,B))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=k),w.props=c,w.state=k,w.context=B,c=S):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,ng(r,s),S=s.memoizedProps,B=s.type===s.elementType?S:Qn(s.type,S),w.props=B,Z=s.pendingProps,Y=w.context,k=a.contextType,typeof k=="object"&&k!==null?k=bn(k):(k=nn(a)?ls:jt.current,k=wo(s,k));var se=a.getDerivedStateFromProps;(J=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==Z||Y!==k)&&Rg(s,w,c,k),yi=!1,Y=s.memoizedState,w.state=Y,ju(s,c,w,h);var ue=s.memoizedState;S!==Z||Y!==ue||tn.current||yi?(typeof se=="function"&&(kh(s,a,se,c),ue=s.memoizedState),(B=yi||Pg(s,a,B,c,Y,ue,k)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ue,k),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ue,k)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ue),w.props=c,w.state=ue,w.context=k,c=B):(typeof w.componentDidUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),c=!1)}return Dh(r,s,a,c,g,h)}function Dh(r,s,a,c,h,g){Ug(r,s);var w=(s.flags&128)!==0;if(!c&&!w)return h&&qm(s,a,!1),Ur(r,s,g);c=s.stateNode,mT.current=s;var S=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&w?(s.child=Io(s,r.child,null,g),s.child=Io(s,null,S,g)):Xt(r,s,S,g),s.memoizedState=c.state,h&&qm(s,a,!0),s.child}function Bg(r){var s=r.stateNode;s.pendingContext?$m(r,s.pendingContext,s.pendingContext!==s.context):s.context&&$m(r,s.context,!1),gh(r,s.containerInfo)}function zg(r,s,a,c,h){return To(),uh(h),s.flags|=256,Xt(r,s,a,c),s.child}var Lh={dehydrated:null,treeContext:null,retryLane:0};function Oh(r){return{baseLanes:r,cachePool:null,transitions:null}}function $g(r,s,a){var c=s.pendingProps,h=nt.current,g=!1,w=(s.flags&128)!==0,S;if((S=w)||(S=r!==null&&r.memoizedState===null?!1:(h&2)!==0),S?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Qe(nt,h&1),r===null)return lh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=c.children,r=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=ac(w,c,0,null),r=vs(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Oh(a),s.memoizedState=Lh,r):Vh(s,w));if(h=r.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return gT(r,s,w,c,S,h,a);if(g){g=c.fallback,w=s.mode,h=r.child,S=h.sibling;var k={mode:"hidden",children:c.children};return!(w&1)&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=k,s.deletions=null):(c=Si(h,k),c.subtreeFlags=h.subtreeFlags&14680064),S!==null?g=Si(S,g):(g=vs(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=r.child.memoizedState,w=w===null?Oh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Lh,c}return g=r.child,r=g.sibling,c=Si(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function Vh(r,s){return s=ac({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Gu(r,s,a,c){return c!==null&&uh(c),Io(s,r.child,null,a),r=Vh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function gT(r,s,a,c,h,g,w){if(a)return s.flags&256?(s.flags&=-257,c=bh(Error(t(422))),Gu(r,s,w,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,h=s.mode,c=ac({mode:"visible",children:c.children},h,0,null),g=vs(g,h,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&Io(s,r.child,null,w),s.child.memoizedState=Oh(w),s.memoizedState=Lh,g);if(!(s.mode&1))return Gu(r,s,w,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var S=c.dgst;return c=S,g=Error(t(419)),c=bh(g,c,void 0),Gu(r,s,w,c)}if(S=(w&r.childLanes)!==0,rn||S){if(c=Pt,c!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|w)?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,Mr(r,h),Jn(c,r,h,-1))}return Jh(),c=bh(Error(t(421))),Gu(r,s,w,c)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=RT.bind(null,r),h._reactRetry=s,null):(r=g.treeContext,vn=fi(h.nextSibling),yn=s,et=!0,Gn=null,r!==null&&(kn[Rn++]=Or,kn[Rn++]=Vr,kn[Rn++]=us,Or=r.id,Vr=r.overflow,us=s),s=Vh(s,c.children),s.flags|=4096,s)}function Hg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),fh(r.return,s,a)}function Mh(r,s,a,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=h)}function qg(r,s,a){var c=s.pendingProps,h=c.revealOrder,g=c.tail;if(Xt(r,s,c.children,a),c=nt.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Hg(r,a,s);else if(r.tag===19)Hg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Qe(nt,c),!(s.mode&1))s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&Bu(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Mh(s,!1,h,a,g);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Bu(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}Mh(s,!0,a,null,g);break;case"together":Mh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Qu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ur(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ps|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Si(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Si(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function yT(r,s,a){switch(s.tag){case 3:Bg(s),To();break;case 5:sg(s);break;case 1:nn(s.type)&&xu(s);break;case 4:gh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;Qe(Mu,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Qe(nt,nt.current&1),s.flags|=128,null):a&s.child.childLanes?$g(r,s,a):(Qe(nt,nt.current&1),r=Ur(r,s,a),r!==null?r.sibling:null);Qe(nt,nt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return qg(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(nt,nt.current),c)break;return null;case 22:case 23:return s.lanes=0,Fg(r,s,a)}return Ur(r,s,a)}var Wg,Fh,Kg,Gg;Wg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Fh=function(){},Kg=function(r,s,a,c){var h=r.memoizedProps;if(h!==c){r=s.stateNode,hs(cr.current);var g=null;switch(a){case"input":h=qi(r,h),c=qi(r,c),g=[];break;case"select":h=oe({},h,{value:void 0}),c=oe({},c,{value:void 0}),g=[];break;case"textarea":h=ma(r,h),c=ma(r,c),g=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=ku)}Ea(a,c);var w;a=null;for(B in h)if(!c.hasOwnProperty(B)&&h.hasOwnProperty(B)&&h[B]!=null)if(B==="style"){var S=h[B];for(w in S)S.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in c){var k=c[B];if(S=h!=null?h[B]:void 0,c.hasOwnProperty(B)&&k!==S&&(k!=null||S!=null))if(B==="style")if(S){for(w in S)!S.hasOwnProperty(w)||k&&k.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in k)k.hasOwnProperty(w)&&S[w]!==k[w]&&(a||(a={}),a[w]=k[w])}else a||(g||(g=[]),g.push(B,a)),a=k;else B==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,S=S?S.__html:void 0,k!=null&&S!==k&&(g=g||[]).push(B,k)):B==="children"?typeof k!="string"&&typeof k!="number"||(g=g||[]).push(B,""+k):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(k!=null&&B==="onScroll"&&Xe("scroll",r),g||S===k||(g=[])):(g=g||[]).push(B,k))}a&&(g=g||[]).push("style",a);var B=g;(s.updateQueue=B)&&(s.flags|=4)}},Gg=function(r,s,a,c){a!==c&&(s.flags|=4)};function tl(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function zt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function vT(r,s,a){var c=s.pendingProps;switch(oh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return nn(s.type)&&bu(),zt(s),null;case 3:return c=s.stateNode,Ao(),Je(tn),Je(jt),wh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ou(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Gn!==null&&(Qh(Gn),Gn=null))),Fh(r,s),zt(s),null;case 5:yh(s);var h=hs(Ya.current);if(a=s.type,r!==null&&s.stateNode!=null)Kg(r,s,a,c,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return zt(s),null}if(r=hs(cr.current),Ou(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[ur]=s,c[qa]=g,r=(s.mode&1)!==0,a){case"dialog":Xe("cancel",c),Xe("close",c);break;case"iframe":case"object":case"embed":Xe("load",c);break;case"video":case"audio":for(h=0;h<za.length;h++)Xe(za[h],c);break;case"source":Xe("error",c);break;case"img":case"image":case"link":Xe("error",c),Xe("load",c);break;case"details":Xe("toggle",c);break;case"input":js(c,g),Xe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Xe("invalid",c);break;case"textarea":zs(c,g),Xe("invalid",c)}Ea(a,g),h=null;for(var w in g)if(g.hasOwnProperty(w)){var S=g[w];w==="children"?typeof S=="string"?c.textContent!==S&&(g.suppressHydrationWarning!==!0&&Pu(c.textContent,S,r),h=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&Pu(c.textContent,S,r),h=["children",""+S]):o.hasOwnProperty(w)&&S!=null&&w==="onScroll"&&Xe("scroll",c)}switch(a){case"input":Ir(c),Zl(c,g,!0);break;case"textarea":Ir(c),ga(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=ku)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(a,{is:c.is}):(r=w.createElement(a),a==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,a),r[ur]=s,r[qa]=c,Wg(r,s,!1,!1),s.stateNode=r;e:{switch(w=Ta(a,c),a){case"dialog":Xe("cancel",r),Xe("close",r),h=c;break;case"iframe":case"object":case"embed":Xe("load",r),h=c;break;case"video":case"audio":for(h=0;h<za.length;h++)Xe(za[h],r);h=c;break;case"source":Xe("error",r),h=c;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),h=c;break;case"details":Xe("toggle",r),h=c;break;case"input":js(r,c),h=qi(r,c),Xe("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=oe({},c,{value:void 0}),Xe("invalid",r);break;case"textarea":zs(r,c),h=ma(r,c),Xe("invalid",r);break;default:h=c}Ea(a,h),S=h;for(g in S)if(S.hasOwnProperty(g)){var k=S[g];g==="style"?wa(r,k):g==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&ya(r,k)):g==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&ni(r,k):typeof k=="number"&&ni(r,""+k):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?k!=null&&g==="onScroll"&&Xe("scroll",r):k!=null&&ie(r,g,k,w))}switch(a){case"input":Ir(r),Zl(r,c,!1);break;case"textarea":Ir(r),ga(r);break;case"option":c.value!=null&&r.setAttribute("value",""+ze(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?Cr(r,!!c.multiple,g,!1):c.defaultValue!=null&&Cr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=ku)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zt(s),null;case 6:if(r&&s.stateNode!=null)Gg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=hs(Ya.current),hs(cr.current),Ou(s)){if(c=s.stateNode,a=s.memoizedProps,c[ur]=s,(g=c.nodeValue!==a)&&(r=yn,r!==null))switch(r.tag){case 3:Pu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Pu(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[ur]=s,s.stateNode=c}return zt(s),null;case 13:if(Je(nt),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&vn!==null&&s.mode&1&&!(s.flags&128))Xm(),To(),s.flags|=98560,g=!1;else if(g=Ou(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ur]=s}else To(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;zt(s),g=!1}else Gn!==null&&(Qh(Gn),Gn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||nt.current&1?_t===0&&(_t=3):Jh())),s.updateQueue!==null&&(s.flags|=4),zt(s),null);case 4:return Ao(),Fh(r,s),r===null&&$a(s.stateNode.containerInfo),zt(s),null;case 10:return hh(s.type._context),zt(s),null;case 17:return nn(s.type)&&bu(),zt(s),null;case 19:if(Je(nt),g=s.memoizedState,g===null)return zt(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)tl(g,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Bu(r),w!==null){for(s.flags|=128,tl(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Qe(nt,nt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ge()>bo&&(s.flags|=128,c=!0,tl(g,!1),s.lanes=4194304)}else{if(!c)if(r=Bu(w),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),tl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!et)return zt(s),null}else 2*Ge()-g.renderingStartTime>bo&&a!==1073741824&&(s.flags|=128,c=!0,tl(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ge(),s.sibling=null,a=nt.current,Qe(nt,c?a&1|2:a&1),s):(zt(s),null);case 22:case 23:return Xh(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?wn&1073741824&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function wT(r,s){switch(oh(s),s.tag){case 1:return nn(s.type)&&bu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ao(),Je(tn),Je(jt),wh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return yh(s),null;case 13:if(Je(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));To()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Je(nt),null;case 4:return Ao(),null;case 10:return hh(s.type._context),null;case 22:case 23:return Xh(),null;case 24:return null;default:return null}}var Yu=!1,$t=!1,_T=typeof WeakSet=="function"?WeakSet:Set,le=null;function ko(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(r,s,c)}else a.current=null}function Uh(r,s,a){try{a()}catch(c){st(r,s,c)}}var Qg=!1;function ET(r,s){if(Xd=ci,r=Pm(),$d(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,S=-1,k=-1,B=0,J=0,Z=r,Y=null;t:for(;;){for(var se;Z!==a||h!==0&&Z.nodeType!==3||(S=w+h),Z!==g||c!==0&&Z.nodeType!==3||(k=w+c),Z.nodeType===3&&(w+=Z.nodeValue.length),(se=Z.firstChild)!==null;)Y=Z,Z=se;for(;;){if(Z===r)break t;if(Y===a&&++B===h&&(S=w),Y===g&&++J===c&&(k=w),(se=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=se}a=S===-1||k===-1?null:{start:S,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:r,selectionRange:a},ci=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var ue=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,ut=ue.memoizedState,M=s.stateNode,x=M.getSnapshotBeforeUpdate(s.elementType===s.type?ce:Qn(s.type,ce),ut);M.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){st(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return ue=Qg,Qg=!1,ue}function nl(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var g=h.destroy;h.destroy=void 0,g!==void 0&&Uh(s,a,g)}h=h.next}while(h!==c)}}function Xu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function jh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Yg(r){var s=r.alternate;s!==null&&(r.alternate=null,Yg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ur],delete s[qa],delete s[nh],delete s[rT],delete s[iT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Xg(r){return r.tag===5||r.tag===3||r.tag===4}function Jg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ku));else if(c!==4&&(r=r.child,r!==null))for(Bh(r,s,a),r=r.sibling;r!==null;)Bh(r,s,a),r=r.sibling}function zh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(zh(r,s,a),r=r.sibling;r!==null;)zh(r,s,a),r=r.sibling}var Dt=null,Yn=!1;function wi(r,s,a){for(a=a.child;a!==null;)Zg(r,s,a),a=a.sibling}function Zg(r,s,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(es,a)}catch{}switch(a.tag){case 5:$t||ko(a,s);case 6:var c=Dt,h=Yn;Dt=null,wi(r,s,a),Dt=c,Yn=h,Dt!==null&&(Yn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(Yn?(r=Dt,a=a.stateNode,r.nodeType===8?th(r.parentNode,a):r.nodeType===1&&th(r,a),qn(r)):th(Dt,a.stateNode));break;case 4:c=Dt,h=Yn,Dt=a.stateNode.containerInfo,Yn=!0,wi(r,s,a),Dt=c,Yn=h;break;case 0:case 11:case 14:case 15:if(!$t&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var g=h,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Uh(a,s,w),h=h.next}while(h!==c)}wi(r,s,a);break;case 1:if(!$t&&(ko(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){st(a,s,S)}wi(r,s,a);break;case 21:wi(r,s,a);break;case 22:a.mode&1?($t=(c=$t)||a.memoizedState!==null,wi(r,s,a),$t=c):wi(r,s,a);break;default:wi(r,s,a)}}function ey(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new _T),s.forEach(function(c){var h=bT.bind(null,r,c);a.has(c)||(a.add(c),c.then(h,h))})}}function Xn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var g=r,w=s,S=w;e:for(;S!==null;){switch(S.tag){case 5:Dt=S.stateNode,Yn=!1;break e;case 3:Dt=S.stateNode.containerInfo,Yn=!0;break e;case 4:Dt=S.stateNode.containerInfo,Yn=!0;break e}S=S.return}if(Dt===null)throw Error(t(160));Zg(g,w,h),Dt=null,Yn=!1;var k=h.alternate;k!==null&&(k.return=null),h.return=null}catch(B){st(h,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ty(s,r),s=s.sibling}function ty(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xn(s,r),hr(r),c&4){try{nl(3,r,r.return),Xu(3,r)}catch(ce){st(r,r.return,ce)}try{nl(5,r,r.return)}catch(ce){st(r,r.return,ce)}}break;case 1:Xn(s,r),hr(r),c&512&&a!==null&&ko(a,a.return);break;case 5:if(Xn(s,r),hr(r),c&512&&a!==null&&ko(a,a.return),r.flags&32){var h=r.stateNode;try{ni(h,"")}catch(ce){st(r,r.return,ce)}}if(c&4&&(h=r.stateNode,h!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,S=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&fa(h,g),Ta(S,w);var B=Ta(S,g);for(w=0;w<k.length;w+=2){var J=k[w],Z=k[w+1];J==="style"?wa(h,Z):J==="dangerouslySetInnerHTML"?ya(h,Z):J==="children"?ni(h,Z):ie(h,J,Z,B)}switch(S){case"input":pa(h,g);break;case"textarea":$s(h,g);break;case"select":var Y=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?Cr(h,!!g.multiple,se,!1):Y!==!!g.multiple&&(g.defaultValue!=null?Cr(h,!!g.multiple,g.defaultValue,!0):Cr(h,!!g.multiple,g.multiple?[]:"",!1))}h[qa]=g}catch(ce){st(r,r.return,ce)}}break;case 6:if(Xn(s,r),hr(r),c&4){if(r.stateNode===null)throw Error(t(162));h=r.stateNode,g=r.memoizedProps;try{h.nodeValue=g}catch(ce){st(r,r.return,ce)}}break;case 3:if(Xn(s,r),hr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{qn(s.containerInfo)}catch(ce){st(r,r.return,ce)}break;case 4:Xn(s,r),hr(r);break;case 13:Xn(s,r),hr(r),h=r.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(qh=Ge())),c&4&&ey(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?($t=(B=$t)||J,Xn(s,r),$t=B):Xn(s,r),hr(r),c&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!J&&r.mode&1)for(le=r,J=r.child;J!==null;){for(Z=le=J;le!==null;){switch(Y=le,se=Y.child,Y.tag){case 0:case 11:case 14:case 15:nl(4,Y,Y.return);break;case 1:ko(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Y,a=Y.return;try{s=c,ue.props=s.memoizedProps,ue.state=s.memoizedState,ue.componentWillUnmount()}catch(ce){st(c,a,ce)}}break;case 5:ko(Y,Y.return);break;case 22:if(Y.memoizedState!==null){iy(Z);continue}}se!==null?(se.return=Y,le=se):iy(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{h=Z.stateNode,B?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=Z.stateNode,k=Z.memoizedProps.style,w=k!=null&&k.hasOwnProperty("display")?k.display:null,S.style.display=va("display",w))}catch(ce){st(r,r.return,ce)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(ce){st(r,r.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Xn(s,r),hr(r),c&4&&ey(r);break;case 21:break;default:Xn(s,r),hr(r)}}function hr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Xg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(ni(h,""),c.flags&=-33);var g=Jg(r);zh(r,g,h);break;case 3:case 4:var w=c.stateNode.containerInfo,S=Jg(r);Bh(r,S,w);break;default:throw Error(t(161))}}catch(k){st(r,r.return,k)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function TT(r,s,a){le=r,ny(r)}function ny(r,s,a){for(var c=(r.mode&1)!==0;le!==null;){var h=le,g=h.child;if(h.tag===22&&c){var w=h.memoizedState!==null||Yu;if(!w){var S=h.alternate,k=S!==null&&S.memoizedState!==null||$t;S=Yu;var B=$t;if(Yu=w,($t=k)&&!B)for(le=h;le!==null;)w=le,k=w.child,w.tag===22&&w.memoizedState!==null?sy(h):k!==null?(k.return=w,le=k):sy(h);for(;g!==null;)le=g,ny(g),g=g.sibling;le=h,Yu=S,$t=B}ry(r)}else h.subtreeFlags&8772&&g!==null?(g.return=h,le=g):ry(r)}}function ry(r){for(;le!==null;){var s=le;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:$t||Xu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!$t)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:Qn(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&ig(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}ig(s,w,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var J=B.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&qn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||s.flags&512&&jh(s)}catch(Y){st(s,s.return,Y)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function iy(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function sy(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Xu(4,s)}catch(k){st(s,a,k)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(k){st(s,h,k)}}var g=s.return;try{jh(s)}catch(k){st(s,g,k)}break;case 5:var w=s.return;try{jh(s)}catch(k){st(s,w,k)}}}catch(k){st(s,s.return,k)}if(s===r){le=null;break}var S=s.sibling;if(S!==null){S.return=s.return,le=S;break}le=s.return}}var IT=Math.ceil,Ju=he.ReactCurrentDispatcher,$h=he.ReactCurrentOwner,Nn=he.ReactCurrentBatchConfig,Fe=0,Pt=null,pt=null,Lt=0,wn=0,Ro=pi(0),_t=0,rl=null,ps=0,Zu=0,Hh=0,il=null,sn=null,qh=0,bo=1/0,jr=null,ec=!1,Wh=null,_i=null,tc=!1,Ei=null,nc=0,sl=0,Kh=null,rc=-1,ic=0;function Jt(){return Fe&6?Ge():rc!==-1?rc:rc=Ge()}function Ti(r){return r.mode&1?Fe&2&&Lt!==0?Lt&-Lt:oT.transition!==null?(ic===0&&(ic=ns()),ic):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:Da(r.type)),r):1}function Jn(r,s,a,c){if(50<sl)throw sl=0,Kh=null,Error(t(185));oi(r,a,c),(!(Fe&2)||r!==Pt)&&(r===Pt&&(!(Fe&2)&&(Zu|=a),_t===4&&Ii(r,Lt)),on(r,c),a===1&&Fe===0&&!(s.mode&1)&&(bo=Ge()+500,Nu&&gi()))}function on(r,s){var a=r.callbackNode;kr(r,s);var c=ts(r,r===Pt?Lt:0);if(c===0)a!==null&&ka(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&ka(a),s===1)r.tag===0?sT(ay.bind(null,r)):Wm(ay.bind(null,r)),tT(function(){!(Fe&6)&&gi()}),a=null;else{switch(li(c)){case 1:a=Zi;break;case 4:a=ri;break;case 16:a=Cn;break;case 536870912:a=iu;break;default:a=Cn}a=my(a,oy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function oy(r,s){if(rc=-1,ic=0,Fe&6)throw Error(t(327));var a=r.callbackNode;if(xo()&&r.callbackNode!==a)return null;var c=ts(r,r===Pt?Lt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=sc(r,c);else{s=c;var h=Fe;Fe|=2;var g=uy();(Pt!==r||Lt!==s)&&(jr=null,bo=Ge()+500,gs(r,s));do try{AT();break}catch(S){ly(r,S)}while(!0);dh(),Ju.current=g,Fe=h,pt!==null?s=0:(Pt=null,Lt=0,s=_t)}if(s!==0){if(s===2&&(h=pn(r),h!==0&&(c=h,s=Gh(r,h))),s===1)throw a=rl,gs(r,0),Ii(r,c),on(r,Ge()),a;if(s===6)Ii(r,c);else{if(h=r.current.alternate,!(c&30)&&!ST(h)&&(s=sc(r,c),s===2&&(g=pn(r),g!==0&&(c=g,s=Gh(r,g))),s===1))throw a=rl,gs(r,0),Ii(r,c),on(r,Ge()),a;switch(r.finishedWork=h,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:ys(r,sn,jr);break;case 3:if(Ii(r,c),(c&130023424)===c&&(s=qh+500-Ge(),10<s)){if(ts(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){Jt(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=eh(ys.bind(null,r,sn,jr),s);break}ys(r,sn,jr);break;case 4:if(Ii(r,c),(c&4194240)===c)break;for(s=r.eventTimes,h=-1;0<c;){var w=31-Qt(c);g=1<<w,w=s[w],w>h&&(h=w),c&=~g}if(c=h,c=Ge()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*IT(c/1960))-c,10<c){r.timeoutHandle=eh(ys.bind(null,r,sn,jr),c);break}ys(r,sn,jr);break;case 5:ys(r,sn,jr);break;default:throw Error(t(329))}}}return on(r,Ge()),r.callbackNode===a?oy.bind(null,r):null}function Gh(r,s){var a=il;return r.current.memoizedState.isDehydrated&&(gs(r,s).flags|=256),r=sc(r,s),r!==2&&(s=sn,sn=a,s!==null&&Qh(s)),r}function Qh(r){sn===null?sn=r:sn.push.apply(sn,r)}function ST(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],g=h.getSnapshot;h=h.value;try{if(!Kn(g(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ii(r,s){for(s&=~Hh,s&=~Zu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Qt(s),c=1<<a;r[a]=-1,s&=~c}}function ay(r){if(Fe&6)throw Error(t(327));xo();var s=ts(r,0);if(!(s&1))return on(r,Ge()),null;var a=sc(r,s);if(r.tag!==0&&a===2){var c=pn(r);c!==0&&(s=c,a=Gh(r,c))}if(a===1)throw a=rl,gs(r,0),Ii(r,s),on(r,Ge()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ys(r,sn,jr),on(r,Ge()),null}function Yh(r,s){var a=Fe;Fe|=1;try{return r(s)}finally{Fe=a,Fe===0&&(bo=Ge()+500,Nu&&gi())}}function ms(r){Ei!==null&&Ei.tag===0&&!(Fe&6)&&xo();var s=Fe;Fe|=1;var a=Nn.transition,c=Ne;try{if(Nn.transition=null,Ne=1,r)return r()}finally{Ne=c,Nn.transition=a,Fe=s,!(Fe&6)&&gi()}}function Xh(){wn=Ro.current,Je(Ro)}function gs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,eT(a)),pt!==null)for(a=pt.return;a!==null;){var c=a;switch(oh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&bu();break;case 3:Ao(),Je(tn),Je(jt),wh();break;case 5:yh(c);break;case 4:Ao();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:hh(c.type._context);break;case 22:case 23:Xh()}a=a.return}if(Pt=r,pt=r=Si(r.current,null),Lt=wn=s,_t=0,rl=null,Hh=Zu=ps=0,sn=il=null,ds!==null){for(s=0;s<ds.length;s++)if(a=ds[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=h,c.next=w}a.pending=c}ds=null}return r}function ly(r,s){do{var a=pt;try{if(dh(),zu.current=Wu,$u){for(var c=rt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}$u=!1}if(fs=0,At=wt=rt=null,Xa=!1,Ja=0,$h.current=null,a===null||a.return===null){_t=1,rl=s,pt=null;break}e:{var g=r,w=a.return,S=a,k=s;if(s=Lt,S.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var B=k,J=S,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Dg(w);if(se!==null){se.flags&=-257,Lg(se,w,S,g,s),se.mode&1&&Ng(g,B,s),s=se,k=B;var ue=s.updateQueue;if(ue===null){var ce=new Set;ce.add(k),s.updateQueue=ce}else ue.add(k);break e}else{if(!(s&1)){Ng(g,B,s),Jh();break e}k=Error(t(426))}}else if(et&&S.mode&1){var ut=Dg(w);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Lg(ut,w,S,g,s),uh(Po(k,S));break e}}g=k=Po(k,S),_t!==4&&(_t=2),il===null?il=[g]:il.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var M=bg(g,k,s);rg(g,M);break e;case 1:S=k;var x=g.type,U=g.stateNode;if(!(g.flags&128)&&(typeof x.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(_i===null||!_i.has(U)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=xg(g,S,s);rg(g,te);break e}}g=g.return}while(g!==null)}dy(a)}catch(de){s=de,pt===a&&a!==null&&(pt=a=a.return);continue}break}while(!0)}function uy(){var r=Ju.current;return Ju.current=Wu,r===null?Wu:r}function Jh(){(_t===0||_t===3||_t===2)&&(_t=4),Pt===null||!(ps&268435455)&&!(Zu&268435455)||Ii(Pt,Lt)}function sc(r,s){var a=Fe;Fe|=2;var c=uy();(Pt!==r||Lt!==s)&&(jr=null,gs(r,s));do try{CT();break}catch(h){ly(r,h)}while(!0);if(dh(),Fe=a,Ju.current=c,pt!==null)throw Error(t(261));return Pt=null,Lt=0,_t}function CT(){for(;pt!==null;)cy(pt)}function AT(){for(;pt!==null&&!nu();)cy(pt)}function cy(r){var s=py(r.alternate,r,wn);r.memoizedProps=r.pendingProps,s===null?dy(r):pt=s,$h.current=null}function dy(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=wT(a,s),a!==null){a.flags&=32767,pt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,pt=null;return}}else if(a=vT(a,s,wn),a!==null){pt=a;return}if(s=s.sibling,s!==null){pt=s;return}pt=s=r}while(s!==null);_t===0&&(_t=5)}function ys(r,s,a){var c=Ne,h=Nn.transition;try{Nn.transition=null,Ne=1,PT(r,s,a,c)}finally{Nn.transition=h,Ne=c}return null}function PT(r,s,a,c){do xo();while(Ei!==null);if(Fe&6)throw Error(t(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(We(r,g),r===Pt&&(pt=Pt=null,Lt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||tc||(tc=!0,my(Cn,function(){return xo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Nn.transition,Nn.transition=null;var w=Ne;Ne=1;var S=Fe;Fe|=4,$h.current=null,ET(r,a),ty(a,r),KE(Jd),ci=!!Xd,Jd=Xd=null,r.current=a,TT(a),Od(),Fe=S,Ne=w,Nn.transition=g}else r.current=a;if(tc&&(tc=!1,Ei=r,nc=h),g=r.pendingLanes,g===0&&(_i=null),su(a.stateNode),on(r,Ge()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(ec)throw ec=!1,r=Wh,Wh=null,r;return nc&1&&r.tag!==0&&xo(),g=r.pendingLanes,g&1?r===Kh?sl++:(sl=0,Kh=r):sl=0,gi(),null}function xo(){if(Ei!==null){var r=li(nc),s=Nn.transition,a=Ne;try{if(Nn.transition=null,Ne=16>r?16:r,Ei===null)var c=!1;else{if(r=Ei,Ei=null,nc=0,Fe&6)throw Error(t(331));var h=Fe;for(Fe|=4,le=r.current;le!==null;){var g=le,w=g.child;if(le.flags&16){var S=g.deletions;if(S!==null){for(var k=0;k<S.length;k++){var B=S[k];for(le=B;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:nl(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,le=Z;else for(;le!==null;){J=le;var Y=J.sibling,se=J.return;if(Yg(J),J===B){le=null;break}if(Y!==null){Y.return=se,le=Y;break}le=se}}}var ue=g.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var ut=ce.sibling;ce.sibling=null,ce=ut}while(ce!==null)}}le=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,le=w;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:nl(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,le=M;break e}le=g.return}}var x=r.current;for(le=x;le!==null;){w=le;var U=w.child;if(w.subtreeFlags&2064&&U!==null)U.return=w,le=U;else e:for(w=x;le!==null;){if(S=le,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Xu(9,S)}}catch(de){st(S,S.return,de)}if(S===w){le=null;break e}var te=S.sibling;if(te!==null){te.return=S.return,le=te;break e}le=S.return}}if(Fe=h,gi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(es,r)}catch{}c=!0}return c}finally{Ne=a,Nn.transition=s}}return!1}function hy(r,s,a){s=Po(a,s),s=bg(r,s,1),r=vi(r,s,1),s=Jt(),r!==null&&(oi(r,1,s),on(r,s))}function st(r,s,a){if(r.tag===3)hy(r,r,a);else for(;s!==null;){if(s.tag===3){hy(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_i===null||!_i.has(c))){r=Po(a,r),r=xg(s,r,1),s=vi(s,r,1),r=Jt(),s!==null&&(oi(s,1,r),on(s,r));break}}s=s.return}}function kT(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=Jt(),r.pingedLanes|=r.suspendedLanes&a,Pt===r&&(Lt&a)===a&&(_t===4||_t===3&&(Lt&130023424)===Lt&&500>Ge()-qh?gs(r,0):Hh|=a),on(r,s)}function fy(r,s){s===0&&(r.mode&1?(s=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):s=1);var a=Jt();r=Mr(r,s),r!==null&&(oi(r,s,a),on(r,a))}function RT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),fy(r,a)}function bT(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),fy(r,a)}var py;py=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return rn=!1,yT(r,s,a);rn=!!(r.flags&131072)}else rn=!1,et&&s.flags&1048576&&Km(s,Lu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Qu(r,s),r=s.pendingProps;var h=wo(s,jt.current);Co(s,a),h=Th(null,s,c,r,h,a);var g=Ih();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(c)?(g=!0,xu(s)):g=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,mh(s),h.updater=Ku,s.stateNode=h,h._reactInternals=s,Rh(s,c,r,a),s=Dh(null,s,c,!0,g,a)):(s.tag=0,et&&g&&sh(s),Xt(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Qu(r,s),r=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=NT(c),r=Qn(c,r),h){case 0:s=Nh(null,s,c,r,a);break e;case 1:s=jg(null,s,c,r,a);break e;case 11:s=Og(null,s,c,r,a);break e;case 14:s=Vg(null,s,c,Qn(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Qn(c,h),Nh(r,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Qn(c,h),jg(r,s,c,h,a);case 3:e:{if(Bg(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,h=g.element,ng(r,s),ju(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){h=Po(Error(t(423)),s),s=zg(r,s,c,a,h);break e}else if(c!==h){h=Po(Error(t(424)),s),s=zg(r,s,c,a,h);break e}else for(vn=fi(s.stateNode.containerInfo.firstChild),yn=s,et=!0,Gn=null,a=eg(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(To(),c===h){s=Ur(r,s,a);break e}Xt(r,s,c,a)}s=s.child}return s;case 5:return sg(s),r===null&&lh(s),c=s.type,h=s.pendingProps,g=r!==null?r.memoizedProps:null,w=h.children,Zd(c,h)?w=null:g!==null&&Zd(c,g)&&(s.flags|=32),Ug(r,s),Xt(r,s,w,a),s.child;case 6:return r===null&&lh(s),null;case 13:return $g(r,s,a);case 4:return gh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Io(s,null,c,a):Xt(r,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Qn(c,h),Og(r,s,c,h,a);case 7:return Xt(r,s,s.pendingProps,a),s.child;case 8:return Xt(r,s,s.pendingProps.children,a),s.child;case 12:return Xt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,g=s.memoizedProps,w=h.value,Qe(Mu,c._currentValue),c._currentValue=w,g!==null)if(Kn(g.value,w)){if(g.children===h.children&&!tn.current){s=Ur(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var S=g.dependencies;if(S!==null){w=g.child;for(var k=S.firstContext;k!==null;){if(k.context===c){if(g.tag===1){k=Fr(-1,a&-a),k.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var J=B.pending;J===null?k.next=k:(k.next=J.next,J.next=k),B.pending=k}}g.lanes|=a,k=g.alternate,k!==null&&(k.lanes|=a),fh(g.return,a,s),S.lanes|=a;break}k=k.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,S=w.alternate,S!==null&&(S.lanes|=a),fh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Xt(r,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,Co(s,a),h=bn(h),c=c(h),s.flags|=1,Xt(r,s,c,a),s.child;case 14:return c=s.type,h=Qn(c,s.pendingProps),h=Qn(c.type,h),Vg(r,s,c,h,a);case 15:return Mg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Qn(c,h),Qu(r,s),s.tag=1,nn(c)?(r=!0,xu(s)):r=!1,Co(s,a),kg(s,c,h),Rh(s,c,h,a),Dh(null,s,c,!0,r,a);case 19:return qg(r,s,a);case 22:return Fg(r,s,a)}throw Error(t(156,s.tag))};function my(r,s){return Xs(r,s)}function xT(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(r,s,a,c){return new xT(r,s,a,c)}function Zh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function NT(r){if(typeof r=="function")return Zh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===Ft)return 14}return 2}function Si(r,s){var a=r.alternate;return a===null?(a=Dn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function oc(r,s,a,c,h,g){var w=2;if(c=r,typeof r=="function")Zh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case b:return vs(a.children,h,g,s);case T:w=8,h|=8;break;case A:return r=Dn(12,a,s,h|2),r.elementType=A,r.lanes=g,r;case P:return r=Dn(13,a,s,h),r.elementType=P,r.lanes=g,r;case at:return r=Dn(19,a,s,h),r.elementType=at,r.lanes=g,r;case qe:return ac(a,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:w=10;break e;case N:w=9;break e;case O:w=11;break e;case Ft:w=14;break e;case Ut:w=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Dn(w,a,s,h),s.elementType=r,s.type=c,s.lanes=g,s}function vs(r,s,a,c){return r=Dn(7,r,c,s),r.lanes=a,r}function ac(r,s,a,c){return r=Dn(22,r,c,s),r.elementType=qe,r.lanes=a,r.stateNode={isHidden:!1},r}function ef(r,s,a){return r=Dn(6,r,null,s),r.lanes=a,r}function tf(r,s,a){return s=Dn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function DT(r,s,a,c,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=si(0),this.expirationTimes=si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function nf(r,s,a,c,h,g,w,S,k){return r=new DT(r,s,a,S,k),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Dn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},mh(g),r}function LT(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function gy(r){if(!r)return mi;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(nn(a))return Hm(r,a,s)}return s}function yy(r,s,a,c,h,g,w,S,k){return r=nf(a,c,!0,r,h,g,w,S,k),r.context=gy(null),a=r.current,c=Jt(),h=Ti(a),g=Fr(c,h),g.callback=s??null,vi(a,g,h),r.current.lanes=h,oi(r,h,c),on(r,c),r}function lc(r,s,a,c){var h=s.current,g=Jt(),w=Ti(h);return a=gy(a),s.context===null?s.context=a:s.pendingContext=a,s=Fr(g,w),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=vi(h,s,w),r!==null&&(Jn(r,h,w,g),Uu(r,h,w)),w}function uc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function vy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function rf(r,s){vy(r,s),(r=r.alternate)&&vy(r,s)}function OT(){return null}var wy=typeof reportError=="function"?reportError:function(r){console.error(r)};function sf(r){this._internalRoot=r}cc.prototype.render=sf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));lc(r,s,null,null)},cc.prototype.unmount=sf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ms(function(){lc(null,r,null,null)}),s[Dr]=null}};function cc(r){this._internalRoot=r}cc.prototype.unstable_scheduleHydration=function(r){if(r){var s=cu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<sr.length&&s!==0&&s<sr[a].priority;a++);sr.splice(a,0,r),a===0&&fu(r)}};function of(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function dc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function _y(){}function VT(r,s,a,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var B=uc(w);g.call(B)}}var w=yy(s,c,r,0,null,!1,!1,"",_y);return r._reactRootContainer=w,r[Dr]=w.current,$a(r.nodeType===8?r.parentNode:r),ms(),w}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var S=c;c=function(){var B=uc(k);S.call(B)}}var k=nf(r,0,!1,null,null,!1,!1,"",_y);return r._reactRootContainer=k,r[Dr]=k.current,$a(r.nodeType===8?r.parentNode:r),ms(function(){lc(s,k,a,c)}),k}function hc(r,s,a,c,h){var g=a._reactRootContainer;if(g){var w=g;if(typeof h=="function"){var S=h;h=function(){var k=uc(w);S.call(k)}}lc(s,w,r,h)}else w=VT(a,s,r,h,c);return uc(w)}lu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ii(s.pendingLanes);a!==0&&(ai(s,a|1),on(s,Ge()),!(Fe&6)&&(bo=Ge()+500,gi()))}break;case 13:ms(function(){var c=Mr(r,1);if(c!==null){var h=Jt();Jn(c,r,1,h)}}),rf(r,1)}},eo=function(r){if(r.tag===13){var s=Mr(r,134217728);if(s!==null){var a=Jt();Jn(s,r,134217728,a)}rf(r,134217728)}},uu=function(r){if(r.tag===13){var s=Ti(r),a=Mr(r,s);if(a!==null){var c=Jt();Jn(a,r,s,c)}rf(r,s)}},cu=function(){return Ne},du=function(r,s){var a=Ne;try{return Ne=r,s()}finally{Ne=a}},qs=function(r,s,a){switch(s){case"input":if(pa(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var h=Ru(c);if(!h)throw Error(t(90));Us(c),pa(c,h)}}}break;case"textarea":$s(r,a);break;case"select":s=a.value,s!=null&&Cr(r,!!a.multiple,s,!1)}},Qi=Yh,Sa=ms;var MT={usingClientEntryPoint:!1,Events:[Wa,yo,Ru,rr,Ia,Yh]},ol={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FT={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Pa(r),r===null?null:r.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||OT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{es=fc.inject(FT),fn=fc}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MT,an.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!of(s))throw Error(t(200));return LT(r,s,null,a)},an.createRoot=function(r,s){if(!of(r))throw Error(t(299));var a=!1,c="",h=wy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=nf(r,1,!1,null,null,a,!1,c,h),r[Dr]=s.current,$a(r.nodeType===8?r.parentNode:r),new sf(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Pa(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return ms(r)},an.hydrate=function(r,s,a){if(!dc(s))throw Error(t(200));return hc(null,r,s,!0,a)},an.hydrateRoot=function(r,s,a){if(!of(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,h=!1,g="",w=wy;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=yy(s,null,r,1,a??null,h,!1,g,w),r[Dr]=s.current,$a(r),c)for(r=0;r<c.length;r++)a=c[r],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new cc(s)},an.render=function(r,s,a){if(!dc(s))throw Error(t(200));return hc(null,r,s,!1,a)},an.unmountComponentAtNode=function(r){if(!dc(r))throw Error(t(40));return r._reactRootContainer?(ms(function(){hc(null,null,r,!1,function(){r._reactRootContainer=null,r[Dr]=null})}),!0):!1},an.unstable_batchedUpdates=Yh,an.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!dc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return hc(r,s,a,!1,c)},an.version="18.3.1-next-f1338f8080-20240426",an}var ky;function KT(){if(ky)return uf.exports;ky=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),uf.exports=WT(),uf.exports}var Ry;function GT(){if(Ry)return pc;Ry=1;var n=KT();return pc.createRoot=n.createRoot,pc.hydrateRoot=n.hydrateRoot,pc}var QT=GT();const YT=()=>q.jsxs("header",{className:"Header",children:[q.jsx("img",{src:"./assets/impulsa_blanco.svg",alt:"Logo de Impulsa"}),q.jsx("h1",{children:"Formulario de Presentacin de Proyecto"})]}),XT=()=>q.jsx("footer",{className:"Footer",children:q.jsx("img",{src:"./assets/sf_blanco.svg",alt:"Provincia de Santa Fe"})}),_n=n=>q.jsxs("div",{className:"form-group",children:[q.jsx("label",{children:n.label}),q.jsx("input",{className:"input",type:n.text,name:n.name,defaultValue:n.defaultValue})]});var by={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},JT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],d=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(d&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],d=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],d=o+1<n.length,f=d?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,I=(l&3)<<4|f>>4;let C=(f&15)<<2|y>>6,D=y&63;p||(D=64,d||(C=64)),i.push(t[_],t[I],t[C],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||I==null)throw new ZT;const C=l<<2|f>>4;if(i.push(C),y!==64){const D=f<<4&240|y>>2;if(i.push(D),I!==64){const F=y<<6&192|I;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e1=function(n){const e=hw(n);return fw.encodeByteArray(e,!0)},Oc=function(n){return e1(n).replace(/\./g,"")},pw=function(n){try{return fw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=()=>t1().__FIREBASE_DEFAULTS__,r1=()=>{if(typeof process>"u"||typeof by>"u")return;const n=by.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},i1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pw(n[1]);return e&&JSON.parse(e)},dd=()=>{try{return n1()||r1()||i1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mw=n=>{var e,t;return(t=(e=dd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},s1=n=>{const e=mw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},gw=()=>{var n;return(n=dd())===null||n===void 0?void 0:n.config},yw=n=>{var e;return(e=dd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Oc(JSON.stringify(t)),Oc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function u1(){var n;const e=(n=dd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function h1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f1(){const n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function p1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m1(){try{return typeof indexedDB=="object"}catch{return!1}}function g1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="FirebaseError";class Jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=y1,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?v1(l,i):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new Jr(o,f,i)}}function v1(n,e){return n.replace(w1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const w1=/\{\$([^}]+)}/g;function _1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],d=e[o];if(xy(l)&&xy(d)){if(!Vc(l,d))return!1}else if(l!==d)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function xy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function dl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function E1(n,e){const t=new T1(n,e);return t.subscribe.bind(t)}class T1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");I1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=hf),o.error===void 0&&(o.error=hf),o.complete===void 0&&(o.complete=hf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class Cs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new o1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A1(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&d.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const d=this.instances.get(o);return d&&e(d,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:C1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C1(n){return n===_s?void 0:n}function A1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new S1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(be||(be={}));const k1={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},R1=be.INFO,b1={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},x1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=b1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=R1,this._logHandler=x1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const N1=(n,e)=>e.some(t=>n instanceof t);let Ny,Dy;function D1(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L1(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vw=new WeakMap,Pf=new WeakMap,ww=new WeakMap,ff=new WeakMap,op=new WeakMap;function O1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(Li(n.result)),o()},d=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&vw.set(t,n)}).catch(()=>{}),op.set(e,n),e}function V1(n){if(Pf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});Pf.set(n,e)}let kf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Pf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ww.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Li(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function M1(n){kf=n(kf)}function F1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(pf(this),e,...t);return ww.set(i,e.sort?e.sort():[e]),Li(i)}:L1().includes(n)?function(...e){return n.apply(pf(this),e),Li(vw.get(this))}:function(...e){return Li(n.apply(pf(this),e))}}function U1(n){return typeof n=="function"?F1(n):(n instanceof IDBTransaction&&V1(n),N1(n,D1())?new Proxy(n,kf):n)}function Li(n){if(n instanceof IDBRequest)return O1(n);if(ff.has(n))return ff.get(n);const e=U1(n);return e!==n&&(ff.set(n,e),op.set(e,n)),e}const pf=n=>op.get(n);function j1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const d=indexedDB.open(n,e),f=Li(d);return i&&d.addEventListener("upgradeneeded",p=>{i(Li(d.result),p.oldVersion,p.newVersion,Li(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const B1=["get","getKey","getAll","getAllKeys","count"],z1=["put","add","delete","clear"],mf=new Map;function Ly(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=z1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||B1.includes(t)))return;const l=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return mf.set(e,l),l}M1(n=>({...n,get:(e,t,i)=>Ly(e,t)||n.get(e,t,i),has:(e,t)=>!!Ly(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(H1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function H1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rf="@firebase/app",Oy="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new sp("@firebase/app"),q1="@firebase/app-compat",W1="@firebase/analytics-compat",K1="@firebase/analytics",G1="@firebase/app-check-compat",Q1="@firebase/app-check",Y1="@firebase/auth",X1="@firebase/auth-compat",J1="@firebase/database",Z1="@firebase/data-connect",eI="@firebase/database-compat",tI="@firebase/functions",nI="@firebase/functions-compat",rI="@firebase/installations",iI="@firebase/installations-compat",sI="@firebase/messaging",oI="@firebase/messaging-compat",aI="@firebase/performance",lI="@firebase/performance-compat",uI="@firebase/remote-config",cI="@firebase/remote-config-compat",dI="@firebase/storage",hI="@firebase/storage-compat",fI="@firebase/firestore",pI="@firebase/vertexai",mI="@firebase/firestore-compat",gI="firebase",yI="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]",vI={[Rf]:"fire-core",[q1]:"fire-core-compat",[K1]:"fire-analytics",[W1]:"fire-analytics-compat",[Q1]:"fire-app-check",[G1]:"fire-app-check-compat",[Y1]:"fire-auth",[X1]:"fire-auth-compat",[J1]:"fire-rtdb",[Z1]:"fire-data-connect",[eI]:"fire-rtdb-compat",[tI]:"fire-fn",[nI]:"fire-fn-compat",[rI]:"fire-iid",[iI]:"fire-iid-compat",[sI]:"fire-fcm",[oI]:"fire-fcm-compat",[aI]:"fire-perf",[lI]:"fire-perf-compat",[uI]:"fire-rc",[cI]:"fire-rc-compat",[dI]:"fire-gcs",[hI]:"fire-gcs-compat",[fI]:"fire-fst",[mI]:"fire-fst-compat",[pI]:"fire-vertex","fire-js":"fire-js",[gI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,wI=new Map,xf=new Map;function Vy(n,e){try{n.container.addComponent(e)}catch(t){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ho(n){const e=n.name;if(xf.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,n);for(const t of Mc.values())Vy(t,n);for(const t of wI.values())Vy(t,n);return!0}function ap(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new Nl("app","Firebase",_I);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=yI;function _w(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:bf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Oi.create("bad-app-name",{appName:String(o)});if(t||(t=gw()),!t)throw Oi.create("no-options");const l=Mc.get(o);if(l){if(Vc(t,l.options)&&Vc(i,l.config))return l;throw Oi.create("duplicate-app",{appName:o})}const d=new P1(o);for(const p of xf.values())d.addComponent(p);const f=new EI(t,i,d);return Mc.set(o,f),f}function Ew(n=bf){const e=Mc.get(n);if(!e&&n===bf&&gw())return _w();if(!e)throw Oi.create("no-app",{appName:n});return e}function Vi(n,e,t){var i;let o=(i=vI[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(f.join(" "));return}Ho(new Cs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firebase-heartbeat-database",II=1,_l="firebase-heartbeat-store";let gf=null;function Tw(){return gf||(gf=j1(TI,II,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_l)}catch(t){console.warn(t)}}}}).catch(n=>{throw Oi.create("idb-open",{originalErrorMessage:n.message})})),gf}async function SI(n){try{const t=(await Tw()).transaction(_l),i=await t.objectStore(_l).get(Iw(n));return await t.done,i}catch(e){if(e instanceof Jr)Gr.warn(e.message);else{const t=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(t.message)}}}async function My(n,e){try{const i=(await Tw()).transaction(_l,"readwrite");await i.objectStore(_l).put(e,Iw(n)),await i.done}catch(t){if(t instanceof Jr)Gr.warn(t.message);else{const i=Oi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(i.message)}}}function Iw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1024,AI=30*24*60*60*1e3;class PI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Fy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const f=new Date(d.date).valueOf();return Date.now()-f<=AI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Gr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Fy(),{heartbeatsToSend:i,unsentEntries:o}=kI(this._heartbeatsCache.heartbeats),l=Oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Gr.warn(t),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function kI(n,e=CI){const t=[];let i=n.slice();for(const o of n){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),Uy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Uy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class RI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m1()?g1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return My(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return My(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Uy(n){return Oc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n){Ho(new Cs("platform-logger",e=>new $1(e),"PRIVATE")),Ho(new Cs("heartbeat",e=>new PI(e),"PRIVATE")),Vi(Rf,Oy,n),Vi(Rf,Oy,"esm2017"),Vi("fire-js","")}bI("");var xI="firebase",NI="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(xI,NI,"app");var jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,Sw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function A(){}A.prototype=T.prototype,b.D=T.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(R,N,O){for(var P=Array(arguments.length-2),at=2;at<arguments.length;at++)P[at-2]=arguments[at];return T.prototype[N].apply(R,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,T,A){A||(A=0);var R=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)R[N]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(N=0;16>N;++N)R[N]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=b.g[0],A=b.g[1],N=b.g[2];var O=b.g[3],P=T+(O^A&(N^O))+R[0]+3614090360&4294967295;T=A+(P<<7&4294967295|P>>>25),P=O+(N^T&(A^N))+R[1]+3905402710&4294967295,O=T+(P<<12&4294967295|P>>>20),P=N+(A^O&(T^A))+R[2]+606105819&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(T^N&(O^T))+R[3]+3250441966&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(O^A&(N^O))+R[4]+4118548399&4294967295,T=A+(P<<7&4294967295|P>>>25),P=O+(N^T&(A^N))+R[5]+1200080426&4294967295,O=T+(P<<12&4294967295|P>>>20),P=N+(A^O&(T^A))+R[6]+2821735955&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(T^N&(O^T))+R[7]+4249261313&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(O^A&(N^O))+R[8]+1770035416&4294967295,T=A+(P<<7&4294967295|P>>>25),P=O+(N^T&(A^N))+R[9]+2336552879&4294967295,O=T+(P<<12&4294967295|P>>>20),P=N+(A^O&(T^A))+R[10]+4294925233&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(T^N&(O^T))+R[11]+2304563134&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(O^A&(N^O))+R[12]+1804603682&4294967295,T=A+(P<<7&4294967295|P>>>25),P=O+(N^T&(A^N))+R[13]+4254626195&4294967295,O=T+(P<<12&4294967295|P>>>20),P=N+(A^O&(T^A))+R[14]+2792965006&4294967295,N=O+(P<<17&4294967295|P>>>15),P=A+(T^N&(O^T))+R[15]+1236535329&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(N^O&(A^N))+R[1]+4129170786&4294967295,T=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(T^A))+R[6]+3225465664&4294967295,O=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(O^T))+R[11]+643717713&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^T&(N^O))+R[0]+3921069994&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(N^O&(A^N))+R[5]+3593408605&4294967295,T=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(T^A))+R[10]+38016083&4294967295,O=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(O^T))+R[15]+3634488961&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^T&(N^O))+R[4]+3889429448&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(N^O&(A^N))+R[9]+568446438&4294967295,T=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(T^A))+R[14]+3275163606&4294967295,O=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(O^T))+R[3]+4107603335&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^T&(N^O))+R[8]+1163531501&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(N^O&(A^N))+R[13]+2850285829&4294967295,T=A+(P<<5&4294967295|P>>>27),P=O+(A^N&(T^A))+R[2]+4243563512&4294967295,O=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(O^T))+R[7]+1735328473&4294967295,N=O+(P<<14&4294967295|P>>>18),P=A+(O^T&(N^O))+R[12]+2368359562&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(A^N^O)+R[5]+4294588738&4294967295,T=A+(P<<4&4294967295|P>>>28),P=O+(T^A^N)+R[8]+2272392833&4294967295,O=T+(P<<11&4294967295|P>>>21),P=N+(O^T^A)+R[11]+1839030562&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^T)+R[14]+4259657740&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(A^N^O)+R[1]+2763975236&4294967295,T=A+(P<<4&4294967295|P>>>28),P=O+(T^A^N)+R[4]+1272893353&4294967295,O=T+(P<<11&4294967295|P>>>21),P=N+(O^T^A)+R[7]+4139469664&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^T)+R[10]+3200236656&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(A^N^O)+R[13]+681279174&4294967295,T=A+(P<<4&4294967295|P>>>28),P=O+(T^A^N)+R[0]+3936430074&4294967295,O=T+(P<<11&4294967295|P>>>21),P=N+(O^T^A)+R[3]+3572445317&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^T)+R[6]+76029189&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(A^N^O)+R[9]+3654602809&4294967295,T=A+(P<<4&4294967295|P>>>28),P=O+(T^A^N)+R[12]+3873151461&4294967295,O=T+(P<<11&4294967295|P>>>21),P=N+(O^T^A)+R[15]+530742520&4294967295,N=O+(P<<16&4294967295|P>>>16),P=A+(N^O^T)+R[2]+3299628645&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(N^(A|~O))+R[0]+4096336452&4294967295,T=A+(P<<6&4294967295|P>>>26),P=O+(A^(T|~N))+R[7]+1126891415&4294967295,O=T+(P<<10&4294967295|P>>>22),P=N+(T^(O|~A))+R[14]+2878612391&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~T))+R[5]+4237533241&4294967295,A=N+(P<<21&4294967295|P>>>11),P=T+(N^(A|~O))+R[12]+1700485571&4294967295,T=A+(P<<6&4294967295|P>>>26),P=O+(A^(T|~N))+R[3]+2399980690&4294967295,O=T+(P<<10&4294967295|P>>>22),P=N+(T^(O|~A))+R[10]+4293915773&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~T))+R[1]+2240044497&4294967295,A=N+(P<<21&4294967295|P>>>11),P=T+(N^(A|~O))+R[8]+1873313359&4294967295,T=A+(P<<6&4294967295|P>>>26),P=O+(A^(T|~N))+R[15]+4264355552&4294967295,O=T+(P<<10&4294967295|P>>>22),P=N+(T^(O|~A))+R[6]+2734768916&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~T))+R[13]+1309151649&4294967295,A=N+(P<<21&4294967295|P>>>11),P=T+(N^(A|~O))+R[4]+4149444226&4294967295,T=A+(P<<6&4294967295|P>>>26),P=O+(A^(T|~N))+R[11]+3174756917&4294967295,O=T+(P<<10&4294967295|P>>>22),P=N+(T^(O|~A))+R[2]+718787259&4294967295,N=O+(P<<15&4294967295|P>>>17),P=A+(O^(N|~T))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+O&4294967295}i.prototype.u=function(b,T){T===void 0&&(T=b.length);for(var A=T-this.blockSize,R=this.B,N=this.h,O=0;O<T;){if(N==0)for(;O<=A;)o(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<T;)if(R[N++]=b.charCodeAt(O++),N==this.blockSize){o(this,R),N=0;break}}else for(;O<T;)if(R[N++]=b[O++],N==this.blockSize){o(this,R),N=0;break}}this.h=N,this.o+=T},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;var A=8*this.o;for(T=b.length-8;T<b.length;++T)b[T]=A&255,A/=256;for(this.u(b),b=Array(16),T=A=0;4>T;++T)for(var R=0;32>R;R+=8)b[A++]=this.g[T]>>>R&255;return b};function l(b,T){var A=f;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=T(b)}function d(b,T){this.h=T;for(var A=[],R=!0,N=b.length-1;0<=N;N--){var O=b[N]|0;R&&O==T||(A[N]=O,R=!1)}this.g=A}var f={};function p(b){return-128<=b&&128>b?l(b,function(T){return new d([T|0],0>T?-1:0)}):new d([b|0],0>b?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return I;if(0>b)return j(y(-b));for(var T=[],A=1,R=0;b>=A;R++)T[R]=b/A|0,A*=4294967296;return new d(T,0)}function _(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return j(_(b.substring(1),T));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(T,8)),R=I,N=0;N<b.length;N+=8){var O=Math.min(8,b.length-N),P=parseInt(b.substring(N,N+O),T);8>O?(O=y(Math.pow(T,O)),R=R.j(O).add(y(P))):(R=R.j(A),R=R.add(y(P)))}return R}var I=p(0),C=p(1),D=p(16777216);n=d.prototype,n.m=function(){if(H(this))return-j(this).m();for(var b=0,T=1,A=0;A<this.g.length;A++){var R=this.i(A);b+=(0<=R?R:4294967296+R)*T,T*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(F(this))return"0";if(H(this))return"-"+j(this).toString(b);for(var T=y(Math.pow(b,6)),A=this,R="";;){var N=he(A,T).g;A=G(A,N.j(T));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=N,F(A))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function F(b){if(b.h!=0)return!1;for(var T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function H(b){return b.h==-1}n.l=function(b){return b=G(this,b),H(b)?-1:F(b)?0:1};function j(b){for(var T=b.g.length,A=[],R=0;R<T;R++)A[R]=~b.g[R];return new d(A,~b.h).add(C)}n.abs=function(){return H(this)?j(this):this},n.add=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],R=0,N=0;N<=T;N++){var O=R+(this.i(N)&65535)+(b.i(N)&65535),P=(O>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);R=P>>>16,O&=65535,P&=65535,A[N]=P<<16|O}return new d(A,A[A.length-1]&-2147483648?-1:0)};function G(b,T){return b.add(j(T))}n.j=function(b){if(F(this)||F(b))return I;if(H(this))return H(b)?j(this).j(j(b)):j(j(this).j(b));if(H(b))return j(this.j(j(b)));if(0>this.l(D)&&0>b.l(D))return y(this.m()*b.m());for(var T=this.g.length+b.g.length,A=[],R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<b.g.length;N++){var O=this.i(R)>>>16,P=this.i(R)&65535,at=b.i(N)>>>16,Ft=b.i(N)&65535;A[2*R+2*N]+=P*Ft,X(A,2*R+2*N),A[2*R+2*N+1]+=O*Ft,X(A,2*R+2*N+1),A[2*R+2*N+1]+=P*at,X(A,2*R+2*N+1),A[2*R+2*N+2]+=O*at,X(A,2*R+2*N+2)}for(R=0;R<T;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=T;R<2*T;R++)A[R]=0;return new d(A,0)};function X(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function ie(b,T){this.g=b,this.h=T}function he(b,T){if(F(T))throw Error("division by zero");if(F(b))return new ie(I,I);if(H(b))return T=he(j(b),T),new ie(j(T.g),j(T.h));if(H(T))return T=he(b,j(T)),new ie(j(T.g),T.h);if(30<b.g.length){if(H(b)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var A=C,R=T;0>=R.l(b);)A=Ae(A),R=Ae(R);var N=Se(A,1),O=Se(R,1);for(R=Se(R,2),A=Se(A,2);!F(R);){var P=O.add(R);0>=P.l(b)&&(N=N.add(A),O=P),R=Se(R,1),A=Se(A,1)}return T=G(b,N.j(T)),new ie(N,T)}for(N=I;0<=b.l(T);){for(A=Math.max(1,Math.floor(b.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=y(A),P=O.j(T);H(P)||0<P.l(b);)A-=R,O=y(A),P=O.j(T);F(O)&&(O=C),N=N.add(O),b=G(b,P)}return new ie(N,b)}n.A=function(b){return he(this,b).h},n.and=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)&b.i(R);return new d(A,this.h&b.h)},n.or=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)|b.i(R);return new d(A,this.h|b.h)},n.xor=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)^b.i(R);return new d(A,this.h^b.h)};function Ae(b){for(var T=b.g.length+1,A=[],R=0;R<T;R++)A[R]=b.i(R)<<1|b.i(R-1)>>>31;return new d(A,b.h)}function Se(b,T){var A=T>>5;T%=32;for(var R=b.g.length-A,N=[],O=0;O<R;O++)N[O]=0<T?b.i(O+A)>>>T|b.i(O+A+1)<<32-T:b.i(O+A);return new d(N,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Sw=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=_,Is=d}).apply(typeof jy<"u"?jy:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cw,hl,Aw,Ic,Nf,Pw,kw,Rw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var V=u[E];if(!(V in v))break e;v=v[V]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,V={next:function(){if(!E&&v<u.length){var z=v++;return{value:m(z,u[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function I(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),u.apply(m,V)}}return function(){return u.apply(m,arguments)}}function C(u,m,v){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:I,C.apply(null,arguments)}function D(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function F(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,V,z){for(var ne=Array(arguments.length-2),He=2;He<arguments.length;He++)ne[He-2]=arguments[He];return m.prototype[V].apply(E,ne)}}function H(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function j(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const V=u.length||0,z=E.length||0;u.length=V+z;for(let ne=0;ne<z;ne++)u[V+ne]=E[ne]}else u.push(E)}}class G{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var Ae=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Se(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function b(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function T(u){const m={};for(const v in u)m[v]=u[v];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,m){let v,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(v in E)u[v]=E[v];for(let z=0;z<A.length;z++)v=A[z],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function N(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function O(u){f.setTimeout(()=>{throw u},0)}function P(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,v){const E=Ft.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Ft=new G(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,re=!1,pe=new at,oe=()=>{const u=f.Promise.resolve(void 0);qe=()=>{u.then(L)}};var L=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(v){O(v)}var m=Ft;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function ke(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ae){e:{try{he(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}F(ke,fe);var Le={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Ke(u,m,v,E,V){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=V,this.key=++ze,this.da=this.fa=!1}function St(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ir(u){this.src=u,this.g={},this.h=0}Ir.prototype.add=function(u,m,v,E,V){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var ne=ti(u,m,E,V);return-1<ne?(m=u[ne],v||(m.fa=!1)):(m=new Ke(m,this.src,z,!!E,V),m.fa=v,u.push(m)),m};function Us(u,m){var v=m.type;if(v in u.g){var E=u.g[v],V=Array.prototype.indexOf.call(E,m,void 0),z;(z=0<=V)&&Array.prototype.splice.call(E,V,1),z&&(St(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ti(u,m,v,E){for(var V=0;V<u.length;++V){var z=u[V];if(!z.da&&z.listener==m&&z.capture==!!v&&z.ha==E)return V}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),js={};function fa(u,m,v,E,V){if(Array.isArray(m)){for(var z=0;z<m.length;z++)fa(u,m[z],v,E,V);return null}return v=ga(v),u&&u[Be]?u.K(m,v,y(E)?!!E.capture:!!E,V):pa(u,m,v,!1,E,V)}function pa(u,m,v,E,V,z){if(!m)throw Error("Invalid event type");var ne=y(V)?!!V.capture:!!V,He=zs(u);if(He||(u[qi]=He=new Ir(u)),v=He.add(m,v,E,ne,z),v.proxy)return v;if(E=Zl(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)Pe||(V=ne),V===void 0&&(V=!1),u.addEventListener(m.toString(),E,V);else if(u.attachEvent)u.attachEvent(Cr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zl(){function u(v){return m.call(u.src,u.listener,v)}const m=ma;return u}function Bs(u,m,v,E,V){if(Array.isArray(m))for(var z=0;z<m.length;z++)Bs(u,m[z],v,E,V);else E=y(E)?!!E.capture:!!E,v=ga(v),u&&u[Be]?(u=u.i,m=String(m).toString(),m in u.g&&(z=u.g[m],v=ti(z,v,E,V),-1<v&&(St(z[v]),Array.prototype.splice.call(z,v,1),z.length==0&&(delete u.g[m],u.h--)))):u&&(u=zs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ti(m,v,E,V)),(v=-1<u?m[u]:null)&&Sr(v))}function Sr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Be])Us(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(Cr(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=zs(m))?(Us(v,u),v.h==0&&(v.src=null,m[qi]=null)):St(u)}}}function Cr(u){return u in js?js[u]:js[u]="on"+u}function ma(u,m){if(u.da)u=!0;else{m=new ke(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&Sr(u),u=v.call(E,m)}return u}function zs(u){return u=u[qi],u instanceof Ir?u:null}var $s="__closure_events_fn_"+(1e9*Math.random()>>>0);function ga(u){return typeof u=="function"?u:(u[$s]||(u[$s]=function(m){return u.handleEvent(m)}),u[$s])}function gt(){Q.call(this),this.i=new Ir(this),this.M=this,this.F=null}F(gt,Q),gt.prototype[Be]=!0,gt.prototype.removeEventListener=function(u,m,v,E){Bs(this,u,m,v,E)};function yt(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var V=m;m=new fe(E,u),R(m,V)}if(V=!0,v)for(var z=v.length-1;0<=z;z--){var ne=m.g=v[z];V=Ar(ne,E,!0,m)&&V}if(ne=m.g=u,V=Ar(ne,E,!0,m)&&V,V=Ar(ne,E,!1,m)&&V,v)for(z=0;z<v.length;z++)ne=m.g=v[z],V=Ar(ne,E,!1,m)&&V}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)St(v[E]);delete u.g[m],u.h--}}this.F=null},gt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},gt.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Ar(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,z=0;z<m.length;++z){var ne=m[z];if(ne&&!ne.da&&ne.capture==v){var He=ne.listener,vt=ne.ha||ne.src;ne.fa&&Us(u.i,ne),V=He.call(vt,E)!==!1&&V}}return V&&!E.defaultPrevented}function ya(u,m,v){if(typeof u=="function")v&&(u=C(u,v));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function ni(u){u.g=ya(()=>{u.g=null,u.i&&(u.i=!1,ni(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wi extends Q{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(u){Q.call(this),this.h=u,this.g={}}F(Ki,Q);var va=[];function wa(u){Se(u.g,function(m,v){this.g.hasOwnProperty(v)&&Sr(m)},u),u.g={}}Ki.prototype.N=function(){Ki.aa.N.call(this),wa(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=f.JSON.stringify,Ea=f.JSON.parse,Ta=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Gi(){}Gi.prototype.h=null;function Hs(u){return u.h||(u.h=u.i())}function qs(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){fe.call(this,"d")}F(nr,fe);function Ws(){fe.call(this,"c")}F(Ws,fe);var rr={},Ia=null;function Qi(){return Ia=Ia||new gt}rr.La="serverreachability";function Sa(u){fe.call(this,rr.La,u)}F(Sa,fe);function Pr(u){const m=Qi();yt(m,new Sa(m))}rr.STAT_EVENT="statevent";function Ca(u,m){fe.call(this,rr.STAT_EVENT,u),this.stat=m}F(Ca,fe);function lt(u){const m=Qi();yt(m,new Ca(m,u))}rr.Ma="timingevent";function Ks(u,m){fe.call(this,rr.Ma,u),this.size=m}F(Ks,fe);function Fn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Yi(){this.g=!0}Yi.prototype.xa=function(){this.g=!1};function Xi(u,m,v,E,V,z){u.info(function(){if(u.g)if(z)for(var ne="",He=z.split("&"),vt=0;vt<He.length;vt++){var Oe=He[vt].split("=");if(1<Oe.length){var Ct=Oe[0];Oe=Oe[1];var ft=Ct.split("_");ne=2<=ft.length&&ft[1]=="type"?ne+(Ct+"="+Oe+"&"):ne+(Ct+"=redacted&")}}else ne=null;else ne=z;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+m+`
`+v+`
`+ne})}function Gs(u,m,v,E,V,z,ne){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+m+`
`+v+`
`+z+" "+ne})}function Un(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ld(u,v)+(E?" "+E:"")})}function Aa(u,m){u.info(function(){return"TIMEOUT: "+m})}Yi.prototype.info=function(){};function Ld(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ne=1;ne<V.length;ne++)V[ne]=""}}}}return _a(v)}catch{return m}}var Qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function Ji(){}F(Ji,Gi),Ji.prototype.g=function(){return new XMLHttpRequest},Ji.prototype.i=function(){return{}},jn=new Ji;function Bn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tu}function tu(){this.i=null,this.g="",this.h=!1}var Pa={},Ys={};function Xs(u,m,v){u.L=1,u.v=ai(pn(m)),u.m=v,u.P=!0,ka(u,null)}function ka(u,m){u.F=Date.now(),Ge(u),u.A=pn(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),ui(v.i,"t",E),u.C=0,v=u.j.J,u.h=new tu,u.g=wu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Wi(C(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(va[0]=V.toString()),V=va);for(var z=0;z<V.length;z++){var ne=fa(v,V[z],E||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pr(),Xi(u.i,u.u,u.A,u.l,u.R,u.m)}Bn.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)e:{const ft=en(this.g);var m=this.g.Ba();const Pn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||La(this.g)))){this.J||ft!=4||m==7||(m==8||0>=Pn?Pr(3):Pr(2)),Zi(this);var v=this.g.Z();this.X=v;t:if(nu(this)){var E=La(this.g);u="";var V=E.length,z=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),ri(this);var ne="";break t}this.h.i=new f.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(z&&m==V-1)});E.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,Gs(this.i,this.u,this.A,this.l,this.R,ft,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,vt=this.g;if((He=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(He)){var Oe=He;break t}}Oe=null}if(v=Oe)Un(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ra(this,v);else{this.o=!1,this.s=3,lt(12),Cn(this),ri(this);break e}}if(this.P){v=!0;let gn;for(;!this.J&&this.C<ne.length;)if(gn=Od(this,ne),gn==Ys){ft==4&&(this.s=4,lt(14),v=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Pa){this.s=4,lt(15),Un(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else Un(this.i,this.l,gn,null),Ra(this,gn);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||ne.length!=0||this.h.h||(this.s=1,lt(16),v=!1),this.o=this.o&&v,!v)Un(this.i,this.l,ne,"[Invalid Chunked Response]"),Cn(this),ri(this);else if(0<ne.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Va(Ct),Ct.M=!0,lt(11))}}else Un(this.i,this.l,ne,null),Ra(this,ne);ft==4&&Cn(this),this.o&&!this.J&&(ft==4?lo(this.j,this):(this.o=!1,Ge(this)))}else ro(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Cn(this),ri(this)}}}catch{}finally{}};function nu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Od(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?Ys:(v=Number(m.substring(v,E)),isNaN(v)?Pa:(E+=1,E+v>m.length?Ys:(m=m.slice(E,E+v),u.C=E+v,m)))}Bn.prototype.cancel=function(){this.J=!0,Cn(this)};function Ge(u){u.S=Date.now()+u.I,ru(u,u.I)}function ru(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Fn(C(u.ba,u),m)}function Zi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Aa(this.i,this.A),this.L!=2&&(Pr(),lt(17)),Cn(this),this.s=2,ri(this)):ru(this,this.S-u)};function ri(u){u.j.G==0||u.J||lo(u.j,u)}function Cn(u){Zi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,wa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ra(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Qt(v.h,u))){if(!u.K&&Qt(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ao(v),Wn(v);else break e;oo(v),lt(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=Fn(C(v.Za,v),6e3));if(1>=su(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Nr(v,11)}else if((u.K||v.g==u)&&ao(v),!X(m))for(V=v.Da.g.parse(m),m=0;m<V.length;m++){let Oe=V[m];if(v.T=Oe[0],Oe=Oe[1],v.G==2)if(Oe[0]=="c"){v.K=Oe[1],v.ia=Oe[2];const Ct=Oe[3];Ct!=null&&(v.la=Ct,v.j.info("VER="+v.la));const ft=Oe[4];ft!=null&&(v.Aa=ft,v.j.info("SVER="+v.Aa));const Pn=Oe[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(E=1.5*Pn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const gn=u.g;if(gn){const os=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var z=E.h;z.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ba(z,z.h),z.h=null))}if(E.D){const co=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;co&&(E.ya=co,We(E.I,E.D,co))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ne=u;if(E.qa=vu(E,E.J?E.ia:null,E.W),ne.K){ou(E.h,ne);var He=ne,vt=E.L;vt&&(He.I=vt),He.B&&(Zi(He),Ge(He)),E.g=ne}else ss(E);0<v.i.length&&ar(v)}else Oe[0]!="stop"&&Oe[0]!="close"||Nr(v,7);else v.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Nr(v,7):Nt(v):Oe[0]!="noop"&&v.l&&v.l.ta(Oe),v.v=0)}}Pr(4)}catch{}}var iu=class{constructor(u,m){this.g=u,this.map=m}};function es(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function su(u){return u.h?1:u.g?u.g.size:0}function Qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ba(u,m){u.g?u.g.add(m):u.h=m}function ou(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}es.prototype.cancel=function(){if(this.i=au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function au(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return H(u.i)}function Js(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function Zs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function ii(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Zs(u),E=Js(u),V=E.length,z=0;z<V;z++)m.call(void 0,E[z],v&&v[z],u)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vd(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),V=null;if(0<=E){var z=u[v].substring(0,E);V=u[v].substring(E+1)}else z=u[v];m(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function kr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof kr){this.h=u.h,ns(this,u.j),this.o=u.o,this.g=u.g,si(this,u.s),this.l=u.l;var m=u.i,v=new ir;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),oi(this,v),this.m=u.m}else u&&(m=String(u).match(ts))?(this.h=!1,ns(this,m[1]||"",!0),this.o=Ne(m[2]||""),this.g=Ne(m[3]||"",!0),si(this,m[4]),this.l=Ne(m[5]||"",!0),oi(this,m[6]||"",!0),this.m=Ne(m[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}kr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(li(m,eo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(li(m,eo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(li(v,v.charAt(0)=="/"?cu:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",li(v,xa)),u.join("")};function pn(u){return new kr(u)}function ns(u,m,v){u.j=v?Ne(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function si(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function oi(u,m,v){m instanceof ir?(u.i=m,sr(u.i,u.h)):(v||(m=li(m,du)),u.i=new ir(m,u.h))}function We(u,m,v){u.i.set(m,v)}function ai(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ne(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function li(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,lu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var eo=/[#\/\?@]/g,uu=/[#\?:]/g,cu=/[#\?]/g,du=/[#\?@]/g,xa=/#/g;function ir(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xt(u){u.g||(u.g=new Map,u.h=0,u.i&&Vd(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=ir.prototype,n.add=function(u,m){xt(this),this.i=null,u=An(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function zn(u,m){xt(u),m=An(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $n(u,m){return xt(u),m=An(u,m),u.g.has(m)}n.forEach=function(u,m){xt(this),this.g.forEach(function(v,E){v.forEach(function(V){u.call(m,V,E,this)},this)},this)},n.na=function(){xt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const V=u[E];for(let z=0;z<V.length;z++)v.push(m[E])}return v},n.V=function(u){xt(this);let m=[];if(typeof u=="string")$n(this,u)&&(m=m.concat(this.g.get(An(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return xt(this),this.i=null,u=An(this,u),$n(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ui(u,m,v){zn(u,m),0<v.length&&(u.i=null,u.g.set(An(u,m),H(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const z=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var V=z;ne[E]!==""&&(V+="="+encodeURIComponent(String(ne[E]))),u.push(V)}}return this.i=u.join("&")};function An(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sr(u,m){m&&!u.j&&(xt(u),u.i=null,u.g.forEach(function(v,E){var V=E.toLowerCase();E!=V&&(zn(this,E),ui(this,V,v))},u)),u.j=m}function Md(u,m){const v=new Yi;if(f.Image){const E=new Image;E.onload=D(Zt,v,"TestLoadImage: loaded",!0,m,E),E.onerror=D(Zt,v,"TestLoadImage: error",!1,m,E),E.onabort=D(Zt,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=D(Zt,v,"TestLoadImage: timeout",!1,m,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function hu(u,m){const v=new Yi,E=new AbortController,V=setTimeout(()=>{E.abort(),Zt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(z=>{clearTimeout(V),z.ok?Zt(v,"TestPingServer: ok",!0,m):Zt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),Zt(v,"TestPingServer: error",!1,m)})}function Zt(u,m,v,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(v)}catch{}}function Fd(){this.g=new Ta}function fu(u,m,v){const E=v||"";try{ii(u,function(V,z){let ne=V;y(V)&&(ne=_a(V)),m.push(E+z+"="+encodeURIComponent(ne))})}catch(V){throw m.push(E+"type="+encodeURIComponent("_badmap")),V}}function Rr(u){this.l=u.Ub||null,this.j=u.eb||!1}F(Rr,Gi),Rr.prototype.g=function(){return new rs(this.l,this.j)},Rr.prototype.i=function(u){return function(){return u}}({});function rs(u,m){gt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(rs,gt),n=rs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,qn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function pu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):qn(this),this.readyState==3&&pu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},n.Qa=function(u){this.g&&(this.response=u,Hn(this))},n.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,qn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function br(u){let m="";return Se(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function ci(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=br(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):We(u,m,v))}function Ze(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Ze,gt);var Ud=/^https?$/i,Na=["POST","PUT"];n=Ze.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?Hs(this.o):Hs(jn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){is(this,z);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)v.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())v.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(z=>z.toLowerCase()=="content-type"),V=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Na,m,void 0))||E||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ne]of v)this.g.setRequestHeader(z,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{no(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){is(this,z)}};function is(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,to(u),mn(u)}function to(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},n.bb=function(){Da(this)};function Da(u){if(u.h&&typeof d<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)ya(u.Ea,0,u);else if(yt(u,"readystatechange"),en(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ne===0){var V=String(u.D).match(ts)[1]||null;!V&&f.self&&f.self.location&&(V=f.self.location.protocol.slice(0,-1)),E=!Ud.test(V?V.toLowerCase():"")}v=E}if(v)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var z=2<en(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",to(u)}}finally{mn(u)}}}}function mn(u,m){if(u.g){no(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||yt(u,"ready");try{v.onreadystatechange=E}catch{}}}function no(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ea(m)}};function La(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ro(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(X(u[E]))continue;var v=N(u[E]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const z=m[V]||[];m[V]=z,z.push(v)}b(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Oa(u){this.Aa=0,this.i=[],this.j=new Yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,u),this.cb=or("retryDelaySeedMs",1e4,u),this.Wa=or("forwardChannelMaxRetries",2,u),this.wa=or("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new es(u&&u.concurrentRequestLimit),this.Da=new Fd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Oa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){lt(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=vu(this,null,this.W),ar(this)};function Nt(u){if(io(u),u.G==3){var m=u.U++,v=pn(u.I);if(We(v,"SID",u.K),We(v,"RID",m),We(v,"TYPE","terminate"),xr(u,v),m=new Bn(u,u.j,m),m.L=2,m.v=ai(pn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ge(m)}yu(u)}function Wn(u){u.g&&(Va(u),u.g.cancel(),u.g=null)}function io(u){Wn(u),u.u&&(f.clearTimeout(u.u),u.u=null),ao(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ar(u){if(!fn(u.h)&&!u.s){u.s=!0;var m=u.Ga;qe||oe(),re||(qe(),re=!0),pe.add(m,u),u.B=0}}function jd(u,m){return su(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Fn(C(u.Ga,u,m),gu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Bn(this,this.j,u);let z=this.o;if(this.S&&(z?(z=T(z),R(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=di(this,V,m),v=pn(this.I),We(v,"RID",u),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),xr(this,v),z&&(this.O?m="headers="+encodeURIComponent(String(br(z)))+"&"+m:this.m&&ci(v,this.m,z)),ba(this.h,V),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",m),We(v,"SID","null"),V.T=!0,Xs(V,v,null)):Xs(V,v,m),this.G=2}}else this.G==3&&(u?so(this,u):this.i.length==0||fn(this.h)||so(this))};function so(u,m){var v;m?v=m.l:v=u.U++;const E=pn(u.I);We(E,"SID",u.K),We(E,"RID",v),We(E,"AID",u.T),xr(u,E),u.m&&u.o&&ci(E,u.m,u.o),v=new Bn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=di(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ba(u.h,v),Xs(v,E,m)}function xr(u,m){u.H&&Se(u.H,function(v,E){We(m,E,v)}),u.l&&ii({},function(v,E){We(m,E,v)})}function di(u,m,v){v=Math.min(u.i.length,v);var E=u.l?C(u.l.Na,u.l,u):null;e:{var V=u.i;let z=-1;for(;;){const ne=["count="+v];z==-1?0<v?(z=V[0].g,ne.push("ofs="+z)):z=0:ne.push("ofs="+z);let He=!0;for(let vt=0;vt<v;vt++){let Oe=V[vt].g;const Ct=V[vt].map;if(Oe-=z,0>Oe)z=Math.max(0,V[vt].g-100),He=!1;else try{fu(Ct,ne,"req"+Oe+"_")}catch{E&&E(Ct)}}if(He){E=ne.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function ss(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;qe||oe(),re||(qe(),re=!0),pe.add(m,u),u.v=0}}function oo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Fn(C(u.Fa,u),gu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Fn(C(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Wn(this),mu(this))};function Va(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function mu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=pn(u.qa);We(m,"RID","rpc"),We(m,"SID",u.K),We(m,"AID",u.T),We(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(m,"TO",u.ja),We(m,"TYPE","xmlhttp"),xr(u,m),u.m&&u.o&&ci(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ai(pn(m)),v.m=null,v.P=!0,ka(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Wn(this),oo(this),lt(19))};function ao(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function lo(u,m){var v=null;if(u.g==m){ao(u),Va(u),u.g=null;var E=2}else if(Qt(u.h,m))v=m.D,ou(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var V=u.B;E=Qi(),yt(E,new Ks(E,v)),ar(u)}else ss(u);else if(V=m.s,V==3||V==0&&0<m.X||!(E==1&&jd(u,m)||E==2&&oo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),V){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function gu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Nr(u,m){if(u.j.info("Error code "+m),m==2){var v=C(u.fb,u),E=u.Xa;const V=!E;E=new kr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ns(E,"https"),ai(E),V?Md(E.toString(),v):hu(E.toString(),v)}else lt(2);u.G=0,u.l&&u.l.sa(m),yu(u),io(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function yu(u){if(u.G=0,u.ka=[],u.l){const m=au(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.ra()}}function vu(u,m,v){var E=v instanceof kr?pn(v):new kr(v);if(E.g!="")m&&(E.g=m+"."+E.g),si(E,E.s);else{var V=f.location;E=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var z=new kr(null);E&&ns(z,E),m&&(z.g=m),V&&si(z,V),v&&(z.l=v),E=z}return v=u.D,m=u.ya,v&&m&&We(E,v,m),We(E,"VER",u.la),xr(u,E),E}function wu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ze(new Rr({eb:v})):new Ze(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ma(){}n=Ma.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function uo(){}uo.prototype.g=function(u,m){return new Yt(u,m)};function Yt(u,m){gt.call(this),this.g=new Oa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!X(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!X(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new lr(this)}F(Yt,gt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Nt(this.g)},Yt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=_a(u),u=v);m.i.push(new iu(m.Ya++,u)),m.G==3&&ar(m)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Yt.aa.N.call(this)};function _u(u){nr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(_u,nr);function Eu(){Ws.call(this),this.status=1}F(Eu,Ws);function lr(u){this.g=u}F(lr,Ma),lr.prototype.ua=function(){yt(this.g,"a")},lr.prototype.ta=function(u){yt(this.g,new _u(u))},lr.prototype.sa=function(u){yt(this.g,new Eu)},lr.prototype.ra=function(){yt(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,Rw=function(){return new uo},kw=function(){return Qi()},Pw=rr,Nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,Ic=Qs,eu.COMPLETE="complete",Aw=eu,qs.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,hl=qs,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Cw=Ze}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const By="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new sp("@firebase/firestore");function No(){return As.logLevel}function ae(n,...e){if(As.logLevel<=be.DEBUG){const t=e.map(lp);As.debug(`Firestore (${na}): ${n}`,...t)}}function Qr(n,...e){if(As.logLevel<=be.ERROR){const t=e.map(lp);As.error(`Firestore (${na}): ${n}`,...t)}}function qo(n,...e){if(As.logLevel<=be.WARN){const t=e.map(lp);As.warn(`Firestore (${na}): ${n}`,...t)}}function lp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function $e(n,e){n||Te()}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class LI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OI{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string"),new bw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new qt(e)}}class VI{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MI{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new VI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){$e(this.o===void 0);const i=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new FI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=jI(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function De(n,e){return n<e?-1:n>e?1:0}function Wo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Tt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Tt(0,0))}static max(){return new Ie(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return El.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ot extends El{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends El{construct(e,t,i){return new Vt(e,t,i)}static isValidIdentifier(e){return BI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ve(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ve(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(d=!d,o++):f!=="."||d?(i+=f,o++):(l(),o++)}if(l(),d)throw new ve(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ot.fromString(e))}static fromName(e){return new we(ot.fromString(e).popFirst(5))}static empty(){return new we(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ot(e.slice()))}}function zI(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new Tt(t+1,0):new Tt(t,i));return new Fi(o,we.empty(),e)}function $I(n){return new Fi(n.readTime,n.key,-1)}class Fi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Fi(Ie.min(),we.empty(),-1)}static max(){return new Fi(Ie.max(),we.empty(),-1)}}function HI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==qI)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,i)=>{t(e)})}static reject(e){return new K((t,i)=>{i(e)})}static waitFor(e){return new K((t,i)=>{let o=0,l=0,d=!1;e.forEach(f=>{++o,f.next(()=>{++l,d&&l===o&&t()},p=>i(p))}),d=!0,l===o&&t()})}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next(o=>o?K.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new K((i,o)=>{const l=e.length,d=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{d[y]=_,++f,f===l&&i(d)},_=>o(_))}})}static doWhile(e,t){return new K((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function KI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ia(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hd.oe=-1;function fd(n){return n==null}function Fc(n){return n===0&&1/n==-1/0}function GI(n){return typeof n=="number"&&Number.isInteger(n)&&!Fc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zy(e)),e=YI(n.get(t),e);return zy(e)}function YI(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function zy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Nw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gc(this.root,e,this.comparator,!0)}}class gc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hy(this.data.getIterator())}getIteratorFrom(e){return new Hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new It(Vt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Dw("Invalid base64 string: "+l):l}}(e);return new Mt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const XI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(n){if($e(!!n),typeof n=="string"){let e=0;const t=XI.exec(n);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ji(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function pd(n){const e=n.mapValue.fields.__previous_value__;return up(e)?pd(e):e}function Tl(n){const e=Ui(n.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t,i,o,l,d,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class Il{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?up(n)?4:eS(n)?9007199254740991:ZI(n)?10:11:Te()}function wr(n,e){if(n===e)return!0;const t=Bi(n);if(t!==Bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tl(n).isEqual(Tl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Ui(o.timestampValue),f=Ui(l.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return ji(o.bytesValue).isEqual(ji(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return dt(o.geoPointValue.latitude)===dt(l.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return dt(o.integerValue)===dt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=dt(o.doubleValue),f=dt(l.doubleValue);return d===f?Fc(d)===Fc(f):isNaN(d)&&isNaN(f)}return!1}(n,e);case 9:return Wo(n.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(o,l){const d=o.mapValue.fields||{},f=l.mapValue.fields||{};if($y(d)!==$y(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(f[p]===void 0||!wr(d[p],f[p])))return!1;return!0}(n,e);default:return Te()}}function Sl(n,e){return(n.values||[]).find(t=>wr(t,e))!==void 0}function Ko(n,e){if(n===e)return 0;const t=Bi(n),i=Bi(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(l,d){const f=dt(l.integerValue||l.doubleValue),p=dt(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return qy(n.timestampValue,e.timestampValue);case 4:return qy(Tl(n),Tl(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(l,d){const f=ji(l),p=ji(d);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const f=l.split("/"),p=d.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=De(f[y],p[y]);if(_!==0)return _}return De(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const f=De(dt(l.latitude),dt(d.latitude));return f!==0?f:De(dt(l.longitude),dt(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Wy(n.arrayValue,e.arrayValue);case 10:return function(l,d){var f,p,y,_;const I=l.fields||{},C=d.fields||{},D=(f=I.value)===null||f===void 0?void 0:f.arrayValue,F=(p=C.value)===null||p===void 0?void 0:p.arrayValue,H=De(((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0,((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0);return H!==0?H:Wy(D,F)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===yc.mapValue&&d===yc.mapValue)return 0;if(l===yc.mapValue)return 1;if(d===yc.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=d.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let I=0;I<p.length&&I<_.length;++I){const C=De(p[I],_[I]);if(C!==0)return C;const D=Ko(f[p[I]],y[_[I]]);if(D!==0)return D}return De(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Te()}}function qy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Ui(n),i=Ui(e),o=De(t.seconds,i.seconds);return o!==0?o:De(t.nanos,i.nanos)}function Wy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Ko(t[o],i[o]);if(l)return l}return De(t.length,i.length)}function Go(n){return Df(n)}function Df(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ui(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ji(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Df(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of i)l?l=!1:o+=",",o+=`${d}:${Df(t.fields[d])}`;return o+"}"}(n.mapValue):Te()}function Sc(n){switch(Bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pd(n);return e?16+Sc(e):16;case 5:return 2*n.stringValue.length;case 6:return ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Sc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return xs(i.fields,(l,d)=>{o+=l.length+Sc(d)}),o}(n.mapValue);default:throw Te()}}function Lf(n){return!!n&&"integerValue"in n}function cp(n){return!!n&&"arrayValue"in n}function Ky(n){return!!n&&"nullValue"in n}function Gy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cc(n){return!!n&&"mapValue"in n}function ZI(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ml(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ml(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ml(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Cc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(t)}setAll(e){let t=Vt.emptyPath(),i={},o=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}d?i[f.lastSegment()]=ml(d):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Cc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){xs(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Ln(ml(this.value))}}function Lw(n){const e=[];return xs(n.fields,(t,i)=>{const o=new Vt([t]);if(Cc(i)){const l=Lw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,l,d,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=d,this.documentState=f}static newInvalidDocument(e){return new Wt(e,0,Ie.min(),Ie.min(),Ie.min(),Ln.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ie.min(),Ie.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ie.min(),Ie.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.position=e,this.inclusive=t}}function Qy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(l.field.isKeyField()?i=we.comparator(we.fromName(d.referenceValue),t.key):i=Ko(d,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Yy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function tS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{}class Et extends Ow{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new rS(e,t,i):t==="array-contains"?new oS(e,i):t==="in"?new aS(e,i):t==="not-in"?new lS(e,i):t==="array-contains-any"?new uS(e,i):new Et(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new iS(e,i):new sS(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ko(t,this.value)):t!==null&&Bi(this.value)===Bi(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends Ow{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _r(e,t)}matches(e){return Vw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Vw(n){return n.op==="and"}function Mw(n){return nS(n)&&Vw(n)}function nS(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function Of(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+Go(n.value);if(Mw(n))return n.filters.map(e=>Of(e)).join(",");{const e=n.filters.map(t=>Of(t)).join(",");return`${n.op}(${e})`}}function Fw(n,e){return n instanceof Et?function(i,o){return o instanceof Et&&i.op===o.op&&i.field.isEqual(o.field)&&wr(i.value,o.value)}(n,e):n instanceof _r?function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,d,f)=>l&&Fw(d,o.filters[f]),!0):!1}(n,e):void Te()}function Uw(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${Go(t.value)}`}(n):n instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(Uw).join(" ,")+"}"}(n):"Filter"}class rS extends Et{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class iS extends Et{constructor(e,t){super(e,"in",t),this.keys=jw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sS extends Et{constructor(e,t){super(e,"not-in",t),this.keys=jw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class oS extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cp(t)&&Sl(t.arrayValue,this.value)}}class aS extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sl(this.value.arrayValue,t)}}class lS extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Sl(this.value.arrayValue,t)}}class uS extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Sl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,t=null,i=[],o=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=d,this.endAt=f,this.ue=null}}function Xy(n,e=null,t=[],i=[],o=null,l=null,d=null){return new cS(n,e,t,i,o,l,d)}function dp(n){const e=Ce(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Of(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),fd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Go(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Go(i)).join(",")),e.ue=t}return e.ue}function hp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Fw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yy(n.startAt,e.startAt)&&Yy(n.endAt,e.endAt)}function Vf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t=null,i=[],o=[],l=null,d="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function dS(n,e,t,i,o,l,d,f){return new md(n,e,t,i,o,l,d,f)}function fp(n){return new md(n)}function Jy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hS(n){return n.collectionGroup!==null}function gl(n){const e=Ce(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new It(Vt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new jc(l,i))}),t.has(Vt.keyField().canonicalString())||e.ce.push(new jc(Vt.keyField(),i))}return e.ce}function mr(n){const e=Ce(n);return e.le||(e.le=fS(e,gl(n))),e.le}function fS(n,e){if(n.limitType==="F")return Xy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new jc(o.field,l)});const t=n.endAt?new Uc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Uc(n.startAt.position,n.startAt.inclusive):null;return Xy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Mf(n,e,t){return new md(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gd(n,e){return hp(mr(n),mr(e))&&n.limitType===e.limitType}function Bw(n){return`${dp(mr(n))}|lt:${n.limitType}`}function Do(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Uw(o)).join(", ")}]`),fd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Go(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Go(o)).join(",")),`Target(${i})`}(mr(n))}; limitType=${n.limitType})`}function yd(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of gl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(d,f,p){const y=Qy(d,f,p);return d.inclusive?y<=0:y<0}(i.startAt,gl(i),o)||i.endAt&&!function(d,f,p){const y=Qy(d,f,p);return d.inclusive?y>=0:y>0}(i.endAt,gl(i),o))}(n,e)}function pS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zw(n){return(e,t)=>{let i=!1;for(const o of gl(n)){const l=mS(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function mS(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,d,f){const p=d.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Ko(p,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new it(we.comparator);function Yr(){return gS}const $w=new it(we.comparator);function fl(...n){let e=$w;for(const t of n)e=e.insert(t.key,t);return e}function Hw(n){let e=$w;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Es(){return yl()}function qw(){return yl()}function yl(){return new Ns(n=>n.toString(),(n,e)=>n.isEqual(e))}const yS=new it(we.comparator),vS=new It(we.comparator);function xe(...n){let e=vS;for(const t of n)e=e.add(t);return e}const wS=new It(De);function _S(){return wS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function Ww(n){return{integerValue:""+n}}function ES(n,e){return GI(e)?Ww(e):pp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this._=void 0}}function TS(n,e,t){return n instanceof Bc?function(o,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&up(l)&&(l=pd(l)),l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):n instanceof Cl?Gw(n,e):n instanceof Al?Qw(n,e):function(o,l){const d=Kw(o,l),f=Zy(d)+Zy(o.Pe);return Lf(d)&&Lf(o.Pe)?Ww(f):pp(o.serializer,f)}(n,e)}function IS(n,e,t){return n instanceof Cl?Gw(n,e):n instanceof Al?Qw(n,e):t}function Kw(n,e){return n instanceof zc?function(i){return Lf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Bc extends vd{}class Cl extends vd{constructor(e){super(),this.elements=e}}function Gw(n,e){const t=Yw(e);for(const i of n.elements)t.some(o=>wr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Al extends vd{constructor(e){super(),this.elements=e}}function Qw(n,e){let t=Yw(e);for(const i of n.elements)t=t.filter(o=>!wr(o,i));return{arrayValue:{values:t}}}class zc extends vd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Zy(n){return dt(n.integerValue||n.doubleValue)}function Yw(n){return cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function SS(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Cl&&o instanceof Cl||i instanceof Al&&o instanceof Al?Wo(i.elements,o.elements,wr):i instanceof zc&&o instanceof zc?wr(i.Pe,o.Pe):i instanceof Bc&&o instanceof Bc}(n.transform,e.transform)}class CS{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class wd{}function Xw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zw(n.key,Hr.none()):new Ll(n.key,n.data,Hr.none());{const t=n.data,i=Ln.empty();let o=new It(Vt.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?i.delete(l):i.set(l,d),o=o.add(l)}return new Ds(n.key,i,new Zn(o.toArray()),Hr.none())}}function AS(n,e,t){n instanceof Ll?function(o,l,d){const f=o.value.clone(),p=tv(o.fieldTransforms,l,d.transformResults);f.setAll(p),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ds?function(o,l,d){if(!Ac(o.precondition,l))return void l.convertToUnknownDocument(d.version);const f=tv(o.fieldTransforms,l,d.transformResults),p=l.data;p.setAll(Jw(o)),p.setAll(f),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function vl(n,e,t,i){return n instanceof Ll?function(l,d,f,p){if(!Ac(l.precondition,d))return f;const y=l.value.clone(),_=nv(l.fieldTransforms,p,d);return y.setAll(_),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ds?function(l,d,f,p){if(!Ac(l.precondition,d))return f;const y=nv(l.fieldTransforms,p,d),_=d.data;return _.setAll(Jw(l)),_.setAll(y),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(n,e,t,i):function(l,d,f){return Ac(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f}(n,e,t)}function PS(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Kw(i.transform,o||null);l!=null&&(t===null&&(t=Ln.empty()),t.set(i.field,l))}return t||null}function ev(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Wo(i,o,(l,d)=>SS(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ll extends wd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends wd{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function tv(n,e,t){const i=new Map;$e(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,f=e.data.field(l.field);i.set(l.field,IS(d,f,t[o]))}return i}function nv(n,e,t){const i=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);i.set(o.field,TS(l,d,e))}return i}class Zw extends wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kS extends wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&AS(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=vl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=vl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=qw();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=t.has(o.key)?null:f;const p=Xw(d,f);p!==null&&i.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(t,i)=>ev(t,i))&&Wo(this.baseMutations,e.baseMutations,(t,i)=>ev(t,i))}}class mp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){$e(e.mutations.length===i.length);let o=function(){return yS}();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,i[d].version);return new mp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Ve;function NS(n){switch(n){default:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function e_(n){if(n===void 0)return Qr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case mt.OK:return ee.OK;case mt.CANCELLED:return ee.CANCELLED;case mt.UNKNOWN:return ee.UNKNOWN;case mt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case mt.INTERNAL:return ee.INTERNAL;case mt.UNAVAILABLE:return ee.UNAVAILABLE;case mt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case mt.NOT_FOUND:return ee.NOT_FOUND;case mt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case mt.ABORTED:return ee.ABORTED;case mt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case mt.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Ve=mt||(mt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=new Is([4294967295,4294967295],0);function rv(n){const e=DS().encode(n),t=new Sw;return t.update(e),new Uint8Array(t.digest())}function iv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Is([t,i],0),new Is([o,l],0)]}class gp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new pl(`Invalid padding: ${t}`);if(i<0)throw new pl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new pl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Is.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Is.fromNumber(i)));return o.compare(LS)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=rv(e),[i,o]=iv(t);for(let l=0;l<this.hashCount;l++){const d=this.Ee(i,o,l);if(!this.de(d))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new gp(l,o,t);return i.forEach(f=>d.insert(f)),d}insert(e){if(this.Te===0)return;const t=rv(e),[i,o]=iv(t);for(let l=0;l<this.hashCount;l++){const d=this.Ee(i,o,l);this.Ae(d)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new _d(Ie.min(),o,new it(De),Yr(),xe())}}class Ol{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ol(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class t_{constructor(e,t){this.targetId=e,this.me=t}}class n_{constructor(e,t,i=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class sv{constructor(){this.fe=0,this.ge=ov(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),i=xe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new Ol(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=ov()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yr(),this.qe=vc(),this.Qe=vc(),this.Ke=new it(De)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Vf(l))if(i===0){const d=new we(l.path);this.We(t,d,Wt.newNoDocument(d,Ie.min()))}else $e(i===1);else{const d=this.Ze(t);if(d!==i){const f=this.Xe(e),p=f?this.et(f,e,d):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let d,f;try{d=ji(i).toUint8Array()}catch(p){if(p instanceof Dw)return qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new gp(d,o,l)}catch(p){return qo(p instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const d=this.Le.nt(),f=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,d)=>{const f=this.Ye(d);if(f){if(l.current&&Vf(f.target)){const p=new we(f.target.path);this.st(p).has(d)||this.ot(d,p)||this.We(d,p,Wt.newNoDocument(p,e))}l.be&&(t.set(d,l.ve()),l.Ce())}});let i=xe();this.Qe.forEach((l,d)=>{let f=!0;d.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,d)=>d.setReadTime(e));const o=new _d(e,t,this.Ke,this.ke,i);return this.ke=Yr(),this.qe=vc(),this.Qe=vc(),this.Ke=new it(De),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new sv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new It(De),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new It(De),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new sv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function vc(){return new it(we.comparator)}function ov(){return new it(we.comparator)}const VS={asc:"ASCENDING",desc:"DESCENDING"},MS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FS={and:"AND",or:"OR"};class US{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ff(n,e){return n.useProto3Json||fd(e)?e:{value:e}}function $c(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jS(n,e){return $c(n,e.toTimestamp())}function gr(n){return $e(!!n),Ie.fromTimestamp(function(t){const i=Ui(t);return new Tt(i.seconds,i.nanos)}(n))}function yp(n,e){return Uf(n,e).canonicalString()}function Uf(n,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function i_(n){const e=ot.fromString(n);return $e(u_(e)),e}function jf(n,e){return yp(n.databaseId,e.path)}function yf(n,e){const t=i_(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(o_(t))}function s_(n,e){return yp(n.databaseId,e)}function BS(n){const e=i_(n);return e.length===4?ot.emptyPath():o_(e)}function Bf(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function o_(n){return $e(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function av(n,e,t){return{name:jf(n,e),fields:t.value.mapValue.fields}}function zS(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?($e(_===void 0||typeof _=="string"),Mt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Mt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const _=y.code===void 0?ee.UNKNOWN:e_(y.code);return new ve(_,y.message||"")}(d);t=new n_(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=yf(n,i.document.name),l=gr(i.document.updateTime),d=i.document.createTime?gr(i.document.createTime):Ie.min(),f=new Ln({mapValue:{fields:i.document.fields}}),p=Wt.newFoundDocument(o,l,d,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new Pc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=yf(n,i.document),l=i.readTime?gr(i.readTime):Ie.min(),d=Wt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Pc([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=yf(n,i.document),l=i.removedTargetIds||[];t=new Pc([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,d=new xS(o,l),f=i.targetId;t=new t_(f,d)}}return t}function $S(n,e){let t;if(e instanceof Ll)t={update:av(n,e.key,e.value)};else if(e instanceof Zw)t={delete:jf(n,e.key)};else if(e instanceof Ds)t={update:av(n,e.key,e.data),updateMask:JS(e.fieldMask)};else{if(!(e instanceof kS))return Te();t={verify:jf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,d){const f=d.transform;if(f instanceof Bc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Cl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Al)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zc)return{fieldPath:d.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:jS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function HS(n,e){return n&&n.length>0?($e(e!==void 0),n.map(t=>function(o,l){let d=o.updateTime?gr(o.updateTime):gr(l);return d.isEqual(Ie.min())&&(d=gr(l)),new CS(d,o.transformResults||[])}(t,e))):[]}function qS(n,e){return{documents:[s_(n,e.path)]}}function WS(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=s_(n,o);const l=function(y){if(y.length!==0)return l_(_r.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(y){if(y.length!==0)return y.map(_=>function(C){return{field:Lo(C.field),direction:QS(C.dir)}}(_))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=Ff(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function KS(n){let e=BS(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){$e(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(I){const C=a_(I);return C instanceof _r&&Mw(C)?C.getFilters():[C]}(t.where));let d=[];t.orderBy&&(d=function(I){return I.map(C=>function(F){return new jc(Oo(F.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(C))}(t.orderBy));let f=null;t.limit&&(f=function(I){let C;return C=typeof I=="object"?I.value:I,fd(C)?null:C}(t.limit));let p=null;t.startAt&&(p=function(I){const C=!!I.before,D=I.values||[];return new Uc(D,C)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const C=!I.before,D=I.values||[];return new Uc(D,C)}(t.endAt)),dS(e,o,d,l,f,"F",p,y)}function GS(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function a_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Oo(t.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(t.unaryFilter.field);return Et.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Oo(t.unaryFilter.field);return Et.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return Et.create(Oo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(i=>a_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function QS(n){return VS[n]}function YS(n){return MS[n]}function XS(n){return FS[n]}function Lo(n){return{fieldPath:n.canonicalString()}}function Oo(n){return Vt.fromServerFormat(n.fieldPath)}function l_(n){return n instanceof Et?function(t){if(t.op==="=="){if(Gy(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(Ky(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Gy(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(Ky(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:YS(t.op),value:t.value}}}(n):n instanceof _r?function(t){const i=t.getFilters().map(o=>l_(o));return i.length===1?i[0]:{compositeFilter:{op:XS(t.op),filters:i}}}(n):Te()}function JS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,t,i,o,l=Ie.min(),d=Ie.min(),f=Mt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.ht=e}}function eC(n){const e=KS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.ln=new nC}addToCollectionParentIndex(e,t){return this.ln.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Fi.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class nC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new It(ot.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new It(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Qo(0)}static Qn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv([n,e],[t,i]){const o=De(n,t);return o===0?De(e,i):o}class rC{constructor(e){this.Gn=e,this.buffer=new It(uv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();uv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ia(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ra(t)}await this.Yn(3e5)})}}class sC{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return K.resolve(hd.oe);const i=new rC(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(lv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,d,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,f=Date.now(),this.removeTargets(e,i,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),No()<=be.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${o} in `+(f-d)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function oC(n,e){return new sC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.changes=new Ns(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&vl(i.mutation,o,Zn.empty(),Tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xe()){const o=Es();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let d=fl();return l.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=Es();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,i,o){let l=Yr();const d=yl(),f=function(){return yl()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Ds)?l=l.insert(y.key,y):_!==void 0?(d.set(y.key,_.mutation.getFieldMask()),vl(_.mutation,y,_.mutation.getFieldMask(),Tt.now())):d.set(y.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>d.set(y,_)),t.forEach((y,_)=>{var I;return f.set(y,new lC(_,(I=d.get(y))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const i=yl();let o=new it((d,f)=>d-f),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||Zn.empty();_=f.applyToLocalView(y,_),i.set(p,_);const I=(o.get(f.batchId)||xe()).add(p);o=o.insert(f.batchId,I)})}).next(()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,I=qw();_.forEach(C=>{if(!l.has(C)){const D=Xw(t.get(C),i.get(C));D!==null&&I.set(C,D),l=l.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,I))}return K.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(d){return we.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):K.resolve(Es());let f=-1,p=l;return d.next(y=>K.forEach(y,(_,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),l.get(_)?K.resolve():this.remoteDocumentCache.getEntry(e,_).next(C=>{p=p.insert(_,C)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,xe())).next(_=>({batchId:f,changes:Hw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=fl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let d=fl();return this.indexManager.getCollectionParents(e,l).next(f=>K.forEach(f,p=>{const y=function(I,C){return new md(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((I,C)=>{d=d.insert(I,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(d=>{l.forEach((p,y)=>{const _=y.getKey();d.get(_)===null&&(d=d.insert(_,Wt.newInvalidDocument(_)))});let f=fl();return d.forEach((p,y)=>{const _=l.get(p);_!==void 0&&vl(_.mutation,y,Zn.empty(),Tt.now()),yd(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return K.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:eC(o.bundledQuery),readTime:gr(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.overlays=new it(we.comparator),this.Er=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Es();return K.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),K.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const o=Es(),l=t.length+1,d=new we(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new it((y,_)=>y-_);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Es(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=Es(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=o)););return K.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new bS(t,i));let l=this.Er.get(t);l===void 0&&(l=xe(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.dr=new It(Rt.Ar),this.Rr=new It(Rt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Rt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Rt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new we(new ot([])),i=new Rt(t,e),o=new Rt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],d=>{this.gr(d),l.push(d.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new ot([])),i=new Rt(t,e),o=new Rt(t,e+1);let l=xe();return this.Rr.forEachInRange([i,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Rt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||De(e.br,t.br)}static Vr(e,t){return De(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new It(Rt.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new RS(l,t,i,o);this.mutationQueue.push(d);for(const f of o)this.vr=this.vr.add(new Rt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,t){return K.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],d=>{const f=this.Cr(d.br);l.push(f)}),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new It(De);return t.forEach(o=>{const l=new Rt(o,0),d=new Rt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,d],f=>{i=i.add(f.br)})}),K.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const d=new Rt(new we(l),0);let f=new It(De);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},d),K.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return K.forEach(t.mutations,o=>{const l=new Rt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Rt(t,0),o=this.vr.firstAfterOrEqual(i);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.Nr=e,this.docs=function(){return new it(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,d=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Yr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Wt.newInvalidDocument(o))}),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Yr();const d=t.path,f=new we(d.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||HI($I(_),i)<=0||(o.has(_.key)||yd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Lr(e,t){return K.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new mC(this)}getSize(e){return K.resolve(this.size)}}class mC extends aC{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),K.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.persistence=e,this.Br=new Ns(t=>dp(t),hp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new vp,this.targetCount=0,this.Qr=Qo.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),K.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Qo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Un(t),K.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((d,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),K.waitFor(l).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new hd(0),this.Ur=!1,this.Ur=!0,this.Wr=new hC,this.referenceDelegate=e(this),this.Gr=new gC(this),this.indexManager=new tC,this.remoteDocumentCache=function(o){return new pC(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new ZS(t),this.jr=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new fC(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new yC(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return K.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class yC extends WI{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.Zr=new vp,this.Xr=null}static ei(e){return new wp(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),K.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,i=>{const o=we.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return K.or([()=>K.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Hc{constructor(e,t){this.persistence=e,this.ri=new Ns(i=>QI(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=oC(this,t)}static ei(e,t){return new Hc(e,t)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return K.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?K.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,d=>this.ir(e,d,t).next(f=>{f||(i++,l.removeEntry(d,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sc(e.data.value)),t}ir(e,t,i){return K.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return K.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new _p(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return p1()?8:KI(Kt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new vC;return this.ts(e,t,d).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,d,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(No()<=be.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(No()<=be.DEBUG&&ae("QueryEngine","Query:",Do(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(No()<=be.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):K.resolve())}Xi(e,t){if(Jy(t))return K.resolve(null);let i=mr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Mf(t,null,"F"),i=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const d=xe(...l);return this.Zi.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,f);return this.ss(t,y,d,p.readTime)?this.Xi(e,Mf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Jy(t)||o.isEqual(Ie.min())?K.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const d=this.rs(t,l);return this.ss(t,d,i,o)?K.resolve(null):(No()<=be.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(t)),this.os(e,d,t,zI(o,-1)).next(f=>f))})}rs(e,t){let i=new It(zw(e));return t.forEach((o,l)=>{yd(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return No()<=be.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Do(t)),this.Zi.getDocumentsMatchingQuery(e,t,Fi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new it(De),this.cs=new Ns(l=>dp(l),hp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uC(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function EC(n,e,t,i){return new _C(n,e,t,i)}async function d_(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const d=[],f=[];let p=xe();for(const y of o){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:d,addedBatchIds:f}))})})}function TC(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,_){const I=y.batch,C=I.keys();let D=K.resolve();return C.forEach(F=>{D=D.next(()=>_.getEntry(p,F)).next(H=>{const j=y.docVersions.get(F);$e(j!==null),H.version.compareTo(j)<0&&(I.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),_.addEntry(H)))})}),D.next(()=>f.mutationQueue.removeMutationBatch(p,I))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=xe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function h_(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function IC(n,e){const t=Ce(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((_,I)=>{const C=o.get(I);if(!C)return;f.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,I)));let D=C.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?D=D.withResumeToken(Mt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),o=o.insert(I,D),function(H,j,G){return H.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(C,D,_)&&f.push(t.Gr.updateTargetData(l,D))});let p=Yr(),y=xe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(SC(l,d,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Ie.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(I=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return K.waitFor(f).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function SC(n,e,t){let i=xe(),o=xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let d=Yr();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),d=d.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(f,p)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:d,Es:o}})}function CC(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function AC(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,K.resolve(o)):t.Gr.allocateTargetId(i).next(d=>(o=new xi(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function zf(n,e,t){const i=Ce(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ia(d))throw d;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function cv(n,e,t){const i=Ce(n);let o=Ie.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,_){const I=Ce(p),C=I.cs.get(_);return C!==void 0?K.resolve(I.us.get(C)):I.Gr.getTargetData(y,_)}(i,d,mr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(d,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(d,e,t?o:Ie.min(),t?l:xe())).next(f=>(PC(i,pS(e),f),{documents:f,ds:l})))}function PC(n,e,t){let i=n.ls.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class dv{constructor(){this.activeTargetIds=_S()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kC{constructor(){this._o=new dv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new dv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function vf(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class NC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,d){const f=vf(),p=this.No(t,i.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,d),this.Bo(t,p,y,o).then(_=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw qo("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,d,f){return this.Oo(t,i,o,l,d)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+na}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,d)=>t[d]=l),o&&o.headers.forEach((l,d)=>t[d]=l)}No(t,i){const o=bC[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=vf();return new Promise((d,f)=>{const p=new Cw;p.setWithCredentials(!0),p.listenOnce(Aw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ic.NO_ERROR:const _=p.getResponseJson();ae(Ht,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),d(_);break;case Ic.TIMEOUT:ae(Ht,`RPC '${e}' ${l} timed out`),f(new ve(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const I=p.getStatus();if(ae(Ht,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const D=C==null?void 0:C.error;if(D&&D.status&&D.message){const F=function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(G)>=0?G:ee.UNKNOWN}(D.status);f(new ve(F,D.message))}else f(new ve(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ve(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(Ht,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ae(Ht,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=vf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Rw(),f=kw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ae(Ht,`Creating RPC '${e}' stream ${o}: ${_}`,p);const I=d.createWebChannel(_,p);let C=!1,D=!1;const F=new xC({Eo:j=>{D?ae(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(C||(ae(Ht,`Opening RPC '${e}' stream ${o} transport.`),I.open(),C=!0),ae(Ht,`RPC '${e}' stream ${o} sending:`,j),I.send(j))},Ao:()=>I.close()}),H=(j,G,X)=>{j.listen(G,ie=>{try{X(ie)}catch(he){setTimeout(()=>{throw he},0)}})};return H(I,hl.EventType.OPEN,()=>{D||(ae(Ht,`RPC '${e}' stream ${o} transport opened.`),F.So())}),H(I,hl.EventType.CLOSE,()=>{D||(D=!0,ae(Ht,`RPC '${e}' stream ${o} transport closed`),F.Do())}),H(I,hl.EventType.ERROR,j=>{D||(D=!0,qo(Ht,`RPC '${e}' stream ${o} transport errored:`,j),F.Do(new ve(ee.UNAVAILABLE,"The operation could not be completed")))}),H(I,hl.EventType.MESSAGE,j=>{var G;if(!D){const X=j.data[0];$e(!!X);const ie=X,he=(ie==null?void 0:ie.error)||((G=ie[0])===null||G===void 0?void 0:G.error);if(he){ae(Ht,`RPC '${e}' stream ${o} received error:`,he);const Ae=he.status;let Se=function(A){const R=mt[A];if(R!==void 0)return e_(R)}(Ae),b=he.message;Se===void 0&&(Se=ee.INTERNAL,b="Unknown error status: "+Ae+" with message "+he.message),D=!0,F.Do(new ve(Se,b)),I.close()}else ae(Ht,`RPC '${e}' stream ${o} received:`,X),F.vo(X)}}),H(f,Pw.STAT_EVENT,j=>{j.stat===Nf.PROXY?ae(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Nf.NOPROXY&&ae(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.bo()},0),F}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(n){return new US(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t,i,o,l,d,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new f_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ve(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DC extends p_{constructor(e,t,i,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,d),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=zS(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?gr(d.readTime):Ie.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Bf(this.serializer),t.addTarget=function(l,d){let f;const p=d.target;if(f=Vf(p)?{documents:qS(l,p)}:{query:WS(l,p).ct},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=r_(l,d.resumeToken);const y=Ff(l,d.expectedCount);y!==null&&(f.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ie.min())>0){f.readTime=$c(l,d.snapshotVersion.toTimestamp());const y=Ff(l,d.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=GS(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Bf(this.serializer),t.removeTarget=e,this.c_(t)}}class LC extends p_{constructor(e,t,i,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,d),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=HS(e.writeResults,e.commitTime),i=gr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Bf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>$S(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Oo(e,Uf(t,i),o,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ee.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.ko(e,Uf(t,i),o,d,f,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ve(ee.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class VC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Qr(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(d=>{i.enqueueAndForget(async()=>{Ls(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Ce(p);y.k_.add(4),await Vl(y),y.K_.set("Unknown"),y.k_.delete(4),await Td(y)}(this))})}),this.K_=new VC(i,o)}}async function Td(n){if(Ls(n))for(const e of n.q_)await e(!0)}async function Vl(n){for(const e of n.q_)await e(!1)}function m_(n,e){const t=Ce(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Sp(t)?Ip(t):sa(t).s_()&&Tp(t,e))}function Ep(n,e){const t=Ce(n),i=sa(t);t.B_.delete(e),i.s_()&&g_(t,e),t.B_.size===0&&(i.s_()?i.a_():Ls(t)&&t.K_.set("Unknown"))}function Tp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sa(n).V_(e)}function g_(n,e){n.U_.xe(e),sa(n).m_(e)}function Ip(n){n.U_=new OS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),sa(n).start(),n.K_.F_()}function Sp(n){return Ls(n)&&!sa(n).i_()&&n.B_.size>0}function Ls(n){return Ce(n).k_.size===0}function y_(n){n.U_=void 0}async function FC(n){n.K_.set("Online")}async function UC(n){n.B_.forEach((e,t)=>{Tp(n,e)})}async function jC(n,e){y_(n),Sp(n)?(n.K_.O_(e),Ip(n)):n.K_.set("Unknown")}async function BC(n,e,t){if(n.K_.set("Online"),e instanceof n_&&e.state===2&&e.cause)try{await async function(o,l){const d=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,d),o.B_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await qc(n,i)}else if(e instanceof Pc?n.U_.$e(e):e instanceof t_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ie.min()))try{const i=await h_(n.localStore);t.compareTo(i)>=0&&await function(l,d){const f=l.U_.it(d);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,d))}}),f.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(Mt.EMPTY_BYTE_STRING,_.snapshotVersion)),g_(l,p);const I=new xi(_.target,p,y,_.sequenceNumber);Tp(l,I)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ae("RemoteStore","Failed to raise snapshot:",i),await qc(n,i)}}async function qc(n,e,t){if(!ia(e))throw e;n.k_.add(1),await Vl(n),n.K_.set("Offline"),t||(t=()=>h_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Td(n)})}function v_(n,e){return e().catch(t=>qc(n,t,e))}async function Id(n){const e=Ce(n),t=zi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;zC(e);)try{const o=await CC(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,$C(e,o)}catch(o){await qc(e,o)}w_(e)&&__(e)}function zC(n){return Ls(n)&&n.L_.length<10}function $C(n,e){n.L_.push(e);const t=zi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function w_(n){return Ls(n)&&!zi(n).i_()&&n.L_.length>0}function __(n){zi(n).start()}async function HC(n){zi(n).w_()}async function qC(n){const e=zi(n);for(const t of n.L_)e.g_(t.mutations)}async function WC(n,e,t){const i=n.L_.shift(),o=mp.from(i,e,t);await v_(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Id(n)}async function KC(n,e){e&&zi(n).f_&&await async function(i,o){if(function(d){return NS(d)&&d!==ee.ABORTED}(o.code)){const l=i.L_.shift();zi(i).__(),await v_(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Id(i)}}(n,e),w_(n)&&__(n)}async function fv(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const i=Ls(t);t.k_.add(3),await Vl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Td(t)}async function GC(n,e){const t=Ce(n);e?(t.k_.delete(2),await Td(t)):e||(t.k_.add(2),await Vl(t),t.K_.set("Unknown"))}function sa(n){return n.W_||(n.W_=function(t,i,o){const l=Ce(t);return l.b_(),new DC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:FC.bind(null,n),mo:UC.bind(null,n),po:jC.bind(null,n),R_:BC.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Sp(n)?Ip(n):n.K_.set("Unknown")):(await n.W_.stop(),y_(n))})),n.W_}function zi(n){return n.G_||(n.G_=function(t,i,o){const l=Ce(t);return l.b_(),new LC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:HC.bind(null,n),po:KC.bind(null,n),p_:qC.bind(null,n),y_:WC.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Id(n)):(await n.G_.stop(),n.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const d=Date.now()+i,f=new Cp(e,t,d,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),ia(n))return new ve(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=fl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Fo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.z_=new it(we.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yo{constructor(e,t,i,o,l,d,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new Yo(e,t,Fo.emptySet(t),d,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class YC{constructor(){this.queries=mv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ce(t),l=o.queries;o.queries=mv(),l.forEach((d,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ve(ee.ABORTED,"Firestore shutting down"))}}function mv(){return new Ns(n=>Bw(n),gd)}async function XC(n,e){const t=Ce(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new QC,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const f=Ap(d,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Pp(t)}async function JC(n,e){const t=Ce(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const d=l.J_.indexOf(e);d>=0&&(l.J_.splice(d,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ZC(n,e){const t=Ce(n);let i=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const f of d.J_)f.ta(o)&&(i=!0);d.H_=o}}i&&Pp(t)}function e2(n,e,t){const i=Ce(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Pp(n){n.X_.forEach(e=>{e.next()})}var $f,gv;(gv=$f||($f={})).na="default",gv.Cache="cache";class t2{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Yo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this.key=e}}class T_{constructor(e){this.key=e}}class n2{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=zw(e),this.ma=new Fo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new pv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,I)=>{const C=o.get(_),D=yd(this.query,I)?I:null,F=!!C&&this.mutatedKeys.has(C.key),H=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let j=!1;C&&D?C.data.isEqual(D.data)?F!==H&&(i.track({type:3,doc:D}),j=!0):this.ya(C,D)||(i.track({type:2,doc:D}),j=!0,(p&&this.Va(D,p)>0||y&&this.Va(D,y)<0)&&(f=!0)):!C&&D?(i.track({type:0,doc:D}),j=!0):C&&!D&&(i.track({type:1,doc:C}),j=!0,(p||y)&&(f=!0)),j&&(D?(d=d.add(D),l=H?l.add(_):l.delete(_)):(d=d.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:d,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const d=e.pa.j_();d.sort((_,I)=>function(D,F){const H=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return H(D)-H(F)}(_.type,I.type)||this.Va(_.doc,I.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,d.length!==0||y?{snapshot:new Yo(this.query,e.ma,l,d,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new pv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new T_(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new E_(i))}),t}va(e){this.da=e.ds,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Yo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class r2{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class i2{constructor(e){this.key=e,this.Fa=!1}}class s2{constructor(e,t,i,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new Ns(f=>Bw(f),gd),this.Oa=new Map,this.Na=new Set,this.La=new it(we.comparator),this.Ba=new Map,this.ka=new vp,this.qa={},this.Qa=new Map,this.Ka=Qo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function o2(n,e,t=!0){const i=k_(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await I_(i,e,t,!0),o}async function a2(n,e){const t=k_(n);await I_(t,e,!0,!1)}async function I_(n,e,t,i){const o=await AC(n.localStore,mr(e)),l=o.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await l2(n,e,l,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&m_(n.remoteStore,o),f}async function l2(n,e,t,i,o){n.Ua=(I,C,D)=>async function(H,j,G,X){let ie=j.view.ga(G);ie.ss&&(ie=await cv(H.localStore,j.query,!1).then(({documents:b})=>j.view.ga(b,ie)));const he=X&&X.targetChanges.get(j.targetId),Ae=X&&X.targetMismatches.get(j.targetId)!=null,Se=j.view.applyChanges(ie,H.isPrimaryClient,he,Ae);return vv(H,j.targetId,Se.ba),Se.snapshot}(n,I,C,D);const l=await cv(n.localStore,e,!0),d=new n2(e,l.ds),f=d.ga(l.documents),p=Ol.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=d.applyChanges(f,n.isPrimaryClient,p);vv(n,t,y.ba);const _=new r2(e,t,d);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function u2(n,e,t){const i=Ce(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(d=>!gd(d,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await zf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Ep(i.remoteStore,o.targetId),Hf(i,o.targetId)}).catch(ra)):(Hf(i,o.targetId),await zf(i.localStore,o.targetId,!0))}async function c2(n,e){const t=Ce(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ep(t.remoteStore,i.targetId))}async function d2(n,e,t){const i=v2(n);try{const o=await function(d,f){const p=Ce(d),y=Tt.now(),_=f.reduce((D,F)=>D.add(F.key),xe());let I,C;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let F=Yr(),H=xe();return p.hs.getEntries(D,_).next(j=>{F=j,F.forEach((G,X)=>{X.isValidDocument()||(H=H.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,F)).next(j=>{I=j;const G=[];for(const X of f){const ie=PS(X,I.get(X.key).overlayedDocument);ie!=null&&G.push(new Ds(X.key,ie,Lw(ie.value.mapValue),Hr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,y,G,f)}).next(j=>{C=j;const G=j.applyToLocalDocumentSet(I,H);return p.documentOverlayCache.saveOverlays(D,j.batchId,G)})}).then(()=>({batchId:C.batchId,changes:Hw(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(d,f,p){let y=d.qa[d.currentUser.toKey()];y||(y=new it(De)),y=y.insert(f,p),d.qa[d.currentUser.toKey()]=y}(i,o.batchId,t),await Ml(i,o.changes),await Id(i.remoteStore)}catch(o){const l=Ap(o,"Failed to persist write");t.reject(l)}}async function S_(n,e){const t=Ce(n);try{const i=await IC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.Ba.get(l);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Fa=!0:o.modifiedDocuments.size>0?$e(d.Fa):o.removedDocuments.size>0&&($e(d.Fa),d.Fa=!1))}),await Ml(t,i,e)}catch(i){await ra(i)}}function yv(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,d)=>{const f=d.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(d,f){const p=Ce(d);p.onlineState=f;let y=!1;p.queries.forEach((_,I)=>{for(const C of I.J_)C.ea(f)&&(y=!0)}),y&&Pp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function h2(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let d=new it(we.comparator);d=d.insert(l,Wt.newNoDocument(l,Ie.min()));const f=xe().add(l),p=new _d(Ie.min(),new Map,new it(De),d,f);await S_(i,p),i.La=i.La.remove(l),i.Ba.delete(e),kp(i)}else await zf(i.localStore,e,!1).then(()=>Hf(i,e,t)).catch(ra)}async function f2(n,e){const t=Ce(n),i=e.batch.batchId;try{const o=await TC(t.localStore,e);A_(t,i,null),C_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ml(t,o)}catch(o){await ra(o)}}async function p2(n,e,t){const i=Ce(n);try{const o=await function(d,f){const p=Ce(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next(I=>($e(I!==null),_=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);A_(i,e,t),C_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ml(i,o)}catch(o){await ra(o)}}function C_(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function A_(n,e,t){const i=Ce(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Hf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||P_(n,i)})}function P_(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Ep(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),kp(n))}function vv(n,e,t){for(const i of t)i instanceof E_?(n.ka.addReference(i.key,e),m2(n,i)):i instanceof T_?(ae("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||P_(n,i.key)):Te()}function m2(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ae("SyncEngine","New document in limbo: "+t),n.Na.add(i),kp(n))}function kp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(ot.fromString(e)),i=n.Ka.next();n.Ba.set(i,new i2(t)),n.La=n.La.insert(t,i),m_(n.remoteStore,new xi(mr(fp(t.path)),i,"TargetPurposeLimboResolution",hd.oe))}}async function Ml(n,e,t){const i=Ce(n),o=[],l=[],d=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{d.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const I=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=_p.zi(p.targetId,y);l.push(I)}}))}),await Promise.all(d),i.Ma.R_(o),await async function(p,y){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>K.forEach(y,C=>K.forEach(C.Wi,D=>_.persistence.referenceDelegate.addReference(I,C.targetId,D)).next(()=>K.forEach(C.Gi,D=>_.persistence.referenceDelegate.removeReference(I,C.targetId,D)))))}catch(I){if(!ia(I))throw I;ae("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const C=I.targetId;if(!I.fromCache){const D=_.us.get(C),F=D.snapshotVersion,H=D.withLastLimboFreeSnapshotVersion(F);_.us=_.us.insert(C,H)}}}(i.localStore,l))}async function g2(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const i=await d_(t.localStore,e);t.currentUser=e,function(l,d){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ve(ee.CANCELLED,d))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ml(t,i.Ts)}}function y2(n,e){const t=Ce(n),i=t.Ba.get(e);if(i&&i.Fa)return xe().add(i.key);{let o=xe();const l=t.Oa.get(e);if(!l)return o;for(const d of l){const f=t.xa.get(d);o=o.unionWith(f.view.fa)}return o}}function k_(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=S_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h2.bind(null,e),e.Ma.R_=ZC.bind(null,e.eventManager),e.Ma.Wa=e2.bind(null,e.eventManager),e}function v2(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p2.bind(null,e),e}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return EC(this.persistence,new wC,e.initialUser,this.serializer)}ja(e){return new c_(wp.ei,this.serializer)}za(e){return new kC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class w2 extends Wc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){$e(this.persistence.referenceDelegate instanceof Hc);const i=this.persistence.referenceDelegate.garbageCollector;return new iC(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new c_(i=>Hc.ei(i,t),this.serializer)}}class qf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=g2.bind(null,this.syncEngine),await GC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YC}()}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),i=function(l){return new NC(l)}(e.databaseInfo);return function(l,d,f,p){return new OC(l,d,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,d,f){return new MC(i,o,l,d,f)}(this.localStore,this.datastore,e.asyncQueue,t=>yv(this.syncEngine,t,0),function(){return hv.p()?new hv:new RC}())}createSyncEngine(e,t){return function(o,l,d,f,p,y,_){const I=new s2(o,l,d,f,p,y);return _&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ce(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Vl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}qf.provider={build:()=>new qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=xw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async d=>{ae("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(i,d=>(ae("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ap(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function _f(n,e){n.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await d_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await T2(n);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>fv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>fv(e.remoteStore,o)),n._onlineComponents=e}async function T2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await _f(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),await _f(n,new Wc)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await _f(n,new w2(void 0));return n._offlineComponents}async function R_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await wv(n,n._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await wv(n,new qf))),n._onlineComponents}function I2(n){return R_(n).then(e=>e.syncEngine)}async function S2(n){const e=await R_(n),t=e.eventManager;return t.onListen=o2.bind(null,e.syncEngine),t.onUnlisten=u2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=a2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=c2.bind(null,e.syncEngine),t}function C2(n,e,t={}){const i=new Mi;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,f,p,y){const _=new _2({next:C=>{_.eu(),d.enqueueAndForget(()=>JC(l,I));const D=C.docs.has(f);!D&&C.fromCache?y.reject(new ve(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&C.fromCache&&p&&p.source==="server"?y.reject(new ve(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),I=new t2(fp(f.path),_,{includeMetadataChanges:!0,ua:!0});return XC(l,I)}(await S2(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(n,e,t){if(!t)throw new ve(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P2(n,e,t,i){if(e===!0&&i===!0)throw new ve(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ev(n){if(!we.isDocumentKey(n))throw new ve(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Pl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rp(n);throw new ve(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b_((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new DI;switch(i.type){case"firstParty":return new MI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=_v.get(t);i&&(ae("ComponentProvider","Removing Datastore"),_v.delete(t),i.terminate())}(this),Promise.resolve()}}function k2(n,e,t,i={}){var o;const l=(n=Pl(n,bp))._getSettings(),d=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==d&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=qt.MOCK_USER;else{f=a1(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ve(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qt(y)}n._authCredentials=new LI(new bw(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xp(this.firestore,e,this._query)}}class On{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class kl extends xp{constructor(e,t,i){super(e,t,fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new we(e))}withConverter(e){return new kl(this.firestore,e,this._path)}}function Wf(n,e,...t){if(n=cn(n),arguments.length===1&&(e=xw.newId()),A2("doc","path",e),n instanceof bp){const i=ot.fromString(e,...t);return Ev(i),new On(n,null,new we(i))}{if(!(n instanceof On||n instanceof kl))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return Ev(i),new On(n.firestore,n instanceof kl?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new f_(this,"async_queue_retry"),this.fu=()=>{const i=wf();i&&ae("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=wf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=wf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Mi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ia(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),f}(i);throw Qr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Cp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Np extends bp{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Iv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iv(e),this._firestoreClient=void 0,await e}}}function R2(n,e){const t=typeof n=="object"?n:Ew(),i=typeof n=="string"?n:"(default)",o=ap(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=s1("firestore");l&&k2(o,...l)}return o}function x_(n){if(n._terminated)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||b2(n),n._firestoreClient}function b2(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,y,_){return new JI(f,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,b_(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new E2(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(Mt.fromBase64String(e))}catch(t){throw new ve(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xo(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/^__.*__$/;class N2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ll(e,this.data,t,this.fieldTransforms)}}function D_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Vp{constructor(e,t,i,o,l,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Kc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(D_(this.Mu)&&x2.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class D2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ed(e)}$u(e,t,i,o=!1){return new Vp({Mu:e,methodName:t,Ku:i,path:Vt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L2(n){const e=n._freezeSettings(),t=Ed(n._databaseId);return new D2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function O2(n,e,t,i,o,l={}){const d=n.$u(l.merge||l.mergeFields?2:0,e,t,o);M_("Data must be an object, but it was:",d,i);const f=O_(i,d);let p,y;if(l.merge)p=new Zn(d.fieldMask),y=d.fieldTransforms;else if(l.mergeFields){const _=[];for(const I of l.mergeFields){const C=V2(e,I,t);if(!d.contains(C))throw new ve(ee.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);F2(_,C)||_.push(C)}p=new Zn(_),y=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=d.fieldTransforms;return new N2(new Ln(f),p,y)}function L_(n,e){if(V_(n=cn(n)))return M_("Unsupported field value:",e,n),O_(n,e);if(n instanceof N_)return function(i,o){if(!D_(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let d=0;for(const f of i){let p=L_(f,o.ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),d++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ES(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Tt.fromDate(i);return{timestampValue:$c(o.serializer,l)}}if(i instanceof Tt){const l=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:$c(o.serializer,l)}}if(i instanceof Lp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:r_(o.serializer,i._byteString)};if(i instanceof On){const l=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(l))throw o.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Op)return function(d,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return pp(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Rp(i)}`)}(n,e)}function O_(n,e){const t={};return Nw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(n,(i,o)=>{const l=L_(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function V_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof Lp||n instanceof Xo||n instanceof On||n instanceof N_||n instanceof Op)}function M_(n,e,t){if(!V_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Rp(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function V2(n,e,t){if((e=cn(e))instanceof Dp)return e._internalPath;if(typeof e=="string")return F_(n,e);throw Kc("Field path arguments must be of type string or ",n,!1,void 0,t)}const M2=new RegExp("[~\\*/\\[\\]]");function F_(n,e,t){if(e.search(M2)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dp(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kc(n,e,t,i,o){const l=i&&!i.isEmpty(),d=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||d)&&(p+=" (found",l&&(p+=` in field ${i}`),d&&(p+=` in document ${o}`),p+=")"),new ve(ee.INVALID_ARGUMENT,f+n+p)}function F2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(j_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class U2 extends U_{data(){return super.data()}}function j_(n,e){return typeof e=="string"?F_(n,e):e instanceof Dp?e._internalPath:e._delegate._internalPath}class j2{convertValue(e,t="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return xs(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(d=>dt(d.doubleValue));return new Op(l)}convertGeoPoint(e){return new Lp(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=pd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const t=Ui(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);$e(u_(i));const o=new Il(i.get(1),i.get(3)),l=new we(i.popFirst(5));return o.isEqual(t)||Qr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class B_ extends U_{constructor(e,t,i,o,l,d){super(e,t,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(j_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class $2 extends B_{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n){n=Pl(n,On);const e=Pl(n.firestore,Np);return C2(x_(e),n._key).then(t=>K2(e,n,t))}class q2 extends j2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function z_(n,e,t){n=Pl(n,On);const i=Pl(n.firestore,Np),o=B2(n.converter,e,t);return W2(i,[O2(L2(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Hr.none())])}function W2(n,e){return function(i,o){const l=new Mi;return i.asyncQueue.enqueueAndForget(async()=>d2(await I2(i),o,l)),l.promise}(x_(n),e)}function K2(n,e,t){const i=t.docs.get(e._key),o=new q2(n);return new B_(n,o,e._key,i,new z2(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){na=o})(ta),Ho(new Cs("firestore",(i,{instanceIdentifier:o,options:l})=>{const d=i.getProvider("app").getImmediate(),f=new Np(new OI(i.getProvider("auth-internal")),new UI(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(y.options.projectId,_)}(d,o),d);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Vi(By,"4.7.5",e),Vi(By,"4.7.5","esm2017")})();function Mp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function $_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G2=$_,H_=new Nl("auth","Firebase",$_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new sp("@firebase/auth");function Q2(n,...e){Gc.logLevel<=be.WARN&&Gc.warn(`Auth (${ta}): ${n}`,...e)}function kc(n,...e){Gc.logLevel<=be.ERROR&&Gc.error(`Auth (${ta}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(n,...e){throw Fp(n,...e)}function yr(n,...e){return Fp(n,...e)}function q_(n,e,t){const i=Object.assign(Object.assign({},G2()),{[e]:t});return new Nl("auth","Firebase",i).create(e,{appName:n.name})}function qr(n){return q_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return H_.create(n,...e)}function _e(n,e,...t){if(!n)throw Fp(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kc(e),new Error(e)}function Xr(n,e){n||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Y2(){return Sv()==="http:"||Sv()==="https:"}function Sv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||d1()||"connection"in navigator)?navigator.onLine:!0}function J2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile=l1()||h1()}get(){return X2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n,e){Xr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new Fl(3e4,6e4);function Zr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ei(n,e,t,i,o={}){return K_(n,o,async()=>{let l={},d={};i&&(e==="GET"?d=i:l={body:JSON.stringify(i)});const f=Dl(Object.assign({key:n.config.apiKey},d)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return c1()||(y.referrerPolicy="no-referrer"),W_.fetch()(G_(n,n.config.apiHost,t,f),y)})}async function K_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Z2),e);try{const o=new nA(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw _c(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const f=l.ok?d.errorMessage:d.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw _c(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw _c(n,"user-disabled",d);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw q_(n,_,y);er(n,_)}}catch(o){if(o instanceof Jr)throw o;er(n,"network-request-failed",{message:String(o)})}}async function Ul(n,e,t,i,o={}){const l=await ei(n,e,t,i,o);return"mfaPendingCredential"in l&&er(n,"multi-factor-auth-required",{_serverResponse:l}),l}function G_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Up(n.config,o):`${n.config.apiScheme}://${o}`}function tA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yr(this.auth,"network-request-failed")),eA.get())})}}function _c(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=yr(n,e,i);return o.customData._tokenResponse=t,o}function Cv(n){return n!==void 0&&n.enterprise!==void 0}class rA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iA(n,e){return ei(n,"GET","/v2/recaptchaConfig",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(n,e){return ei(n,"POST","/v1/accounts:delete",e)}async function Q_(n,e){return ei(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oA(n,e=!1){const t=cn(n),i=await t.getIdToken(e),o=jp(i);_e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:wl(Ef(o.auth_time)),issuedAtTime:wl(Ef(o.iat)),expirationTime:wl(Ef(o.exp)),signInProvider:d||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ef(n){return Number(n)*1e3}function jp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=pw(t);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Av(n){const e=jp(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Jr&&aA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function aA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Rl(n,Q_(t,{idToken:i}));_e(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Y_(l.providerUserInfo):[],f=cA(n.providerData,d),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?y:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Gf(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,I)}async function uA(n){const e=cn(n);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Y_(n){return n.map(e=>{var{providerId:t}=e,i=Mp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(n,e){const t=await K_(n,{},async()=>{const i=Dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,d=G_(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",W_.fetch()(d,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hA(n,e){return ei(n,"POST","/v2/accounts:revokeToken",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=Av(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await dA(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,d=new Uo;return i&&(_e(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(_e(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(_e(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return oA(this,e)}reload(){return uA(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Qc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await Rl(this,sA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,d,f,p,y,_;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,C=(o=t.email)!==null&&o!==void 0?o:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,F=(d=t.photoURL)!==null&&d!==void 0?d:void 0,H=(f=t.tenantId)!==null&&f!==void 0?f:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(y=t.createdAt)!==null&&y!==void 0?y:void 0,X=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ie,emailVerified:he,isAnonymous:Ae,providerData:Se,stsTokenManager:b}=t;_e(ie&&b,e,"internal-error");const T=Uo.fromJSON(this.name,b);_e(typeof ie=="string",e,"internal-error"),Ai(I,e.name),Ai(C,e.name),_e(typeof he=="boolean",e,"internal-error"),_e(typeof Ae=="boolean",e,"internal-error"),Ai(D,e.name),Ai(F,e.name),Ai(H,e.name),Ai(j,e.name),Ai(G,e.name),Ai(X,e.name);const A=new zr({uid:ie,auth:e,email:C,emailVerified:he,displayName:I,isAnonymous:Ae,photoURL:F,phoneNumber:D,tenantId:H,stsTokenManager:T,createdAt:G,lastLoginAt:X});return Se&&Array.isArray(Se)&&(A.providerData=Se.map(R=>Object.assign({},R))),j&&(A._redirectEventId=j),A}static async _fromIdTokenResponse(e,t,i=!1){const o=new Uo;o.updateFromServerResponse(t);const l=new zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Qc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];_e(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Y_(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Uo;f.updateFromIdToken(i);const p=new zr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Gf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;function $r(n){Xr(n instanceof Function,"Expected a class definition");let e=Pv.get(n);return e?(Xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Pv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}X_.type="NONE";const kv=X_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n,e,t){return`firebase:${n}:${e}:${t}`}class jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Rc(this.userKey,o.apiKey,l),this.fullPersistenceKey=Rc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new jo($r(kv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||$r(kv);const d=Rc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(d);if(_){const I=zr._fromJSON(e,_);y!==l&&(f=I),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new jo(l,e,i):(l=p[0],f&&await l._set(d,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(d)}catch{}})),new jo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r0(e))return"Blackberry";if(i0(e))return"Webos";if(Z_(e))return"Safari";if((e.includes("chrome/")||e0(e))&&!e.includes("edge/"))return"Chrome";if(n0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function J_(n=Kt()){return/firefox\//i.test(n)}function Z_(n=Kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e0(n=Kt()){return/crios\//i.test(n)}function t0(n=Kt()){return/iemobile/i.test(n)}function n0(n=Kt()){return/android/i.test(n)}function r0(n=Kt()){return/blackberry/i.test(n)}function i0(n=Kt()){return/webos/i.test(n)}function Bp(n=Kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fA(n=Kt()){var e;return Bp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pA(){return f1()&&document.documentMode===10}function s0(n=Kt()){return Bp(n)||n0(n)||i0(n)||r0(n)||/windows phone/i.test(n)||t0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(n,e=[]){let t;switch(n){case"Browser":t=Rv(Kt());break;case"Worker":t=`${Rv(Kt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ta}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((d,f)=>{try{const p=e(l);d(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(n,e={}){return ei(n,"GET","/v2/passwordPolicy",Zr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=6;class vA{constructor(e){var t,i,o,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:yA,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new mA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Q_(this,{idToken:e}),i=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pr(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(qr(this));const t=e?cn(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gA(this),t=new vA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await hA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(f,this,"internal-error"),f.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Q2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Os(n){return cn(n)}class bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=E1(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _A(n){Sd=n}function a0(n){return Sd.loadJS(n)}function EA(){return Sd.recaptchaEnterpriseScript}function TA(){return Sd.gapiScript}function IA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class SA{constructor(){this.enterprise=new CA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AA="recaptcha-enterprise",l0="NO_RECAPTCHA";class PA{constructor(e){this.type=AA,this.auth=Os(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,f)=>{iA(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new rA(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,d(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,d,f){const p=window.grecaptcha;Cv(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{d(y)}).catch(()=>{d(l0)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SA().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{i(this.auth).then(f=>{if(!t&&Cv(window.grecaptcha))o(f,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=EA();p.length!==0&&(p+=f),a0(p).then(()=>{o(f,l,d)}).catch(y=>{d(y)})}}).catch(f=>{d(f)})})}}async function xv(n,e,t,i=!1,o=!1){const l=new PA(n);let d;if(o)d=l0;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Qf(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await xv(n,e,t,t==="getOobCode");return i(n,d)}else return i(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await xv(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n,e){const t=ap(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Vc(l,e??{}))return o;er(o,"already-initialized")}return t.initialize({options:e})}function RA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($r);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function bA(n,e,t){const i=Os(n);_e(i._canInitEmulator,i,"emulator-config-failed"),_e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=u0(e),{host:d,port:f}=xA(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${d}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:d,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),NA()}function u0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xA(n){const e=u0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Nv(i.substr(l.length+1))}}else{const[l,d]=i.split(":");return{host:l,port:Nv(d)}}}function Nv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function NA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function DA(n,e){return ei(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(n,e){return Ul(n,"POST","/v1/accounts:signInWithPassword",Zr(n,e))}async function OA(n,e){return ei(n,"POST","/v1/accounts:sendOobCode",Zr(n,e))}async function VA(n,e){return OA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(n,e){return Ul(n,"POST","/v1/accounts:signInWithEmailLink",Zr(n,e))}async function FA(n,e){return Ul(n,"POST","/v1/accounts:signInWithEmailLink",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends zp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new bl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new bl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,t,"signInWithPassword",LA);case"emailLink":return MA(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,i,"signUpPassword",DA);case"emailLink":return FA(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n,e){return Ul(n,"POST","/v1/accounts:signInWithIdp",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="http://localhost";class Ps extends zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Mp(t,["providerId","signInMethod"]);if(!i||!o)return null;const d=new Ps(i,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Bo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:UA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BA(n){const e=cl(dl(n)).link,t=e?cl(dl(e)).deep_link_id:null,i=cl(dl(n)).deep_link_id;return(i?cl(dl(i)).link:null)||i||t||e||n}class $p{constructor(e){var t,i,o,l,d,f;const p=cl(dl(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,I=jA((o=p.mode)!==null&&o!==void 0?o:null);_e(y&&_&&I,"argument-error"),this.apiKey=y,this.operation=I,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=BA(e);try{return new $p(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,t){return bl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=$p.parseLink(t);return _e(i,"argument-error"),bl._fromEmailAndCode(e,i.code,i.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends c0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends jl{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ps._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ki.credential(t,i)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends jl{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends jl{constructor(){super("twitter.com")}static credential(e,t){return Ps._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bi.credential(t,i)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(n,e){return Ul(n,"POST","/v1/accounts:signUp",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await zr._fromIdTokenResponse(e,i,o),d=Dv(i);return new ks({user:l,providerId:d,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Dv(i);return new ks({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Dv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Jr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Yc(e,t,i,o)}}function d0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(n,l,e,i):l})}async function $A(n,e,t=!1){const i=await Rl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ks._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(n,e,t=!1){const{auth:i}=n;if(pr(i.app))return Promise.reject(qr(i));const o="reauthenticate";try{const l=await Rl(n,d0(i,o,e,n),t);_e(l.idToken,i,"internal-error");const d=jp(l.idToken);_e(d,i,"internal-error");const{sub:f}=d;return _e(n.uid===f,i,"user-mismatch"),ks._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&er(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(n,e,t=!1){if(pr(n.app))return Promise.reject(qr(n));const i="signIn",o=await d0(n,i,e),l=await ks._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function qA(n,e){return h0(Os(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0(n){const e=Os(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WA(n,e,t){if(pr(n.app))return Promise.reject(qr(n));const i=Os(n),d=await Qf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&f0(n),p}),f=await ks._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(f.user),f}function KA(n,e,t){return pr(n.app)?Promise.reject(qr(n)):qA(cn(n),oa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&f0(n),i})}async function p0(n,e){const t=cn(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await VA(t.auth,o);l!==n.email&&await n.reload()}function GA(n,e,t,i){return cn(n).onIdTokenChanged(e,t,i)}function QA(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function YA(n,e,t,i){return cn(n).onAuthStateChanged(e,t,i)}function XA(n){return cn(n).signOut()}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1e3,ZA=10;class g0 extends m0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!t&&this.localCache[i]===d||this.notifyListeners(i,d)},l=this.storage.getItem(i);pA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},JA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}g0.type="LOCAL";const eP=g0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends m0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}y0.type="SESSION";const v0=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Cd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(d).map(async y=>y(t.origin,l)),p=await tP(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((f,p)=>{const y=Hp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(I){const C=I;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(C.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function rP(n){vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function iP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function oP(){return w0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firebaseLocalStorageDb",aP=1,Jc="firebaseLocalStorage",E0="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ad(n,e){return n.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function lP(){const n=indexedDB.deleteDatabase(_0);return new Bl(n).toPromise()}function Yf(){const n=indexedDB.open(_0,aP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Jc,{keyPath:E0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Jc)?e(i):(i.close(),await lP(),e(await Yf()))})})}async function Lv(n,e,t){const i=Ad(n,!0).put({[E0]:e,value:t});return new Bl(i).toPromise()}async function uP(n,e){const t=Ad(n,!1).get(e),i=await new Bl(t).toPromise();return i===void 0?null:i.value}function Ov(n,e){const t=Ad(n,!0).delete(e);return new Bl(t).toPromise()}const cP=800,dP=3;class T0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>dP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cd._getInstance(oP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iP(),!this.activeServiceWorker)return;this.sender=new nP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yf();return await Lv(e,Xc,"1"),await Ov(e,Xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>uP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ov(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Ad(o,!1).getAll();return new Bl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T0.type="LOCAL";const hP=T0;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n,e){return e?$r(e):(_e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pP(n){return h0(n.auth,new qp(n),n.bypassAuthState)}function mP(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),HA(t,new qp(n),n.bypassAuthState)}async function gP(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),$A(t,new qp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pP;case"linkViaPopup":case"linkViaRedirect":return gP;case"reauthViaPopup":case"reauthViaRedirect":return mP;default:er(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Fl(2e3,1e4);class Mo extends I0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yP.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="pendingRedirect",bc=new Map;class wP extends I0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=bc.get(this.auth._key());if(!e){try{const i=await _P(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}bc.set(this.auth._key(),e)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _P(n,e){const t=IP(e),i=TP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function EP(n,e){bc.set(n._key(),e)}function TP(n){return $r(n._redirectPersistence)}function IP(n){return Rc(vP,n.config.apiKey,n.name)}async function SP(n,e,t=!1){if(pr(n.app))return Promise.reject(qr(n));const i=Os(n),o=fP(i,e),d=await new wP(i,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=10*60*1e3;class AP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!S0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vv(e))}saveEventToCache(e){this.cachedEventUids.add(Vv(e)),this.lastProcessedEventTime=Date.now()}}function Vv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function S0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(n,e={}){return ei(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bP=/^https?/;async function xP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kP(n);for(const t of e)try{if(NP(t))return}catch{}er(n,"unauthorized-domain")}function NP(n){const e=Kf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===i}if(!bP.test(t))return!1;if(RP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new Fl(3e4,6e4);function Mv(){const n=vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LP(n){return new Promise((e,t)=>{var i,o,l;function d(){Mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mv(),t(yr(n,"network-request-failed"))},timeout:DP.get()})}if(!((o=(i=vr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=vr().gapi)===null||l===void 0)&&l.load)d();else{const f=IA("iframefcb");return vr()[f]=()=>{gapi.load?d():t(yr(n,"network-request-failed"))},a0(`${TA()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw xc=null,e})}let xc=null;function OP(n){return xc=xc||LP(n),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new Fl(5e3,15e3),MP="__/auth/iframe",FP="emulator/auth/iframe",UP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BP(n){const e=n.config;_e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Up(e,FP):`https://${n.config.authDomain}/${MP}`,i={apiKey:e.apiKey,appName:n.name,v:ta},o=jP.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Dl(i).slice(1)}`}async function zP(n){const e=await OP(n),t=vr().gapi;return _e(t,n,"internal-error"),e.open({where:document.body,url:BP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UP,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const d=yr(n,"network-request-failed"),f=vr().setTimeout(()=>{l(d)},VP.get());function p(){vr().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HP=500,qP=600,WP="_blank",KP="http://localhost";class Fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GP(n,e,t,i=HP,o=qP){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},$P),{width:i.toString(),height:o.toString(),top:l,left:d}),y=Kt().toLowerCase();t&&(f=e0(y)?WP:t),J_(y)&&(e=e||KP,p.scrollbars="yes");const _=Object.entries(p).reduce((C,[D,F])=>`${C}${D}=${F},`,"");if(fA(y)&&f!=="_self")return QP(e||"",f),new Fv(null);const I=window.open(e||"",f,_);_e(I,n,"popup-blocked");try{I.focus()}catch{}return new Fv(I)}function QP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="__/auth/handler",XP="emulator/auth/handler",JP=encodeURIComponent("fac");async function Uv(n,e,t,i,o,l){_e(n.config.authDomain,n,"auth-domain-config-required"),_e(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ta,eventId:o};if(e instanceof c0){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",_1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,I]of Object.entries({}))d[_]=I}if(e instanceof jl){const _=e.getScopes().filter(I=>I!=="");_.length>0&&(d.scopes=_.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await n._getAppCheckToken(),y=p?`#${JP}=${encodeURIComponent(p)}`:"";return`${ZP(n)}?${Dl(f).slice(1)}${y}`}function ZP({config:n}){return n.emulator?Up(n,XP):`https://${n.authDomain}/${YP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="webStorageSupport";class ek{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v0,this._completeRedirectFn=SP,this._overrideRedirectResult=EP}async _openPopup(e,t,i,o){var l;Xr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await Uv(e,t,i,Kf(),o);return GP(e,d,Hp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Uv(e,t,i,Kf(),o);return rP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Xr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await zP(e),i=new AP(e);return t.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tf,{type:Tf},o=>{var l;const d=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Tf];d!==void 0&&t(!!d),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return s0()||Z_()||Bp()}}const tk=ek;var jv="@firebase/auth",Bv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ik(n){Ho(new Cs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=i.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o0(n)},y=new wA(i,o,l,p);return RA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ho(new Cs("auth-internal",e=>{const t=Os(e.getProvider("auth").getImmediate());return(i=>new nk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(jv,Bv,rk(n)),Vi(jv,Bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=5*60,ok=yw("authIdTokenMaxAge")||sk;let zv=null;const ak=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ok)return;const o=t==null?void 0:t.token;zv!==o&&(zv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lk(n=Ew()){const e=ap(n,"auth");if(e.isInitialized())return e.getImmediate();const t=kA(n,{popupRedirectResolver:tk,persistence:[hP,eP,v0]}),i=yw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const d=ak(l.toString());QA(t,d,()=>d(t.currentUser)),GA(t,f=>d(f))}}const o=mw("auth");return o&&bA(t,`http://${o}`),t}function uk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_A({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=yr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",uk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ik("Browser");const ck={apiKey:"AIzaSyAMCtRmdGQfs7CVSvrrEbpxgSmbN9d87yk",authDomain:"AIzaSyAMCtRmdGQfs7CVSvrrEbpxgSmbN9d87yk",projectId:"mtess-form",storageBucket:"mtess-form.appspot.com",messagingSenderId:"752618464069",appId:"1:752618464069:web:0479fc85cb481af7b5d42c"},C0=_w(ck),Xf=R2(C0),zl=lk(C0),A0=W.createContext(),Wp=()=>W.useContext(A0),dk=({children:n})=>{const[e,t]=W.useState(null);return W.useEffect(()=>YA(zl,o=>{t(o)}),[]),q.jsx(A0.Provider,{value:{currentUser:e},children:n})};/*!
* sweetalert2 v11.15.2
* Released under the MIT License.
*/function P0(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function hk(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $v(n,e){return n.get(P0(n,e))}function fk(n,e,t){hk(n,e),e.set(n,t)}function pk(n,e,t){return n.set(P0(n,e),t),t}const mk=100,ye={},gk=()=>{ye.previousActiveElement instanceof HTMLElement?(ye.previousActiveElement.focus(),ye.previousActiveElement=null):document.body&&document.body.focus()},yk=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,i=window.scrollY;ye.restoreFocusTimeout=setTimeout(()=>{gk(),e()},mk),window.scrollTo(t,i)}),k0="swal2-",vk=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],$=vk.reduce((n,e)=>(n[e]=k0+e,n),{}),wk=["success","warning","info","question","error"],Zc=wk.reduce((n,e)=>(n[e]=k0+e,n),{}),R0="SweetAlert2:",Kp=n=>n.charAt(0).toUpperCase()+n.slice(1),dn=n=>{console.warn(`${R0} ${typeof n=="object"?n.join(" "):n}`)},Vs=n=>{console.error(`${R0} ${n}`)},Hv=[],_k=n=>{Hv.includes(n)||(Hv.push(n),dn(n))},b0=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;_k(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Pd=n=>typeof n=="function"?n():n,Gp=n=>n&&typeof n.toPromise=="function",$l=n=>Gp(n)?n.toPromise():Promise.resolve(n),Qp=n=>n&&Promise.resolve(n)===n,hn=()=>document.body.querySelector(`.${$.container}`),Hl=n=>{const e=hn();return e?e.querySelector(n):null},Tn=n=>Hl(`.${n}`),je=()=>Tn($.popup),aa=()=>Tn($.icon),Ek=()=>Tn($["icon-content"]),x0=()=>Tn($.title),Yp=()=>Tn($["html-container"]),N0=()=>Tn($.image),Xp=()=>Tn($["progress-steps"]),kd=()=>Tn($["validation-message"]),Er=()=>Hl(`.${$.actions} .${$.confirm}`),la=()=>Hl(`.${$.actions} .${$.cancel}`),Ms=()=>Hl(`.${$.actions} .${$.deny}`),Tk=()=>Tn($["input-label"]),ua=()=>Hl(`.${$.loader}`),ql=()=>Tn($.actions),D0=()=>Tn($.footer),Rd=()=>Tn($["timer-progress-bar"]),Jp=()=>Tn($.close),Ik=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Zp=()=>{const n=je();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((l,d)=>{const f=parseInt(l.getAttribute("tabindex")||"0"),p=parseInt(d.getAttribute("tabindex")||"0");return f>p?1:f<p?-1:0}),i=n.querySelectorAll(Ik),o=Array.from(i).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(l=>un(l))},em=()=>Wr(document.body,$.shown)&&!Wr(document.body,$["toast-shown"])&&!Wr(document.body,$["no-backdrop"]),bd=()=>{const n=je();return n?Wr(n,$.toast):!1},Sk=()=>{const n=je();return n?n.hasAttribute("data-loading"):!1},In=(n,e)=>{if(n.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(d=>{n.appendChild(d)});const l=i.querySelector("body");l&&Array.from(l.childNodes).forEach(d=>{d instanceof HTMLVideoElement||d instanceof HTMLAudioElement?n.appendChild(d.cloneNode(!0)):n.appendChild(d)})}},Wr=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},Ck=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values($).includes(t)&&!Object.values(Zc).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},En=(n,e,t)=>{if(Ck(n,e),!e.customClass)return;const i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){dn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}Me(n,i)}},xd=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${$.popup} > .${$[e]}`);case"checkbox":return n.querySelector(`.${$.popup} > .${$.checkbox} input`);case"radio":return n.querySelector(`.${$.popup} > .${$.radio} input:checked`)||n.querySelector(`.${$.popup} > .${$.radio} input:first-child`);case"range":return n.querySelector(`.${$.popup} > .${$.range} input`);default:return n.querySelector(`.${$.popup} > .${$.input}`)}},L0=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},O0=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(i):o.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},Me=(n,e)=>{O0(n,e,!0)},Vn=(n,e)=>{O0(n,e,!1)},Ni=(n,e)=>{const t=Array.from(n.children);for(let i=0;i<t.length;i++){const o=t[i];if(o instanceof HTMLElement&&Wr(o,e))return o}},Ss=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},bt=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},Gt=n=>{n&&(n.style.display="none")},tm=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{Wl(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},qv=(n,e,t,i)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,i)},Wl=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?bt(n,t):Gt(n)},un=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),Ak=()=>!un(Er())&&!un(Ms())&&!un(la()),Wv=n=>n.scrollHeight>n.clientHeight,V0=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},nm=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=Rd();t&&un(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},Pk=()=>{const n=Rd();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},kk=()=>typeof window>"u"||typeof document>"u",Rk=`
 <div aria-labelledby="${$.title}" aria-describedby="${$["html-container"]}" class="${$.popup}" tabindex="-1">
   <button type="button" class="${$.close}"></button>
   <ul class="${$["progress-steps"]}"></ul>
   <div class="${$.icon}"></div>
   <img class="${$.image}" />
   <h2 class="${$.title}" id="${$.title}"></h2>
   <div class="${$["html-container"]}" id="${$["html-container"]}"></div>
   <input class="${$.input}" id="${$.input}" />
   <input type="file" class="${$.file}" />
   <div class="${$.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${$.select}" id="${$.select}"></select>
   <div class="${$.radio}"></div>
   <label class="${$.checkbox}">
     <input type="checkbox" id="${$.checkbox}" />
     <span class="${$.label}"></span>
   </label>
   <textarea class="${$.textarea}" id="${$.textarea}"></textarea>
   <div class="${$["validation-message"]}" id="${$["validation-message"]}"></div>
   <div class="${$.actions}">
     <div class="${$.loader}"></div>
     <button type="button" class="${$.confirm}"></button>
     <button type="button" class="${$.deny}"></button>
     <button type="button" class="${$.cancel}"></button>
   </div>
   <div class="${$.footer}"></div>
   <div class="${$["timer-progress-bar-container"]}">
     <div class="${$["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),bk=()=>{const n=hn();return n?(n.remove(),Vn([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0):!1},ws=()=>{ye.currentInstance.resetValidationMessage()},xk=()=>{const n=je(),e=Ni(n,$.input),t=Ni(n,$.file),i=n.querySelector(`.${$.range} input`),o=n.querySelector(`.${$.range} output`),l=Ni(n,$.select),d=n.querySelector(`.${$.checkbox} input`),f=Ni(n,$.textarea);e.oninput=ws,t.onchange=ws,l.onchange=ws,d.onchange=ws,f.oninput=ws,i.oninput=()=>{ws(),o.value=i.value},i.onchange=()=>{ws(),o.value=i.value}},Nk=n=>typeof n=="string"?document.querySelector(n):n,Dk=n=>{const e=je();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},Lk=n=>{window.getComputedStyle(n).direction==="rtl"&&Me(hn(),$.rtl)},Ok=n=>{const e=bk();if(kk()){Vs("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=$.container,e&&Me(t,$["no-transition"]),In(t,Rk);const i=Nk(n.target);i.appendChild(t),Dk(n),Lk(i),xk()},rm=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?Vk(n,e):n&&In(e,n)},Vk=(n,e)=>{n.jquery?Mk(e,n):In(e,n.toString())},Mk=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},Fk=(n,e)=>{const t=ql(),i=ua();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Gt(t):bt(t),En(t,e,"actions"),Uk(t,i,e),In(i,e.loaderHtml||""),En(i,e,"loader"))};function Uk(n,e,t){const i=Er(),o=Ms(),l=la();!i||!o||!l||(If(i,"confirm",t),If(o,"deny",t),If(l,"cancel",t),jk(i,o,l,t),t.reverseButtons&&(t.toast?(n.insertBefore(l,i),n.insertBefore(o,i)):(n.insertBefore(l,e),n.insertBefore(o,e),n.insertBefore(i,e))))}function jk(n,e,t,i){if(!i.buttonsStyling){Vn([n,e,t],$.styled);return}Me([n,e,t],$.styled),i.confirmButtonColor&&(n.style.backgroundColor=i.confirmButtonColor,Me(n,$["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,Me(e,$["default-outline"])),i.cancelButtonColor&&(t.style.backgroundColor=i.cancelButtonColor,Me(t,$["default-outline"]))}function If(n,e,t){const i=Kp(e);Wl(n,t[`show${i}Button`],"inline-block"),In(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=$[e],En(n,t,`${e}Button`)}const Bk=(n,e)=>{const t=Jp();t&&(In(t,e.closeButtonHtml||""),En(t,e,"closeButton"),Wl(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},zk=(n,e)=>{const t=hn();t&&($k(t,e.backdrop),Hk(t,e.position),qk(t,e.grow),En(t,e,"container"))};function $k(n,e){typeof e=="string"?n.style.background=e:e||Me([document.documentElement,document.body],$["no-backdrop"])}function Hk(n,e){e&&(e in $?Me(n,$[e]):(dn('The "position" parameter is not valid, defaulting to "center"'),Me(n,$.center)))}function qk(n,e){e&&Me(n,$[`grow-${e}`])}var Ye={innerParams:new WeakMap,domCache:new WeakMap};const Wk=["input","file","range","select","radio","checkbox","textarea"],Kk=(n,e)=>{const t=je();if(!t)return;const i=Ye.innerParams.get(n),o=!i||e.input!==i.input;Wk.forEach(l=>{const d=Ni(t,$[l]);d&&(Yk(l,e.inputAttributes),d.className=$[l],o&&Gt(d))}),e.input&&(o&&Gk(e),Xk(e))},Gk=n=>{if(!n.input)return;if(!ct[n.input]){Vs(`Unexpected type of input! Expected ${Object.keys(ct).join(" | ")}, got "${n.input}"`);return}const e=M0(n.input);if(!e)return;const t=ct[n.input](e,n);bt(e),n.inputAutoFocus&&setTimeout(()=>{L0(t)})},Qk=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},Yk=(n,e)=>{const t=je();if(!t)return;const i=xd(t,n);if(i){Qk(i);for(const o in e)i.setAttribute(o,e[o])}},Xk=n=>{if(!n.input)return;const e=M0(n.input);e&&En(e,n,"input")},im=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},Kl=(n,e,t)=>{if(t.inputLabel){const i=document.createElement("label"),o=$["input-label"];i.setAttribute("for",n.id),i.className=o,typeof t.customClass=="object"&&Me(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},M0=n=>{const e=je();if(e)return Ni(e,$[n]||$.input)},ed=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:Qp(e)||dn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ct={};ct.text=ct.email=ct.password=ct.number=ct.tel=ct.url=ct.search=ct.date=ct["datetime-local"]=ct.time=ct.week=ct.month=(n,e)=>(ed(n,e.inputValue),Kl(n,n,e),im(n,e),n.type=e.input,n);ct.file=(n,e)=>(Kl(n,n,e),im(n,e),n);ct.range=(n,e)=>{const t=n.querySelector("input"),i=n.querySelector("output");return ed(t,e.inputValue),t.type=e.input,ed(i,e.inputValue),Kl(t,n,e),n};ct.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");In(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return Kl(n,n,e),n};ct.radio=n=>(n.textContent="",n);ct.checkbox=(n,e)=>{const t=xd(je(),"checkbox");t.value="1",t.checked=!!e.inputValue;const i=n.querySelector("span");return In(i,e.inputPlaceholder||e.inputLabel),t};ct.textarea=(n,e)=>{ed(n,e.inputValue),im(n,e),Kl(n,n,e);const t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(je()).width),o=()=>{if(!document.body.contains(n))return;const l=n.offsetWidth+t(n);l>i?je().style.width=`${l}px`:Ss(je(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const Jk=(n,e)=>{const t=Yp();t&&(tm(t),En(t,e,"htmlContainer"),e.html?(rm(e.html,t),bt(t,"block")):e.text?(t.textContent=e.text,bt(t,"block")):Gt(t),Kk(n,e))},Zk=(n,e)=>{const t=D0();t&&(tm(t),Wl(t,e.footer,"block"),e.footer&&rm(e.footer,t),En(t,e,"footer"))},eR=(n,e)=>{const t=Ye.innerParams.get(n),i=aa();if(i){if(t&&e.icon===t.icon){Gv(i,e),Kv(i,e);return}if(!e.icon&&!e.iconHtml){Gt(i);return}if(e.icon&&Object.keys(Zc).indexOf(e.icon)===-1){Vs(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Gt(i);return}bt(i),Gv(i,e),Kv(i,e),Me(i,e.showClass&&e.showClass.icon)}},Kv=(n,e)=>{for(const[t,i]of Object.entries(Zc))e.icon!==t&&Vn(n,i);Me(n,e.icon&&Zc[e.icon]),iR(n,e),tR(),En(n,e,"icon")},tR=()=>{const n=je();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},nR=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,rR=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Gv=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=Qv(e.iconHtml):e.icon==="success"?(i=nR,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=rR:e.icon&&(i=Qv({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&In(n,i)},iR=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])qv(n,t,"background-color",e.iconColor);qv(n,".swal2-success-ring","border-color",e.iconColor)}},Qv=n=>`<div class="${$["icon-content"]}">${n}</div>`,sR=(n,e)=>{const t=N0();if(t){if(!e.imageUrl){Gt(t);return}bt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Ss(t,"width",e.imageWidth),Ss(t,"height",e.imageHeight),t.className=$.image,En(t,e,"image")}};let sm=!1,F0=0,U0=0,j0=0,B0=0;const oR=n=>{n.addEventListener("mousedown",td),document.body.addEventListener("mousemove",nd),n.addEventListener("mouseup",rd),n.addEventListener("touchstart",td),document.body.addEventListener("touchmove",nd),n.addEventListener("touchend",rd)},aR=n=>{n.removeEventListener("mousedown",td),document.body.removeEventListener("mousemove",nd),n.removeEventListener("mouseup",rd),n.removeEventListener("touchstart",td),document.body.removeEventListener("touchmove",nd),n.removeEventListener("touchend",rd)},td=n=>{const e=je();if(n.target===e||aa().contains(n.target)){sm=!0;const t=z0(n);F0=t.clientX,U0=t.clientY,j0=parseInt(e.style.insetInlineStart)||0,B0=parseInt(e.style.insetBlockStart)||0,Me(e,"swal2-dragging")}},nd=n=>{const e=je();if(sm){let{clientX:t,clientY:i}=z0(n);e.style.insetInlineStart=`${j0+(t-F0)}px`,e.style.insetBlockStart=`${B0+(i-U0)}px`}},rd=()=>{const n=je();sm=!1,Vn(n,"swal2-dragging")},z0=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},lR=(n,e)=>{const t=hn(),i=je();if(!(!t||!i)){if(e.toast){Ss(t,"width",e.width),i.style.width="100%";const o=ua();o&&i.insertBefore(o,aa())}else Ss(i,"width",e.width);Ss(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),Gt(kd()),uR(i,e),e.draggable&&!e.toast?(Me(i,$.draggable),oR(i)):(Vn(i,$.draggable),aR(i))}},uR=(n,e)=>{const t=e.showClass||{};n.className=`${$.popup} ${un(n)?t.popup:""}`,e.toast?(Me([document.documentElement,document.body],$["toast-shown"]),Me(n,$.toast)):Me(n,$.modal),En(n,e,"popup"),typeof e.customClass=="string"&&Me(n,e.customClass),e.icon&&Me(n,$[`icon-${e.icon}`])},cR=(n,e)=>{const t=Xp();if(!t)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){Gt(t);return}bt(t),t.textContent="",o>=i.length&&dn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((l,d)=>{const f=dR(l);if(t.appendChild(f),d===o&&Me(f,$["active-progress-step"]),d!==i.length-1){const p=hR(e);t.appendChild(p)}})},dR=n=>{const e=document.createElement("li");return Me(e,$["progress-step"]),In(e,n),e},hR=n=>{const e=document.createElement("li");return Me(e,$["progress-step-line"]),n.progressStepsDistance&&Ss(e,"width",n.progressStepsDistance),e},fR=(n,e)=>{const t=x0();t&&(tm(t),Wl(t,e.title||e.titleText,"block"),e.title&&rm(e.title,t),e.titleText&&(t.innerText=e.titleText),En(t,e,"title"))},$0=(n,e)=>{lR(n,e),zk(n,e),cR(n,e),eR(n,e),sR(n,e),fR(n,e),Bk(n,e),Jk(n,e),Fk(n,e),Zk(n,e);const t=je();typeof e.didRender=="function"&&t&&e.didRender(t),ye.eventEmitter.emit("didRender",t)},pR=()=>un(je()),H0=()=>{var n;return(n=Er())===null||n===void 0?void 0:n.click()},mR=()=>{var n;return(n=Ms())===null||n===void 0?void 0:n.click()},gR=()=>{var n;return(n=la())===null||n===void 0?void 0:n.click()},ca=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),q0=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},yR=(n,e,t)=>{q0(n),e.toast||(n.keydownHandler=i=>wR(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:je(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Jf=(n,e)=>{var t;const i=Zp();if(i.length){n=n+e,n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=je())===null||t===void 0||t.focus()},W0=["ArrowRight","ArrowDown"],vR=["ArrowLeft","ArrowUp"],wR=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?_R(e,n):e.key==="Tab"?ER(e):[...W0,...vR].includes(e.key)?TR(e.key):e.key==="Escape"&&IR(e,n,t)))},_R=(n,e)=>{if(!Pd(e.allowEnterKey))return;const t=xd(je(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;H0(),n.preventDefault()}},ER=n=>{const e=n.target,t=Zp();let i=-1;for(let o=0;o<t.length;o++)if(e===t[o]){i=o;break}n.shiftKey?Jf(i,-1):Jf(i,1),n.stopPropagation(),n.preventDefault()},TR=n=>{const e=ql(),t=Er(),i=Ms(),o=la();if(!e||!t||!i||!o)return;const l=[t,i,o];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const d=W0.includes(n)?"nextElementSibling":"previousElementSibling";let f=document.activeElement;if(f){for(let p=0;p<e.children.length;p++){if(f=f[d],!f)return;if(f instanceof HTMLButtonElement&&un(f))break}f instanceof HTMLButtonElement&&f.focus()}},IR=(n,e,t)=>{Pd(e.allowEscapeKey)&&(n.preventDefault(),t(ca.esc))};var Jo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const SR=()=>{const n=hn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},K0=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},G0=typeof window<"u"&&!!window.GestureEvent,CR=()=>{if(G0&&!Wr(document.body,$.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Me(document.body,$.iosfix),AR()}},AR=()=>{const n=hn();if(!n)return;let e;n.ontouchstart=t=>{e=PR(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},PR=n=>{const e=n.target,t=hn(),i=Yp();return!t||!i||kR(n)||RR(n)?!1:e===t||!Wv(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Wv(i)&&i.contains(e))},kR=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",RR=n=>n.touches&&n.touches.length>1,bR=()=>{if(Wr(document.body,$.iosfix)){const n=parseInt(document.body.style.top,10);Vn(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},xR=()=>{const n=document.createElement("div");n.className=$["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let zo=null;const NR=n=>{zo===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(zo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${zo+xR()}px`)},DR=()=>{zo!==null&&(document.body.style.paddingRight=`${zo}px`,zo=null)};function Q0(n,e,t,i){bd()?Yv(n,i):(yk(t).then(()=>Yv(n,i)),q0(ye)),G0?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),em()&&(DR(),bR(),K0()),LR()}function LR(){Vn([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function Di(n){n=VR(n);const e=Jo.swalPromiseResolve.get(this),t=OR(this);this.isAwaitingPromise?n.isDismissed||(Gl(this),e(n)):t&&e(n)}const OR=n=>{const e=je();if(!e)return!1;const t=Ye.innerParams.get(n);if(!t||Wr(e,t.hideClass.popup))return!1;Vn(e,t.showClass.popup),Me(e,t.hideClass.popup);const i=hn();return Vn(i,t.showClass.backdrop),Me(i,t.hideClass.backdrop),MR(n,e,t),!0};function Y0(n){const e=Jo.swalPromiseReject.get(this);Gl(this),e&&e(n)}const Gl=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,Ye.innerParams.get(n)||n._destroy())},VR=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),MR=(n,e,t)=>{var i;const o=hn(),l=V0(e);typeof t.willClose=="function"&&t.willClose(e),(i=ye.eventEmitter)===null||i===void 0||i.emit("willClose",e),l?FR(n,e,o,t.returnFocus,t.didClose):Q0(n,o,t.returnFocus,t.didClose)},FR=(n,e,t,i,o)=>{ye.swalCloseEventFinishedCallback=Q0.bind(null,n,t,i,o);const l=function(d){if(d.target===e){var f;(f=ye.swalCloseEventFinishedCallback)===null||f===void 0||f.call(ye),delete ye.swalCloseEventFinishedCallback,e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l)}};e.addEventListener("animationend",l),e.addEventListener("transitionend",l)},Yv=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=ye.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},Zo=n=>{let e=je();if(e||new bs,e=je(),!e)return;const t=ua();bd()?Gt(aa()):UR(e,n),bt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},UR=(n,e)=>{const t=ql(),i=ua();!t||!i||(!e&&un(Er())&&(e=Er()),bt(t),e&&(Gt(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),Me([n,t],$.loading))},jR=(n,e)=>{e.input==="select"||e.input==="radio"?qR(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Gp(e.inputValue)||Qp(e.inputValue))&&(Zo(Er()),WR(n,e))},BR=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return zR(t);case"radio":return $R(t);case"file":return HR(t);default:return e.inputAutoTrim?t.value.trim():t.value}},zR=n=>n.checked?1:0,$R=n=>n.checked?n.value:null,HR=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,qR=(n,e)=>{const t=je();if(!t)return;const i=o=>{e.input==="select"?KR(t,id(o),e):e.input==="radio"&&GR(t,id(o),e)};Gp(e.inputOptions)||Qp(e.inputOptions)?(Zo(Er()),$l(e.inputOptions).then(o=>{n.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):Vs(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},WR=(n,e)=>{const t=n.getInput();t&&(Gt(t),$l(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,bt(t),t.focus(),n.hideLoading()}).catch(i=>{Vs(`Error in inputValue promise: ${i}`),t.value="",bt(t),t.focus(),n.hideLoading()}))};function KR(n,e,t){const i=Ni(n,$.select);if(!i)return;const o=(l,d,f)=>{const p=document.createElement("option");p.value=f,In(p,d),p.selected=X0(f,t.inputValue),l.appendChild(p)};e.forEach(l=>{const d=l[0],f=l[1];if(Array.isArray(f)){const p=document.createElement("optgroup");p.label=d,p.disabled=!1,i.appendChild(p),f.forEach(y=>o(p,y[1],y[0]))}else o(i,f,d)}),i.focus()}function GR(n,e,t){const i=Ni(n,$.radio);if(!i)return;e.forEach(l=>{const d=l[0],f=l[1],p=document.createElement("input"),y=document.createElement("label");p.type="radio",p.name=$.radio,p.value=d,X0(d,t.inputValue)&&(p.checked=!0);const _=document.createElement("span");In(_,f),_.className=$.label,y.appendChild(p),y.appendChild(_),i.appendChild(y)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const id=n=>{const e=[];return n instanceof Map?n.forEach((t,i)=>{let o=t;typeof o=="object"&&(o=id(o)),e.push([i,o])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=id(i)),e.push([t,i])}),e},X0=(n,e)=>!!e&&e.toString()===n.toString(),QR=n=>{const e=Ye.innerParams.get(n);n.disableButtons(),e.input?J0(n,"confirm"):am(n,!0)},YR=n=>{const e=Ye.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?J0(n,"deny"):om(n,!1)},XR=(n,e)=>{n.disableButtons(),e(ca.cancel)},J0=(n,e)=>{const t=Ye.innerParams.get(n);if(!t.input){Vs(`The "input" parameter is needed to be set when using returnInputValueOn${Kp(e)}`);return}const i=n.getInput(),o=BR(n,t);t.inputValidator?JR(n,o,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?om(n,o):am(n,o)},JR=(n,e,t)=>{const i=Ye.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>$l(i.inputValidator(e,i.validationMessage))).then(l=>{n.enableButtons(),n.enableInput(),l?n.showValidationMessage(l):t==="deny"?om(n,e):am(n,e)})},om=(n,e)=>{const t=Ye.innerParams.get(n||void 0);t.showLoaderOnDeny&&Zo(Ms()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>$l(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),Gl(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>Z0(n||void 0,o))):n.close({isDenied:!0,value:e})},Xv=(n,e)=>{n.close({isConfirmed:!0,value:e})},Z0=(n,e)=>{n.rejectPromise(e)},am=(n,e)=>{const t=Ye.innerParams.get(n||void 0);t.showLoaderOnConfirm&&Zo(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>$l(t.preConfirm(e,t.validationMessage))).then(o=>{un(kd())||o===!1?(n.hideLoading(),Gl(n)):Xv(n,typeof o>"u"?e:o)}).catch(o=>Z0(n||void 0,o))):Xv(n,e)};function sd(){const n=Ye.innerParams.get(this);if(!n)return;const e=Ye.domCache.get(this);Gt(e.loader),bd()?n.icon&&bt(aa()):ZR(e),Vn([e.popup,e.actions],$.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const ZR=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?bt(e[0],"inline-block"):Ak()&&Gt(n.actions)};function eE(){const n=Ye.innerParams.get(this),e=Ye.domCache.get(this);return e?xd(e.popup,n.input):null}function tE(n,e,t){const i=Ye.domCache.get(n);e.forEach(o=>{i[o].disabled=t})}function nE(n,e){const t=je();if(!(!t||!n))if(n.type==="radio"){const i=t.querySelectorAll(`[name="${$.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else n.disabled=e}function rE(){tE(this,["confirmButton","denyButton","cancelButton"],!1)}function iE(){tE(this,["confirmButton","denyButton","cancelButton"],!0)}function sE(){nE(this.getInput(),!1)}function oE(){nE(this.getInput(),!0)}function aE(n){const e=Ye.domCache.get(this),t=Ye.innerParams.get(this);In(e.validationMessage,n),e.validationMessage.className=$["validation-message"],t.customClass&&t.customClass.validationMessage&&Me(e.validationMessage,t.customClass.validationMessage),bt(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",$["validation-message"]),L0(i),Me(i,$.inputerror))}function lE(){const n=Ye.domCache.get(this);n.validationMessage&&Gt(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Vn(e,$.inputerror))}const $o={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},eb=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],tb={allowEnterKey:void 0},nb=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],uE=n=>Object.prototype.hasOwnProperty.call($o,n),cE=n=>eb.indexOf(n)!==-1,dE=n=>tb[n],rb=n=>{uE(n)||dn(`Unknown parameter "${n}"`)},ib=n=>{nb.includes(n)&&dn(`The parameter "${n}" is incompatible with toasts`)},sb=n=>{const e=dE(n);e&&b0(n,e)},ob=n=>{n.backdrop===!1&&n.allowOutsideClick&&dn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in n)rb(e),n.toast&&ib(e),sb(e)};function hE(n){const e=je(),t=Ye.innerParams.get(this);if(!e||Wr(e,t.hideClass.popup)){dn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=ab(n),o=Object.assign({},t,i);$0(this,o),Ye.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const ab=n=>{const e={};return Object.keys(n).forEach(t=>{cE(t)?e[t]=n[t]:dn(`Invalid parameter to update: ${t}`)}),e};function fE(){const n=Ye.domCache.get(this),e=Ye.innerParams.get(this);if(!e){pE(this);return}n.popup&&ye.swalCloseEventFinishedCallback&&(ye.swalCloseEventFinishedCallback(),delete ye.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ye.eventEmitter.emit("didDestroy"),lb(this)}const lb=n=>{pE(n),delete n.params,delete ye.keydownHandler,delete ye.keydownTarget,delete ye.currentInstance},pE=n=>{n.isAwaitingPromise?(Sf(Ye,n),n.isAwaitingPromise=!0):(Sf(Jo,n),Sf(Ye,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Sf=(n,e)=>{for(const t in n)n[t].delete(e)};var ub=Object.freeze({__proto__:null,_destroy:fE,close:Di,closeModal:Di,closePopup:Di,closeToast:Di,disableButtons:iE,disableInput:oE,disableLoading:sd,enableButtons:rE,enableInput:sE,getInput:eE,handleAwaitingPromise:Gl,hideLoading:sd,rejectPromise:Y0,resetValidationMessage:lE,showValidationMessage:aE,update:hE});const cb=(n,e,t)=>{n.toast?db(n,e,t):(fb(e),pb(e),mb(n,e,t))},db=(n,e,t)=>{e.popup.onclick=()=>{n&&(hb(n)||n.timer||n.input)||t(ca.close)}},hb=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let od=!1;const fb=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(od=!0)}}},pb=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(od=!0)}}},mb=(n,e,t)=>{e.container.onclick=i=>{if(od){od=!1;return}i.target===e.container&&Pd(n.allowOutsideClick)&&t(ca.backdrop)}},gb=n=>typeof n=="object"&&n.jquery,Jv=n=>n instanceof Element||gb(n),yb=n=>{const e={};return typeof n[0]=="object"&&!Jv(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{const o=n[i];typeof o=="string"||Jv(o)?e[t]=o:o!==void 0&&Vs(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function vb(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function wb(n){class e extends this{_main(i,o){return super._main(i,Object.assign({},n,o))}}return e}const _b=()=>ye.timeout&&ye.timeout.getTimerLeft(),mE=()=>{if(ye.timeout)return Pk(),ye.timeout.stop()},gE=()=>{if(ye.timeout){const n=ye.timeout.start();return nm(n),n}},Eb=()=>{const n=ye.timeout;return n&&(n.running?mE():gE())},Tb=n=>{if(ye.timeout){const e=ye.timeout.increase(n);return nm(e,!0),e}},Ib=()=>!!(ye.timeout&&ye.timeout.isRunning());let Zv=!1;const Zf={};function Sb(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Zf[n]=this,Zv||(document.body.addEventListener("click",Cb),Zv=!0)}const Cb=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in Zf){const i=e.getAttribute(t);if(i){Zf[t].fire({template:i});return}}};class Ab{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){var i=this;const o=function(){i.removeListener(e,o);for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];t.apply(i,d)};this.on(e,o)}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(l=>{try{l.apply(this,i)}catch(d){console.error(d)}})}removeListener(e,t){const i=this._getHandlersByEventName(e),o=i.indexOf(t);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ye.eventEmitter=new Ab;const Pb=(n,e)=>{ye.eventEmitter.on(n,e)},kb=(n,e)=>{ye.eventEmitter.once(n,e)},Rb=(n,e)=>{if(!n){ye.eventEmitter.reset();return}e?ye.eventEmitter.removeListener(n,e):ye.eventEmitter.removeAllListeners(n)};var bb=Object.freeze({__proto__:null,argsToParams:yb,bindClickHandler:Sb,clickCancel:gR,clickConfirm:H0,clickDeny:mR,enableLoading:Zo,fire:vb,getActions:ql,getCancelButton:la,getCloseButton:Jp,getConfirmButton:Er,getContainer:hn,getDenyButton:Ms,getFocusableElements:Zp,getFooter:D0,getHtmlContainer:Yp,getIcon:aa,getIconContent:Ek,getImage:N0,getInputLabel:Tk,getLoader:ua,getPopup:je,getProgressSteps:Xp,getTimerLeft:_b,getTimerProgressBar:Rd,getTitle:x0,getValidationMessage:kd,increaseTimer:Tb,isDeprecatedParameter:dE,isLoading:Sk,isTimerRunning:Ib,isUpdatableParameter:cE,isValidParameter:uE,isVisible:pR,mixin:wb,off:Rb,on:Pb,once:kb,resumeTimer:gE,showLoading:Zo,stopTimer:mE,toggleTimer:Eb});class xb{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const yE=["swal-title","swal-html","swal-footer"],Nb=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return jb(t),Object.assign(Db(t),Lb(t),Ob(t),Vb(t),Mb(t),Fb(t),Ub(t,yE))},Db=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{Rs(i,["name","value"]);const o=i.getAttribute("name"),l=i.getAttribute("value");!o||!l||(typeof $o[o]=="boolean"?e[o]=l!=="false":typeof $o[o]=="object"?e[o]=JSON.parse(l):e[o]=l)}),e},Lb=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),l=i.getAttribute("value");!o||!l||(e[o]=new Function(`return ${l}`)())}),e},Ob=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{Rs(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${Kp(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},Vb=n=>{const e={},t=n.querySelector("swal-image");return t&&(Rs(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},Mb=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Rs(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},Fb=n=>{const e={},t=n.querySelector("swal-input");t&&(Rs(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Rs(o,["value"]);const l=o.getAttribute("value");if(!l)return;const d=o.innerHTML;e.inputOptions[l]=d})),e},Ub=(n,e)=>{const t={};for(const i in e){const o=e[i],l=n.querySelector(o);l&&(Rs(l,[]),t[o.replace(/^swal-/,"")]=l.innerHTML.trim())}return t},jb=n=>{const e=yE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const i=t.tagName.toLowerCase();e.includes(i)||dn(`Unrecognized element <${i}>`)})},Rs=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&dn([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},vE=10,Bb=n=>{const e=hn(),t=je();typeof n.willOpen=="function"&&n.willOpen(t),ye.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;Hb(e,t,n),setTimeout(()=>{zb(e,t)},vE),em()&&($b(e,n.scrollbarPadding,o),SR()),!bd()&&!ye.previousActiveElement&&(ye.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),ye.eventEmitter.emit("didOpen",t),Vn(e,$["no-transition"])},ad=n=>{const e=je();if(n.target!==e)return;const t=hn();e.removeEventListener("animationend",ad),e.removeEventListener("transitionend",ad),t.style.overflowY="auto"},zb=(n,e)=>{V0(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",ad),e.addEventListener("transitionend",ad)):n.style.overflowY="auto"},$b=(n,e,t)=>{CR(),e&&t!=="hidden"&&NR(t),setTimeout(()=>{n.scrollTop=0})},Hb=(n,e,t)=>{Me(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),bt(e,"grid"),setTimeout(()=>{Me(e,t.showClass.popup),e.style.removeProperty("opacity")},vE)):bt(e,"grid"),Me([document.documentElement,document.body],$.shown),t.heightAuto&&t.backdrop&&!t.toast&&Me([document.documentElement,document.body],$["height-auto"])};var ew={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function qb(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=ew.email),n.input==="url"&&(n.inputValidator=ew.url))}function Wb(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(dn('Target parameter is not valid, defaulting to "body"'),n.target="body")}function Kb(n){qb(n),n.showLoaderOnConfirm&&!n.preConfirm&&dn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Wb(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),Ok(n)}let fr;var Ec=new WeakMap;class ht{constructor(){if(fk(this,Ec,void 0),typeof window>"u")return;fr=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const o=Object.freeze(this.constructor.argsToParams(t));this.params=o,this.isAwaitingPromise=!1,pk(Ec,this,this._main(fr.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ob(Object.assign({},t,e)),ye.currentInstance){const l=Jo.swalPromiseResolve.get(ye.currentInstance),{isAwaitingPromise:d}=ye.currentInstance;ye.currentInstance._destroy(),d||l({isDismissed:!0}),em()&&K0()}ye.currentInstance=fr;const i=Qb(e,t);Kb(i),Object.freeze(i),ye.timeout&&(ye.timeout.stop(),delete ye.timeout),clearTimeout(ye.restoreFocusTimeout);const o=Yb(fr);return $0(fr,i),Ye.innerParams.set(fr,i),Gb(fr,o,i)}then(e){return $v(Ec,this).then(e)}finally(e){return $v(Ec,this).finally(e)}}const Gb=(n,e,t)=>new Promise((i,o)=>{const l=d=>{n.close({isDismissed:!0,dismiss:d})};Jo.swalPromiseResolve.set(n,i),Jo.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{QR(n)},e.denyButton.onclick=()=>{YR(n)},e.cancelButton.onclick=()=>{XR(n,l)},e.closeButton.onclick=()=>{l(ca.close)},cb(t,e,l),yR(ye,t,l),jR(n,t),Bb(t),Xb(ye,t,l),Jb(e,t),setTimeout(()=>{e.container.scrollTop=0})}),Qb=(n,e)=>{const t=Nb(n),i=Object.assign({},$o,e,t,n);return i.showClass=Object.assign({},$o.showClass,i.showClass),i.hideClass=Object.assign({},$o.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},Yb=n=>{const e={popup:je(),container:hn(),actions:ql(),confirmButton:Er(),denyButton:Ms(),cancelButton:la(),loader:ua(),closeButton:Jp(),validationMessage:kd(),progressSteps:Xp()};return Ye.domCache.set(n,e),e},Xb=(n,e,t)=>{const i=Rd();Gt(i),e.timer&&(n.timeout=new xb(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(bt(i),En(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&nm(e.timer)})))},Jb=(n,e)=>{if(!e.toast){if(!Pd(e.allowEnterKey)){b0("allowEnterKey"),tx();return}Zb(n)||ex(n,e)||Jf(-1,1)}},Zb=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&un(t))return t.focus(),!0;return!1},ex=(n,e)=>e.focusDeny&&un(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&un(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&un(n.confirmButton)?(n.confirmButton.focus(),!0):!1,tx=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}ht.prototype.disableButtons=iE;ht.prototype.enableButtons=rE;ht.prototype.getInput=eE;ht.prototype.disableInput=oE;ht.prototype.enableInput=sE;ht.prototype.hideLoading=sd;ht.prototype.disableLoading=sd;ht.prototype.showValidationMessage=aE;ht.prototype.resetValidationMessage=lE;ht.prototype.close=Di;ht.prototype.closePopup=Di;ht.prototype.closeModal=Di;ht.prototype.closeToast=Di;ht.prototype.rejectPromise=Y0;ht.prototype.update=hE;ht.prototype._destroy=fE;Object.assign(ht,bb);Object.keys(ub).forEach(n=>{ht[n]=function(){return fr&&fr[n]?fr[n](...arguments):null}});ht.DismissReason=ca;ht.version="11.15.2";const bs=ht;bs.default=bs;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');const nx=async(n,e)=>{const i=(await WA(zl,n,e)).user;return await z_(Wf(Xf,"users",i.uid),{email:i.email,createdAt:new Date}),await p0(i),i},rx=async(n,e)=>(await KA(zl,n,e)).user,ix=async n=>{await p0(n)},ea=n=>{bs.fire({icon:"error",title:"Error",text:ox(n)})},Ql=n=>{bs.fire({icon:"success",title:"xito",text:n})},sx=n=>{bs.fire({icon:"info",title:"Informacin",text:n})},wE=n=>{bs.fire({icon:"info",title:"Verificacin necesaria",text:"Debes verificar tu correo electrnico.",footer:'<a href="#" id="send-verification-link">Enviar correo de verificacin nuevamente</a>',didRender:()=>{document.querySelector("#send-verification-link").addEventListener("click",async t=>{t.preventDefault();try{await ix(n),Ql("Se ha enviado un nuevo correo de verificacin.")}catch(i){ea(i.message)}})}})},tw={"auth/email-already-in-use":"Este correo ya est registrado. Por favor, usa otro correo o inicia sesin.","auth/invalid-email":"El correo electrnico no es vlido. Verifcalo e intntalo de nuevo.","auth/operation-not-allowed":"La operacin no est permitida. Contacta al soporte para ms informacin.","auth/weak-password":"La contrasea es demasiado dbil. Usa una combinacin de letras, nmeros y smbolos.","auth/user-disabled":"La cuenta de usuario ha sido deshabilitada. Contacta al soporte para ms informacin.","auth/user-not-found":"No se encontr un usuario con este correo electrnico. Verifica e intntalo de nuevo.","auth/wrong-password":"La contrasea es incorrecta. Verifica e intntalo de nuevo.","auth/account-exists-with-different-credential":"Ya existe una cuenta con estas credenciales. Intenta iniciar sesin con otro mtodo.","auth/invalid-credential":"Las credenciales proporcionadas no son vlidas. Verifica e intntalo de nuevo.","auth/invalid-verification-code":"El cdigo de verificacin no es vlido. Verifica e intntalo de nuevo.","auth/invalid-verification-id":"El ID de verificacin no es vlido. Verifica e intntalo de nuevo.","auth/credential-already-in-use":"Estas credenciales ya estn en uso. Por favor, usa otras credenciales.","auth/timeout":"La operacin ha expirado. Por favor, intntalo de nuevo.","auth/too-many-requests":"Se han realizado demasiados intentos. Por favor, espera un momento e intntalo de nuevo.","auth/popup-closed-by-user":"El popup fue cerrado antes de completar la operacin. Intntalo de nuevo.","auth/popup-blocked":"El popup fue bloqueado por el navegador. Permite los popups e intntalo de nuevo.","auth/unauthorized-domain":"El dominio no est autorizado para realizar esta operacin.","auth/network-request-failed":"La solicitud de red fall. Por favor, verifica tu conexin e intntalo de nuevo.","auth/requires-recent-login":"Esta operacin requiere que hayas iniciado sesin recientemente. Por favor, inicia sesin de nuevo e intntalo.","auth/missing-email":"El correo electrnico es obligatorio. Proporcinalo e intntalo de nuevo.","auth/missing-password":"La contrasea es obligatoria. Proporcinala e intntalo de nuevo.","auth/quota-exceeded":"Se ha excedido la cuota. Intntalo de nuevo ms tarde."},ox=n=>{const e=Object.keys(tw).find(t=>n.includes(t));return tw[e]||`Ocurri un error. Por favor, intenta de nuevo. (${n})`},ax=()=>{const{currentUser:n}=Wp(),[e,t]=W.useState(null),[i,o]=W.useState(!1);W.useEffect(()=>{n&&(async()=>{try{const f=Wf(Xf,"formularios",n.uid),p=await H2(f);p.exists()?t(p.data()):(console.log("No se encontraron datos previos."),t({}))}catch(f){console.error("Error al obtener los datos:",f)}})()},[n]);const l=async d=>{d.preventDefault(),o(!0);const f=new FormData(d.target),p={userId:n.uid,inst_institucion:f.get("inst_institucion"),inst_cuit:f.get("inst_cuit"),inst_domicilio:f.get("inst_domicilio"),inst_localidad:f.get("inst_localidad"),inst_cp:f.get("inst_cp"),inst_telefono:f.get("inst_telefono"),inst_mail:f.get("inst_mail"),coord_nombre:f.get("coord_nombre"),coord_dni:f.get("coord_dni"),coord_registro:f.get("coord_registro"),coord_telefono:f.get("coord_telefono"),coord_mail:f.get("coord_mail"),coord_horario:f.get("coord_horario")};console.log(p);try{const y=Wf(Xf,"formularios",n.uid);await z_(y,p,{merge:!0}),Ql("Datos actualizados exitosamente.")}catch(y){ea(y.message)}finally{o(!1)}};return e?q.jsxs("form",{className:"Form",id:"myForm",action:"",onSubmit:l,children:[q.jsx("p",{children:"*Se debe presentar 1 (un) formulario por cada proyecto solicitado."}),q.jsx("p",{children:"La institucin deber tener vigente su inscripcin al SIPAF al momento de la presentacin del proyecto"}),q.jsxs("section",{children:[q.jsx("h2",{children:"1. INSTITUCIN(ES) QUE PRESENTA(N) LA PROPUESTA:"}),q.jsxs("fieldset",{children:[q.jsx(_n,{label:"INSTITUCIN:",name:"inst_institucion",defaultValue:e.inst_institucion||""}),q.jsx(_n,{label:"CUIT:",name:"inst_cuit",defaultValue:e.inst_cuit||""}),q.jsx(_n,{label:"DOMICILIO:",name:"inst_domicilio",defaultValue:e.inst_domicilio||""}),q.jsx(_n,{label:"LOCALIDAD:",name:"inst_localidad",defaultValue:e.inst_localidad||""}),q.jsx(_n,{label:"CP:",name:"inst_cp",defaultValue:e.inst_cp||""}),q.jsx(_n,{label:"TELFONO:",name:"inst_telefono",defaultValue:e.inst_telefono||""}),q.jsx(_n,{label:"MAIL INSTITUCIONAL:",name:"inst_mail",defaultValue:e.inst_mail||""})]}),q.jsxs("fieldset",{children:[q.jsx("h2",{children:"2. COORDINADOR/A DEL PROYECTO (Nexo con la Direccin de Capacitacin y Formacin Laboral):"}),q.jsx(_n,{label:"NOMBRE COMPLETO:",name:"coord_nombre",defaultValue:e.coord_nombre||""}),q.jsx(_n,{label:"DNI:",name:"coord_dni",defaultValue:e.coord_dni||""}),q.jsx(_n,{label:"N DE REGISTRO:",name:"coord_registro",defaultValue:e.coord_registro||""}),q.jsx(_n,{label:"TELFONO:",name:"coord_telefono",defaultValue:e.coord_telefono||""}),q.jsx(_n,{label:"MAIL:",name:"coord_mail",defaultValue:e.coord_mail||""}),q.jsx(_n,{label:"HORARIO:",name:"coord_horario",defaultValue:e.coord_horario||""}),q.jsx("div",{className:"form-group",children:q.jsx("label",{children:"Descripcin de su funcin en la Institucin que presenta:"})}),q.jsx("div",{className:"form-group",children:q.jsx("input",{type:"text",id:"coord_descripcion"})})]}),q.jsxs("fieldset",{children:[q.jsx("h2",{children:"3. Ha trabajado con programas de empleo y capacitacin de la provincia?"}),q.jsx("div",{className:"form-group",children:q.jsxs("label",{className:"label_checkbox",children:[q.jsx("input",{type:"radio",name:"programas_empleo",value:"si"}),"S"]})}),q.jsx("div",{className:"form-group",children:q.jsxs("label",{className:"label_checkbox",children:[q.jsx("input",{type:"radio",name:"programas_empleo",value:"no"}),"No"]})}),q.jsx("div",{className:"form-group",children:q.jsx("p",{children:"Cules?"})}),q.jsx("div",{className:"form-group",children:q.jsxs("label",{className:"label_checkbox",children:[q.jsx("input",{type:"checkbox",name:"programas[]",value:"Redes / Santa Fe Capacita"}),"Redes / Santa Fe Capacita"]})}),q.jsx("div",{className:"form-group",children:q.jsxs("label",{className:"label_checkbox",children:[q.jsx("input",{type:"checkbox",name:"programas[]",value:"Nexo Oportunidad / Prcticas Laborales"}),"Nexo Oportunidad / Prcticas Laborales"]})}),q.jsx("div",{className:"form-group",children:q.jsxs("label",{className:"label_checkbox",children:[q.jsx("input",{type:"checkbox",name:"programas[]",value:"Mi Primer Empleo"}),"Mi Primer Empleo"]})}),q.jsx("div",{className:"form-group",children:q.jsxs("label",{className:"label_checkbox",children:[q.jsx("input",{type:"checkbox",name:"programas[]",value:"Nueva Oportunidad / Santa Fe Ms"}),"Nueva Oportunidad / Santa Fe Ms"]})})]}),q.jsxs("fieldset",{children:[q.jsx("h2",{children:"4. Describir brevemente qu actividades realizan en la institucin y qu se aportar para el desarrollo de la propuesta (Ejemplo: Instalaciones, Maquinarias). Acompaar fotos de las instalaciones:"}),q.jsx("div",{className:"form-group",children:q.jsx("textarea",{rows:"3",name:"",id:""})})]})]}),q.jsx("button",{className:"button no-print",type:"submit",disabled:i,children:i?"Enviando...":"Enviar y Actualizar Datos"}),q.jsx("button",{className:"button no-print",type:"button",onClick:()=>window.print(),children:"Imprimir Formulario"})]}):q.jsx("p",{children:"Cargando datos del formulario..."})};var ll={},nw;function lx(){if(nw)return ll;nw=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.parse=d,ll.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function d(C,D){const F=new l,H=C.length;if(H<2)return F;const j=(D==null?void 0:D.decode)||_;let G=0;do{const X=C.indexOf("=",G);if(X===-1)break;const ie=C.indexOf(";",G),he=ie===-1?H:ie;if(X>he){G=C.lastIndexOf(";",X-1)+1;continue}const Ae=f(C,G,X),Se=p(C,X,Ae),b=C.slice(Ae,Se);if(F[b]===void 0){let T=f(C,X+1,he),A=p(C,he,T);const R=j(C.slice(T,A));F[b]=R}G=he+1}while(G<H);return F}function f(C,D,F){do{const H=C.charCodeAt(D);if(H!==32&&H!==9)return D}while(++D<F);return F}function p(C,D,F){for(;D>F;){const H=C.charCodeAt(--D);if(H!==32&&H!==9)return D+1}return F}function y(C,D,F){const H=(F==null?void 0:F.encode)||encodeURIComponent;if(!n.test(C))throw new TypeError(`argument name is invalid: ${C}`);const j=H(D);if(!e.test(j))throw new TypeError(`argument val is invalid: ${D}`);let G=C+"="+j;if(!F)return G;if(F.maxAge!==void 0){if(!Number.isInteger(F.maxAge))throw new TypeError(`option maxAge is invalid: ${F.maxAge}`);G+="; Max-Age="+F.maxAge}if(F.domain){if(!t.test(F.domain))throw new TypeError(`option domain is invalid: ${F.domain}`);G+="; Domain="+F.domain}if(F.path){if(!i.test(F.path))throw new TypeError(`option path is invalid: ${F.path}`);G+="; Path="+F.path}if(F.expires){if(!I(F.expires)||!Number.isFinite(F.expires.valueOf()))throw new TypeError(`option expires is invalid: ${F.expires}`);G+="; Expires="+F.expires.toUTCString()}if(F.httpOnly&&(G+="; HttpOnly"),F.secure&&(G+="; Secure"),F.partitioned&&(G+="; Partitioned"),F.priority)switch(typeof F.priority=="string"?F.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${F.priority}`)}if(F.sameSite)switch(typeof F.sameSite=="string"?F.sameSite.toLowerCase():F.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${F.sameSite}`)}return G}function _(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function I(C){return o.call(C)==="[object Date]"}return ll}lx();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rw="popstate";function ux(n={}){function e(o,l){let{pathname:d="/",search:f="",hash:p=""}=Fs(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),ep("",{pathname:d,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let d=o.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");f=y===-1?p:p.slice(0,y)}return f+"#"+(typeof l=="string"?l:xl(l))}function i(o,l){Mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return dx(e,t,i,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cx(){return Math.random().toString(36).substring(2,10)}function iw(n,e){return{usr:n.state,key:n.key,idx:e}}function ep(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fs(e):e,state:t,key:e&&e.key||i||cx()}}function xl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function dx(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,d=o.history,f="POP",p=null,y=_();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function _(){return(d.state||{idx:null}).idx}function I(){f="POP";let j=_(),G=j==null?null:j-y;y=j,p&&p({action:f,location:H.location,delta:G})}function C(j,G){f="PUSH";let X=ep(H.location,j,G);t&&t(X,j),y=_()+1;let ie=iw(X,y),he=H.createHref(X);try{d.pushState(ie,"",he)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(he)}l&&p&&p({action:f,location:H.location,delta:1})}function D(j,G){f="REPLACE";let X=ep(H.location,j,G);t&&t(X,j),y=_();let ie=iw(X,y),he=H.createHref(X);d.replaceState(ie,"",he),l&&p&&p({action:f,location:H.location,delta:0})}function F(j){let G=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof j=="string"?j:xl(j);return X=X.replace(/ $/,"%20"),tt(G,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,G)}let H={get action(){return f},get location(){return n(o,d)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(rw,I),p=j,()=>{o.removeEventListener(rw,I),p=null}},createHref(j){return e(o,j)},createURL:F,encodeLocation(j){let G=F(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:C,replace:D,go(j){return d.go(j)}};return H}function _E(n,e,t="/"){return hx(n,e,t,!1)}function hx(n,e,t,i){let o=typeof e=="string"?Fs(e):e,l=$i(o.pathname||"/",t);if(l==null)return null;let d=EE(n);fx(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let y=Sx(l);f=Tx(d[p],y,i)}return f}function EE(n,e=[],t=[],i=""){let o=(l,d,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Kr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),EE(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:_x(y,l.index),routesMeta:_})};return n.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,d);else for(let p of TE(l.path))o(l,d,p)}),e}function TE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let d=TE(i.join("/")),f=[];return f.push(...d.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...d),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function fx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Ex(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var px=/^:[\w-]+$/,mx=3,gx=2,yx=1,vx=10,wx=-2,sw=n=>n==="*";function _x(n,e){let t=n.split("/"),i=t.length;return t.some(sw)&&(i+=wx),e&&(i+=gx),t.filter(o=>!sw(o)).reduce((o,l)=>o+(px.test(l)?mx:l===""?yx:vx),i)}function Ex(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function Tx(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",d=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",I=ld({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),C=p.route;if(!I&&y&&t&&!i[i.length-1].route.index&&(I=ld({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!I)return null;Object.assign(o,I.params),d.push({params:o,pathname:Kr([l,I.pathname]),pathnameBase:kx(Kr([l,I.pathnameBase])),route:C}),I.pathnameBase!=="/"&&(l=Kr([l,I.pathnameBase]))}return d}function ld(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Ix(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:I},C)=>{if(_==="*"){let F=f[C]||"";d=l.slice(0,l.length-F.length).replace(/(.)\/+$/,"$1")}const D=f[C];return I&&!D?y[_]=void 0:y[_]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:d,pattern:n}}function Ix(n,e=!1,t=!0){Mn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Sx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $i(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Cx(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Fs(n):n;return{pathname:t?t.startsWith("/")?t:Ax(t,e):e,search:Rx(i),hash:bx(o)}}function Ax(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Cf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Px(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lm(n){let e=Px(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function um(n,e,t,i=!1){let o;typeof n=="string"?o=Fs(n):(o={...n},tt(!o.pathname||!o.pathname.includes("?"),Cf("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Cf("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Cf("#","search","hash",o)));let l=n===""||o.pathname==="",d=l?"/":o.pathname,f;if(d==null)f=t;else{let I=e.length-1;if(!i&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),I-=1;o.pathname=C.join("/")}f=I>=0?e[I]:"/"}let p=Cx(o,f),y=d&&d!=="/"&&d.endsWith("/"),_=(l||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Kr=n=>n.join("/").replace(/\/\/+/g,"/"),kx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Rx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var Nx=["GET",...IE];new Set(Nx);var da=W.createContext(null);da.displayName="DataRouter";var Nd=W.createContext(null);Nd.displayName="DataRouterState";var SE=W.createContext({isTransitioning:!1});SE.displayName="ViewTransition";var Dx=W.createContext(new Map);Dx.displayName="Fetchers";var Lx=W.createContext(null);Lx.displayName="Await";var tr=W.createContext(null);tr.displayName="Navigation";var Yl=W.createContext(null);Yl.displayName="Location";var Tr=W.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var cm=W.createContext(null);cm.displayName="RouteError";function Ox(n,{relative:e}={}){tt(ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=W.useContext(tr),{hash:o,pathname:l,search:d}=Jl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Kr([t,l])),i.createHref({pathname:f,search:d,hash:o})}function ha(){return W.useContext(Yl)!=null}function Hi(){return tt(ha(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Yl).location}var CE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(n){W.useContext(tr).static||W.useLayoutEffect(n)}function Xl(){let{isDataRoute:n}=W.useContext(Tr);return n?Gx():Vx()}function Vx(){tt(ha(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(da),{basename:e,navigator:t}=W.useContext(tr),{matches:i}=W.useContext(Tr),{pathname:o}=Hi(),l=JSON.stringify(lm(i)),d=W.useRef(!1);return AE(()=>{d.current=!0}),W.useCallback((p,y={})=>{if(Mn(d.current,CE),!d.current)return;if(typeof p=="number"){t.go(p);return}let _=um(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Kr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}W.createContext(null);function Jl(n,{relative:e}={}){let{matches:t}=W.useContext(Tr),{pathname:i}=Hi(),o=JSON.stringify(lm(t));return W.useMemo(()=>um(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function Mx(n,e){return PE(n,e)}function PE(n,e,t,i){var G;tt(ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(tr),{matches:l}=W.useContext(Tr),d=l[l.length-1],f=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let X=_&&_.path||"";kE(p,!_||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let I=Hi(),C;if(e){let X=typeof e=="string"?Fs(e):e;tt(y==="/"||((G=X.pathname)==null?void 0:G.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${X.pathname}" was given in the \`location\` prop.`),C=X}else C=I;let D=C.pathname||"/",F=D;if(y!=="/"){let X=y.replace(/^\//,"").split("/");F="/"+D.replace(/^\//,"").split("/").slice(X.length).join("/")}let H=_E(n,{pathname:F});Mn(_||H!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Mn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=zx(H&&H.map(X=>Object.assign({},X,{params:Object.assign({},f,X.params),pathname:Kr([y,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?y:Kr([y,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),l,t,i);return e&&j?W.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},j):j}function Fx(){let n=Kx(),e=xx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:l},"ErrorBoundary")," or"," ",W.createElement("code",{style:l},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,d)}var Ux=W.createElement(Fx,null),jx=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(Tr.Provider,{value:this.props.routeContext},W.createElement(cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bx({routeContext:n,match:e,children:t}){let i=W.useContext(da);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Tr.Provider,{value:n},t)}function zx(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:I}=t,C=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||C){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let I,C=!1,D=null,F=null;t&&(I=l&&y.route.id?l[y.route.id]:void 0,D=y.route.errorElement||Ux,d&&(f<0&&_===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,F=null):f===_&&(C=!0,F=y.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,_+1)),j=()=>{let G;return I?G=D:C?G=F:y.route.Component?G=W.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=p,W.createElement(Bx,{match:y,routeContext:{outlet:p,matches:H,isDataRoute:t!=null},children:G})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?W.createElement(jx,{location:t.location,revalidation:t.revalidation,component:D,error:I,children:j(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):j()},null)}function dm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $x(n){let e=W.useContext(da);return tt(e,dm(n)),e}function Hx(n){let e=W.useContext(Nd);return tt(e,dm(n)),e}function qx(n){let e=W.useContext(Tr);return tt(e,dm(n)),e}function hm(n){let e=qx(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Wx(){return hm("useRouteId")}function Kx(){var i;let n=W.useContext(cm),e=Hx("useRouteError"),t=hm("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Gx(){let{router:n}=$x("useNavigate"),e=hm("useNavigate"),t=W.useRef(!1);return AE(()=>{t.current=!0}),W.useCallback(async(o,l={})=>{Mn(t.current,CE),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var ow={};function kE(n,e,t){!e&&!ow[n]&&(ow[n]=!0,Mn(!1,t))}W.memo(Qx);function Qx({routes:n,future:e,state:t}){return PE(n,void 0,t,e)}function aw({to:n,replace:e,state:t,relative:i}){tt(ha(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=W.useContext(tr);Mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=W.useContext(Tr),{pathname:d}=Hi(),f=Xl(),p=um(n,lm(l),d,i==="path"),y=JSON.stringify(p);return W.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:i})},[f,y,i,e,t]),null}function Vo(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){tt(!ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),f=W.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof t=="string"&&(t=Fs(t));let{pathname:p="/",search:y="",hash:_="",state:I=null,key:C="default"}=t,D=W.useMemo(()=>{let F=$i(p,d);return F==null?null:{location:{pathname:F,search:y,hash:_,state:I,key:C},navigationType:i}},[d,p,y,_,I,C,i]);return Mn(D!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:W.createElement(tr.Provider,{value:f},W.createElement(Yl.Provider,{children:e,value:D}))}function Xx({children:n,location:e}){return Mx(tp(n),e)}function tp(n,e=[]){let t=[];return W.Children.forEach(n,(i,o)=>{if(!W.isValidElement(i))return;let l=[...e,o];if(i.type===W.Fragment){t.push.apply(t,tp(i.props.children,l));return}tt(i.type===Vo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=tp(i.props.children,l)),t.push(d)}),t}var Nc="get",Dc="application/x-www-form-urlencoded";function Dd(n){return n!=null&&typeof n.tagName=="string"}function Jx(n){return Dd(n)&&n.tagName.toLowerCase()==="button"}function Zx(n){return Dd(n)&&n.tagName.toLowerCase()==="form"}function eN(n){return Dd(n)&&n.tagName.toLowerCase()==="input"}function tN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nN(n,e){return n.button===0&&(!e||e==="_self")&&!tN(n)}var Tc=null;function rN(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var iN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Af(n){return n!=null&&!iN.has(n)?(Mn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):n}function sN(n,e){let t,i,o,l,d;if(Zx(n)){let f=n.getAttribute("action");i=f?$i(f,e):null,t=n.getAttribute("method")||Nc,o=Af(n.getAttribute("enctype"))||Dc,l=new FormData(n)}else if(Jx(n)||eN(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?$i(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Nc,o=Af(n.getAttribute("formenctype"))||Af(f.getAttribute("enctype"))||Dc,l=new FormData(f,n),!rN()){let{name:y,type:_,value:I}=n;if(_==="image"){let C=y?`${y}.`:"";l.append(`${C}x`,"0"),l.append(`${C}y`,"0")}else y&&l.append(y,I)}}else{if(Dd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nc,i=null,o=Dc,d=n}return l&&o==="text/plain"&&(d=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:d}}function fm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function oN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lN(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await oN(l,t);return d.links?d.links():[]}return[]}));return hN(i.flat(1).filter(aN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function lw(n,e,t,i,o,l){let d=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>d(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var I;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(d(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function uN(n,e){return cN(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function cN(n){return[...new Set(n)]}function dN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function hN(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(dN(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function fN(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function pN(){let n=W.useContext(da);return fm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mN(){let n=W.useContext(Nd);return fm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var pm=W.createContext(void 0);pm.displayName="FrameworkContext";function RE(){let n=W.useContext(pm);return fm(n,"You must render this element inside a <HydratedRouter> element"),n}function gN(n,e){let t=W.useContext(pm),[i,o]=W.useState(!1),[l,d]=W.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:I}=e,C=W.useRef(null);W.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let H=G=>{G.forEach(X=>{d(X.isIntersecting)})},j=new IntersectionObserver(H,{threshold:.5});return C.current&&j.observe(C.current),()=>{j.disconnect()}}},[n]),W.useEffect(()=>{if(i){let H=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(H)}}},[i]);let D=()=>{o(!0)},F=()=>{o(!1),d(!1)};return t?n!=="intent"?[l,C,{}]:[l,C,{onFocus:ul(f,D),onBlur:ul(p,F),onMouseEnter:ul(y,D),onMouseLeave:ul(_,F),onTouchStart:ul(I,D)}]:[!1,C,{}]}function ul(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function yN({page:n,...e}){let{router:t}=pN(),i=W.useMemo(()=>_E(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?W.createElement(wN,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function vN(n){let{manifest:e,routeModules:t}=RE(),[i,o]=W.useState([]);return W.useEffect(()=>{let l=!1;return lN(n,e,t).then(d=>{l||o(d)}),()=>{l=!0}},[n,e,t]),i}function wN({page:n,matches:e,...t}){let i=Hi(),{manifest:o,routeModules:l}=RE(),{loaderData:d,matches:f}=mN(),p=W.useMemo(()=>lw(n,e,f,o,i,"data"),[n,e,f,o,i]),y=W.useMemo(()=>lw(n,e,f,o,i,"assets"),[n,e,f,o,i]),_=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let D=new Set,F=!1;if(e.forEach(j=>{var X;let G=o.routes[j.route.id];!G||!G.hasLoader||(!p.some(ie=>ie.route.id===j.route.id)&&j.route.id in d&&((X=l[j.route.id])!=null&&X.shouldRevalidate)||G.hasClientLoader?F=!0:D.add(j.route.id))}),D.size===0)return[];let H=fN(n);return F&&D.size>0&&H.searchParams.set("_routes",e.filter(j=>D.has(j.route.id)).map(j=>j.route.id).join(",")),[H.pathname+H.search]},[d,i,o,p,e,n,l]),I=W.useMemo(()=>uN(y,o),[y,o]),C=vN(y);return W.createElement(W.Fragment,null,_.map(D=>W.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),I.map(D=>W.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),C.map(({key:D,link:F})=>W.createElement("link",{key:D,...F})))}function _N(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bE&&(window.__reactRouterVersion="7.0.2")}catch{}function EN({basename:n,children:e,window:t}){let i=W.useRef();i.current==null&&(i.current=ux({window:t,v5Compat:!0}));let o=i.current,[l,d]=W.useState({action:o.action,location:o.location}),f=W.useCallback(p=>{W.startTransition(()=>d(p))},[d]);return W.useLayoutEffect(()=>o.listen(f),[o,f]),W.createElement(Yx,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NE=W.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:d,state:f,target:p,to:y,preventScrollReset:_,viewTransition:I,...C},D){let{basename:F}=W.useContext(tr),H=typeof y=="string"&&xE.test(y),j,G=!1;if(typeof y=="string"&&H&&(j=y,bE))try{let A=new URL(window.location.href),R=y.startsWith("//")?new URL(A.protocol+y):new URL(y),N=$i(R.pathname,F);R.origin===A.origin&&N!=null?y=N+R.search+R.hash:G=!0}catch{Mn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=Ox(y,{relative:o}),[ie,he,Ae]=gN(i,C),Se=SN(y,{replace:d,state:f,target:p,preventScrollReset:_,relative:o,viewTransition:I});function b(A){e&&e(A),A.defaultPrevented||Se(A)}let T=W.createElement("a",{...C,...Ae,href:j||X,onClick:G||l?e:b,ref:_N(D,he),target:p,"data-discover":!H&&t==="render"?"true":void 0});return ie&&!H?W.createElement(W.Fragment,null,T,W.createElement(yN,{page:X})):T});NE.displayName="Link";var Lc=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:d,viewTransition:f,children:p,...y},_){let I=Jl(d,{relative:y.relative}),C=Hi(),D=W.useContext(Nd),{navigator:F,basename:H}=W.useContext(tr),j=D!=null&&RN(I)&&f===!0,G=F.encodeLocation?F.encodeLocation(I).pathname:I.pathname,X=C.pathname,ie=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(X=X.toLowerCase(),ie=ie?ie.toLowerCase():null,G=G.toLowerCase()),ie&&H&&(ie=$i(ie,H)||ie);const he=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Ae=X===G||!o&&X.startsWith(G)&&X.charAt(he)==="/",Se=ie!=null&&(ie===G||!o&&ie.startsWith(G)&&ie.charAt(G.length)==="/"),b={isActive:Ae,isPending:Se,isTransitioning:j},T=Ae?e:void 0,A;typeof i=="function"?A=i(b):A=[i,Ae?"active":null,Se?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(b):l;return W.createElement(NE,{...y,"aria-current":T,className:A,ref:_,style:R,to:d,viewTransition:f},typeof p=="function"?p(b):p)});Lc.displayName="NavLink";var TN=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:d=Nc,action:f,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:I,...C},D)=>{let F=PN(),H=kN(f,{relative:y}),j=d.toLowerCase()==="get"?"get":"post",G=typeof f=="string"&&xE.test(f),X=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let he=ie.nativeEvent.submitter,Ae=(he==null?void 0:he.getAttribute("formmethod"))||d;F(he||ie.currentTarget,{fetcherKey:e,method:Ae,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:I})};return W.createElement("form",{ref:D,method:j,action:H,onSubmit:i?p:X,...C,"data-discover":!G&&n==="render"?"true":void 0})});TN.displayName="Form";function IN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(n){let e=W.useContext(da);return tt(e,IN(n)),e}function SN(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:d}={}){let f=Xl(),p=Hi(),y=Jl(n,{relative:l});return W.useCallback(_=>{if(nN(_,e)){_.preventDefault();let I=t!==void 0?t:xl(p)===xl(y);f(n,{replace:I,state:i,preventScrollReset:o,relative:l,viewTransition:d})}},[p,f,y,t,i,e,n,o,l,d])}var CN=0,AN=()=>`__${String(++CN)}__`;function PN(){let{router:n}=DE("useSubmit"),{basename:e}=W.useContext(tr),t=Wx();return W.useCallback(async(i,o={})=>{let{action:l,method:d,encType:f,formData:p,body:y}=sN(i,e);if(o.navigate===!1){let _=o.fetcherKey||AN();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function kN(n,{relative:e}={}){let{basename:t}=W.useContext(tr),i=W.useContext(Tr);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Jl(n||".",{relative:e})},d=Hi();if(n==null){l.search=d.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(I=>I).forEach(I=>f.append("index",I));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Kr([t,l.pathname])),xl(l)}function RN(n,e={}){let t=W.useContext(SE);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=DE("useViewTransitionState"),o=Jl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=$i(t.currentLocation.pathname,i)||t.currentLocation.pathname,d=$i(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ld(o.pathname,d)!=null||ld(o.pathname,l)!=null}new TextEncoder;var LE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uw=Ts.createContext&&Ts.createContext(LE),bN=["attr","size","title"];function xN(n,e){if(n==null)return{};var t=NN(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function NN(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function ud(){return ud=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ud.apply(this,arguments)}function cw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function cd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cw(Object(t),!0).forEach(function(i){DN(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function DN(n,e,t){return e=LN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LN(n){var e=ON(n,"string");return typeof e=="symbol"?e:e+""}function ON(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function OE(n){return n&&n.map((e,t)=>Ts.createElement(e.tag,cd({key:t},e.attr),OE(e.child)))}function VE(n){return e=>Ts.createElement(VN,ud({attr:cd({},n.attr)},e),OE(n.child))}function VN(n){var e=t=>{var{attr:i,size:o,title:l}=n,d=xN(n,bN),f=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Ts.createElement("svg",ud({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,d,{className:p,style:cd(cd({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ts.createElement("title",null,l),n.children)};return uw!==void 0?Ts.createElement(uw.Consumer,null,t=>e(t)):e(LE)}function np(n){return VE({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"},child:[]}]})(n)}function rp(n){return VE({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},child:[]}]})(n)}const MN="mtess.sf@gmail.com",dw=n=>{const[e,t]=W.useState(""),[i,o]=W.useState(""),[l,d]=W.useState(!1),[f,p]=W.useState(!1),y=Xl(),_=async C=>{if(C.preventDefault(),n.checkAdmin&&e!==MN){ea("Correo no autorizado para acceso de administrador");return}p(!0);try{const D=await rx(e,i);D.emailVerified?(Ql("Inicio de sesin exitoso"),y(n.targetRoute)):wE(D)}catch(D){ea(D.message)}finally{p(!1)}},I=()=>{d(!l)};return q.jsxs("form",{id:"loginForm",className:"LoginForm",onSubmit:_,children:[q.jsx("h2",{children:n.title}),q.jsx("input",{type:"email",id:"email",placeholder:"Correo electrnico",required:!0,value:e,onChange:C=>t(C.target.value),autoComplete:"on"}),q.jsxs("div",{className:"password-container",children:[q.jsx("input",{type:l?"text":"password",id:"password",placeholder:"Contrasea",required:!0,value:i,onChange:C=>o(C.target.value),autoComplete:"new-password"}),q.jsx("button",{type:"button",className:"show-password-button",onClick:I,children:l?q.jsx(np,{}):q.jsx(rp,{})})]}),q.jsx("button",{className:"button",id:"loginButton",type:"submit",disabled:f,children:f?"Iniciando...":"Iniciar Sesin"})]})},FN=()=>{const[n,e]=W.useState(""),[t,i]=W.useState(""),[o,l]=W.useState(!1),[d,f]=W.useState(""),p=Xl(),[y,_]=W.useState(!1),I=async D=>{if(D.preventDefault(),t!==d){ea("Las contraseas no coinciden");return}_(!0);try{const F=await nx(n,t);Ql(`Para completar el registro debes confirmar el correo enviado a ${n}`),await zl.signOut(),p("/")}catch(F){ea(F.message)}finally{_(!1)}},C=()=>{l(!o)};return q.jsxs("form",{className:"RegisterForm",id:"registerForm",onSubmit:I,children:[q.jsx("h2",{children:"REGISTRAR NUEVO USUARIO"}),q.jsx("input",{type:"email",id:"registerEmail",placeholder:"Correo electrnico",autoComplete:"off",value:n,onChange:D=>e(D.target.value)}),q.jsxs("div",{className:"password-container",children:[q.jsx("input",{type:o?"text":"password",id:"registerPassword",placeholder:"Contrasea",autoComplete:"new-password",value:t,onChange:D=>i(D.target.value)}),q.jsx("button",{type:"button",className:"show-password-button",onClick:C,children:o?q.jsx(np,{}):q.jsx(rp,{})})]}),q.jsxs("div",{className:"password-container",children:[q.jsx("input",{type:o?"text":"password",id:"confirmPassword",placeholder:"Confirmar Contrasea",autoComplete:"new-password",value:d,onChange:D=>f(D.target.value)}),q.jsx("button",{type:"button",className:"show-password-button",onClick:C,children:o?q.jsx(np,{}):q.jsx(rp,{})})]}),q.jsx("button",{className:"button",id:"registerButton",type:"submit",disabled:y,children:y?"Registrando...":"Registrarse"})]})},UN=({element:n})=>{const{currentUser:e}=Wp();return e?e.emailVerified?n:(wE(e),q.jsx(aw,{to:"/"})):(sx("Debes iniciar sesin para acceder a esta pgina."),q.jsx(aw,{to:"/"}))},jN=()=>{const{currentUser:n}=Wp(),e=Xl(),t=async()=>{e("/"),await XA(zl),Ql("Sesin cerrada")};return q.jsx("nav",{children:q.jsx("ul",{children:n?n.emailVerified?q.jsx(q.Fragment,{children:q.jsx("li",{children:q.jsx("button",{onClick:t,children:"Cerrar sesin"})})}):q.jsxs(q.Fragment,{children:[q.jsx("li",{children:q.jsx(Lc,{to:"/",style:({isActive:i})=>({textDecoration:i?"underline":"none",textUnderlineOffset:"8px"}),children:"Verificar correo electrnico"})}),q.jsx("li",{children:q.jsx("button",{onClick:t,children:"Cerrar sesin"})})]}):q.jsxs(q.Fragment,{children:[q.jsx("li",{children:q.jsx(Lc,{to:"/",style:({isActive:i})=>({textDecoration:i?"underline":"none",textUnderlineOffset:"8px"}),children:"Iniciar sesin"})}),q.jsx("li",{children:q.jsx(Lc,{to:"/register",style:({isActive:i})=>({textDecoration:i?"underline":"none",textUnderlineOffset:"8px"}),children:"Registrarse"})})]})})})},BN=()=>q.jsx("section",{className:"List",children:q.jsx("h2",{children:"List"})}),zN=()=>q.jsxs("div",{className:"App",children:[q.jsx(YT,{}),q.jsxs("main",{children:[q.jsx(jN,{}),q.jsxs(Xx,{children:[q.jsx(Vo,{path:"/",element:q.jsx(dw,{title:"INICIAR SESIN",targetRoute:"/form",checkAdmin:!1})}),q.jsx(Vo,{path:"/admin",element:q.jsx(dw,{title:"ACCESO DE ADMINISTRADOR",targetRoute:"/admin/list",checkAdmin:!0})}),q.jsx(Vo,{path:"/register",element:q.jsx(FN,{})}),q.jsx(Vo,{path:"/form",element:q.jsx(UN,{element:q.jsx(ax,{})})}),q.jsx(Vo,{path:"/admin/list",element:q.jsx(BN,{})})]})]}),q.jsx(XT,{})]});QT.createRoot(document.getElementById("root")).render(q.jsx(W.StrictMode,{children:q.jsx(dk,{children:q.jsx(EN,{children:q.jsx(zN,{})})})}));
